function Sf(s,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function pu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Hg(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),n}var Rl={exports:{}},Bs={},Al={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function Kg(){if(Eh)return fe;Eh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function S(T,A,z){this.props=T,this.context=A,this.refs=x,this.updater=z||_}S.prototype.isReactComponent={},S.prototype.setState=function(T,A){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,A,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=S.prototype;function $(T,A,z){this.props=T,this.context=A,this.refs=x,this.updater=z||_}var P=$.prototype=new L;P.constructor=$,N(P,S.prototype),P.isPureReactComponent=!0;var F=Array.isArray,Y=Object.prototype.hasOwnProperty,re={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function W(T,A,z){var le,pe={},ge=null,be=null;if(A!=null)for(le in A.ref!==void 0&&(be=A.ref),A.key!==void 0&&(ge=""+A.key),A)Y.call(A,le)&&!ce.hasOwnProperty(le)&&(pe[le]=A[le]);var xe=arguments.length-2;if(xe===1)pe.children=z;else if(1<xe){for(var Ee=Array(xe),vt=0;vt<xe;vt++)Ee[vt]=arguments[vt+2];pe.children=Ee}if(T&&T.defaultProps)for(le in xe=T.defaultProps,xe)pe[le]===void 0&&(pe[le]=xe[le]);return{$$typeof:s,type:T,key:ge,ref:be,props:pe,_owner:re.current}}function G(T,A){return{$$typeof:s,type:T.type,key:A,ref:T.ref,props:T.props,_owner:T._owner}}function $e(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function at(T){var A={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(z){return A[z]})}var Qe=/\/+/g;function Ye(T,A){return typeof T=="object"&&T!==null&&T.key!=null?at(""+T.key):A.toString(36)}function ot(T,A,z,le,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var be=!1;if(T===null)be=!0;else switch(ge){case"string":case"number":be=!0;break;case"object":switch(T.$$typeof){case s:case r:be=!0}}if(be)return be=T,pe=pe(be),T=le===""?"."+Ye(be,0):le,F(pe)?(z="",T!=null&&(z=T.replace(Qe,"$&/")+"/"),ot(pe,A,z,"",function(vt){return vt})):pe!=null&&($e(pe)&&(pe=G(pe,z+(!pe.key||be&&be.key===pe.key?"":(""+pe.key).replace(Qe,"$&/")+"/")+T)),A.push(pe)),1;if(be=0,le=le===""?".":le+":",F(T))for(var xe=0;xe<T.length;xe++){ge=T[xe];var Ee=le+Ye(ge,xe);be+=ot(ge,A,z,Ee,pe)}else if(Ee=k(T),typeof Ee=="function")for(T=Ee.call(T),xe=0;!(ge=T.next()).done;)ge=ge.value,Ee=le+Ye(ge,xe++),be+=ot(ge,A,z,Ee,pe);else if(ge==="object")throw A=String(T),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return be}function lt(T,A,z){if(T==null)return T;var le=[],pe=0;return ot(T,le,"","",function(ge){return A.call(z,ge,pe++)}),le}function ue(T){if(T._status===-1){var A=T._result;A=A(),A.then(function(z){(T._status===0||T._status===-1)&&(T._status=1,T._result=z)},function(z){(T._status===0||T._status===-1)&&(T._status=2,T._result=z)}),T._status===-1&&(T._status=0,T._result=A)}if(T._status===1)return T._result.default;throw T._result}var he={current:null},B={transition:null},ee={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:B,ReactCurrentOwner:re};function H(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:lt,forEach:function(T,A,z){lt(T,function(){A.apply(this,arguments)},z)},count:function(T){var A=0;return lt(T,function(){A++}),A},toArray:function(T){return lt(T,function(A){return A})||[]},only:function(T){if(!$e(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},fe.Component=S,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=$,fe.StrictMode=a,fe.Suspense=m,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,fe.act=H,fe.cloneElement=function(T,A,z){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var le=N({},T.props),pe=T.key,ge=T.ref,be=T._owner;if(A!=null){if(A.ref!==void 0&&(ge=A.ref,be=re.current),A.key!==void 0&&(pe=""+A.key),T.type&&T.type.defaultProps)var xe=T.type.defaultProps;for(Ee in A)Y.call(A,Ee)&&!ce.hasOwnProperty(Ee)&&(le[Ee]=A[Ee]===void 0&&xe!==void 0?xe[Ee]:A[Ee])}var Ee=arguments.length-2;if(Ee===1)le.children=z;else if(1<Ee){xe=Array(Ee);for(var vt=0;vt<Ee;vt++)xe[vt]=arguments[vt+2];le.children=xe}return{$$typeof:s,type:T.type,key:pe,ref:ge,props:le,_owner:be}},fe.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},fe.createElement=W,fe.createFactory=function(T){var A=W.bind(null,T);return A.type=T,A},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:p,render:T}},fe.isValidElement=$e,fe.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:ue}},fe.memo=function(T,A){return{$$typeof:g,type:T,compare:A===void 0?null:A}},fe.startTransition=function(T){var A=B.transition;B.transition={};try{T()}finally{B.transition=A}},fe.unstable_act=H,fe.useCallback=function(T,A){return he.current.useCallback(T,A)},fe.useContext=function(T){return he.current.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T){return he.current.useDeferredValue(T)},fe.useEffect=function(T,A){return he.current.useEffect(T,A)},fe.useId=function(){return he.current.useId()},fe.useImperativeHandle=function(T,A,z){return he.current.useImperativeHandle(T,A,z)},fe.useInsertionEffect=function(T,A){return he.current.useInsertionEffect(T,A)},fe.useLayoutEffect=function(T,A){return he.current.useLayoutEffect(T,A)},fe.useMemo=function(T,A){return he.current.useMemo(T,A)},fe.useReducer=function(T,A,z){return he.current.useReducer(T,A,z)},fe.useRef=function(T){return he.current.useRef(T)},fe.useState=function(T){return he.current.useState(T)},fe.useSyncExternalStore=function(T,A,z){return he.current.useSyncExternalStore(T,A,z)},fe.useTransition=function(){return he.current.useTransition()},fe.version="18.3.1",fe}var Nh;function mu(){return Nh||(Nh=1,Al.exports=Kg()),Al.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function Jg(){if(Th)return Bs;Th=1;var s=mu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var y,w={},k=null,_=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(_=m.ref);for(y in m)a.call(m,y)&&!c.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:k,ref:_,props:w,_owner:o.current}}return Bs.Fragment=n,Bs.jsx=d,Bs.jsxs=d,Bs}var Ch;function Gg(){return Ch||(Ch=1,Rl.exports=Jg()),Rl.exports}var u=Gg(),I=mu();const Bn=pu(I),Qg=Sf({__proto__:null,default:Bn},[I]);var da={},Il={exports:{}},pt={},Ll={exports:{}},$l={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Yg(){return Ph||(Ph=1,(function(s){function r(B,ee){var H=B.length;B.push(ee);e:for(;0<H;){var T=H-1>>>1,A=B[T];if(0<o(A,ee))B[T]=ee,B[H]=A,H=T;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ee=B[0],H=B.pop();if(H!==ee){B[0]=H;e:for(var T=0,A=B.length,z=A>>>1;T<z;){var le=2*(T+1)-1,pe=B[le],ge=le+1,be=B[ge];if(0>o(pe,H))ge<A&&0>o(be,pe)?(B[T]=be,B[ge]=H,T=ge):(B[T]=pe,B[le]=H,T=le);else if(ge<A&&0>o(be,H))B[T]=be,B[ge]=H,T=ge;else break e}}return ee}function o(B,ee){var H=B.sortIndex-ee.sortIndex;return H!==0?H:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],g=[],y=1,w=null,k=3,_=!1,N=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var ee=n(g);ee!==null;){if(ee.callback===null)a(g);else if(ee.startTime<=B)a(g),ee.sortIndex=ee.expirationTime,r(m,ee);else break;ee=n(g)}}function F(B){if(x=!1,P(B),!N)if(n(m)!==null)N=!0,ue(Y);else{var ee=n(g);ee!==null&&he(F,ee.startTime-B)}}function Y(B,ee){N=!1,x&&(x=!1,L(W),W=-1),_=!0;var H=k;try{for(P(ee),w=n(m);w!==null&&(!(w.expirationTime>ee)||B&&!at());){var T=w.callback;if(typeof T=="function"){w.callback=null,k=w.priorityLevel;var A=T(w.expirationTime<=ee);ee=s.unstable_now(),typeof A=="function"?w.callback=A:w===n(m)&&a(m),P(ee)}else a(m);w=n(m)}if(w!==null)var z=!0;else{var le=n(g);le!==null&&he(F,le.startTime-ee),z=!1}return z}finally{w=null,k=H,_=!1}}var re=!1,ce=null,W=-1,G=5,$e=-1;function at(){return!(s.unstable_now()-$e<G)}function Qe(){if(ce!==null){var B=s.unstable_now();$e=B;var ee=!0;try{ee=ce(!0,B)}finally{ee?Ye():(re=!1,ce=null)}}else re=!1}var Ye;if(typeof $=="function")Ye=function(){$(Qe)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,lt=ot.port2;ot.port1.onmessage=Qe,Ye=function(){lt.postMessage(null)}}else Ye=function(){S(Qe,0)};function ue(B){ce=B,re||(re=!0,Ye())}function he(B,ee){W=S(function(){B(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){N||_||(N=!0,ue(Y))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(B){switch(k){case 1:case 2:case 3:var ee=3;break;default:ee=k}var H=k;k=ee;try{return B()}finally{k=H}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=k;k=B;try{return ee()}finally{k=H}},s.unstable_scheduleCallback=function(B,ee,H){var T=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?T+H:T):H=T,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=H+A,B={id:y++,callback:ee,priorityLevel:B,startTime:H,expirationTime:A,sortIndex:-1},H>T?(B.sortIndex=H,r(g,B),n(m)===null&&B===n(g)&&(x?(L(W),W=-1):x=!0,he(F,H-T))):(B.sortIndex=A,r(m,B),N||_||(N=!0,ue(Y))),B},s.unstable_shouldYield=at,s.unstable_wrapCallback=function(B){var ee=k;return function(){var H=k;k=ee;try{return B.apply(this,arguments)}finally{k=H}}}})($l)),$l}var Oh;function Xg(){return Oh||(Oh=1,Ll.exports=Yg()),Ll.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function Zg(){if(Rh)return pt;Rh=1;var s=mu(),r=Xg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function k(e){return m.call(w,e)?!0:m.call(y,e)?!1:g.test(e)?w[e]=!0:(y[e]=!0,!1)}function _(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,l){if(t===null||typeof t>"u"||_(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function x(e,t,i,l,h,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,$);S[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,$);S[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,$);S[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,i,l){var h=S.hasOwnProperty(t)?S[t]:null;(h!==null?h.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,h,l)&&(i=null),l||h===null?k(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,l=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var F=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),re=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),at=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),B=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,T;function A(e){if(T===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var z=!1;function le(e,t){if(!e||z)return"";z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var l=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){l=R}e.call(t.prototype)}else{try{throw Error()}catch(R){l=R}e()}}catch(R){if(R&&l&&typeof R.stack=="string"){for(var h=R.stack.split(`
`),f=l.stack.split(`
`),v=h.length-1,b=f.length-1;1<=v&&0<=b&&h[v]!==f[b];)b--;for(;1<=v&&0<=b;v--,b--)if(h[v]!==f[b]){if(v!==1||b!==1)do if(v--,b--,0>b||h[v]!==f[b]){var j=`
`+h[v].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=v&&0<=b);break}}}finally{z=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?A(e):""}function pe(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case re:return"Portal";case G:return"Profiler";case W:return"StrictMode";case Ye:return"Suspense";case ot:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case at:return(e.displayName||"Context")+".Consumer";case $e:return(e._context.displayName||"Context")+".Provider";case Qe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lt:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vt(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ti(e){e._valueTracker||(e._valueTracker=vt(e))}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Ee(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ua(e,t){var i=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Au(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=xe(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Iu(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function za(e,t){Iu(e,t);var i=xe(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,i):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ma(e,t,i){(t!=="number"||ri(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var rs=Array.isArray;function ln(e,t,i,l){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+xe(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Ba(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(rs(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:xe(i)}}function Du(e,t){var i=xe(t.value),l=xe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ni,Mu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qp=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){Qp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function Bu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function Fu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,h=Bu(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,h):e[i]=h}}var Yp=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(e,t){if(t){if(Yp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Wa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function Ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,un=null,cn=null;function Vu(e){if(e=Es(e)){if(typeof Ka!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Ei(t),Ka(e.stateNode,e.type,t))}}function Wu(e){un?cn?cn.push(e):cn=[e]:un=e}function qu(){if(un){var e=un,t=cn;if(cn=un=null,Vu(e),t)for(e=0;e<t.length;e++)Vu(t[e])}}function Hu(e,t){return e(t)}function Ku(){}var Ja=!1;function Ju(e,t,i){if(Ja)return e(t,i);Ja=!0;try{return Hu(e,t,i)}finally{Ja=!1,(un!==null||cn!==null)&&(Ku(),qu())}}function is(e,t){var i=e.stateNode;if(i===null)return null;var l=Ei(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ga=!1;if(p)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ga=!1}function Xp(e,t,i,l,h,f,v,b,j){var R=Array.prototype.slice.call(arguments,3);try{t.apply(i,R)}catch(U){this.onError(U)}}var os=!1,si=null,ii=!1,Qa=null,Zp={onError:function(e){os=!0,si=e}};function em(e,t,i,l,h,f,v,b,j){os=!1,si=null,Xp.apply(Zp,arguments)}function tm(e,t,i,l,h,f,v,b,j){if(em.apply(this,arguments),os){if(os){var R=si;os=!1,si=null}else throw Error(n(198));ii||(ii=!0,Qa=R)}}function Dr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qu(e){if(Dr(e)!==e)throw Error(n(188))}function rm(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,l=t;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return Qu(h),e;if(f===l)return Qu(h),t;f=f.sibling}throw Error(n(188))}if(i.return!==l.return)i=h,l=f;else{for(var v=!1,b=h.child;b;){if(b===i){v=!0,i=h,l=f;break}if(b===l){v=!0,l=h,i=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===i){v=!0,i=f,l=h;break}if(b===l){v=!0,l=f,i=h;break}b=b.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==l)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Yu(e){return e=rm(e),e!==null?Xu(e):null}function Xu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xu(e);if(t!==null)return t;e=e.sibling}return null}var Zu=r.unstable_scheduleCallback,ec=r.unstable_cancelCallback,nm=r.unstable_shouldYield,sm=r.unstable_requestPaint,Ae=r.unstable_now,im=r.unstable_getCurrentPriorityLevel,Ya=r.unstable_ImmediatePriority,tc=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,am=r.unstable_LowPriority,rc=r.unstable_IdlePriority,oi=null,Jt=null;function om(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(oi,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:cm,lm=Math.log,um=Math.LN2;function cm(e){return e>>>=0,e===0?32:31-(lm(e)/um|0)|0}var li=64,ui=4194304;function ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,h=e.suspendedLanes,f=e.pingedLanes,v=i&268435455;if(v!==0){var b=v&~h;b!==0?l=ls(b):(f&=v,f!==0&&(l=ls(f)))}else v=i&~h,v!==0?l=ls(v):f!==0&&(l=ls(f));if(l===0)return 0;if(t!==0&&t!==l&&(t&h)===0&&(h=l&-l,f=t&-t,h>=f||h===16&&(f&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Lt(t),h=1<<i,l|=e[i],t&=~h;return l}function dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-Lt(f),b=1<<v,j=h[v];j===-1?((b&i)===0||(b&l)!==0)&&(h[v]=dm(b,t)):j<=t&&(e.expiredLanes|=b),f&=~b}}function Xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nc(){var e=li;return li<<=1,(li&4194240)===0&&(li=64),e}function Za(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function us(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=i}function fm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Lt(i),f=1<<h;t[h]=0,l[h]=-1,e[h]=-1,i&=~f}}function eo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Lt(i),h=1<<l;h&t|e[l]&t&&(e[l]|=t),i&=~h}}var we=0;function sc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ic,to,ac,oc,lc,ro=!1,di=[],hr=null,fr=null,pr=null,cs=new Map,ds=new Map,mr=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function hs(e,t,i,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},t!==null&&(t=Es(t),t!==null&&to(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function mm(e,t,i,l,h){switch(t){case"focusin":return hr=hs(hr,e,t,i,l,h),!0;case"dragenter":return fr=hs(fr,e,t,i,l,h),!0;case"mouseover":return pr=hs(pr,e,t,i,l,h),!0;case"pointerover":var f=h.pointerId;return cs.set(f,hs(cs.get(f)||null,e,t,i,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ds.set(f,hs(ds.get(f)||null,e,t,i,l,h)),!0}return!1}function cc(e){var t=Ur(e.target);if(t!==null){var i=Dr(t);if(i!==null){if(t=i.tag,t===13){if(t=Gu(i),t!==null){e.blockedOn=t,lc(e.priority,function(){ac(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=so(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);qa=l,i.target.dispatchEvent(l),qa=null}else return t=Es(i),t!==null&&to(t),e.blockedOn=i,!1;t.shift()}return!0}function dc(e,t,i){hi(e)&&i.delete(t)}function gm(){ro=!1,hr!==null&&hi(hr)&&(hr=null),fr!==null&&hi(fr)&&(fr=null),pr!==null&&hi(pr)&&(pr=null),cs.forEach(dc),ds.forEach(dc)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,ro||(ro=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gm)))}function ps(e){function t(h){return fs(h,e)}if(0<di.length){fs(di[0],e);for(var i=1;i<di.length;i++){var l=di[i];l.blockedOn===e&&(l.blockedOn=null)}}for(hr!==null&&fs(hr,e),fr!==null&&fs(fr,e),pr!==null&&fs(pr,e),cs.forEach(t),ds.forEach(t),i=0;i<mr.length;i++)l=mr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<mr.length&&(i=mr[0],i.blockedOn===null);)cc(i),i.blockedOn===null&&mr.shift()}var dn=F.ReactCurrentBatchConfig,fi=!0;function vm(e,t,i,l){var h=we,f=dn.transition;dn.transition=null;try{we=1,no(e,t,i,l)}finally{we=h,dn.transition=f}}function ym(e,t,i,l){var h=we,f=dn.transition;dn.transition=null;try{we=4,no(e,t,i,l)}finally{we=h,dn.transition=f}}function no(e,t,i,l){if(fi){var h=so(e,t,i,l);if(h===null)_o(e,t,l,pi,i),uc(e,l);else if(mm(h,e,t,i,l))l.stopPropagation();else if(uc(e,l),t&4&&-1<pm.indexOf(e)){for(;h!==null;){var f=Es(h);if(f!==null&&ic(f),f=so(e,t,i,l),f===null&&_o(e,t,l,pi,i),f===h)break;h=f}h!==null&&l.stopPropagation()}else _o(e,t,l,null,i)}}var pi=null;function so(e,t,i,l){if(pi=null,e=Ha(l),e=Ur(e),e!==null)if(t=Dr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Gu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pi=e,null}function hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(im()){case Ya:return 1;case tc:return 4;case ai:case am:return 16;case rc:return 536870912;default:return 16}default:return 16}}var gr=null,io=null,mi=null;function fc(){if(mi)return mi;var e,t=io,i=t.length,l,h="value"in gr?gr.value:gr.textContent,f=h.length;for(e=0;e<i&&t[e]===h[e];e++);var v=i-e;for(l=1;l<=v&&t[i-l]===h[f-l];l++);return mi=h.slice(e,1<l?1-l:void 0)}function gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function pc(){return!1}function yt(e){function t(i,l,h,f,v){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vi:pc,this.isPropagationStopped=pc,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=yt(hn),ms=H({},hn,{view:0,detail:0}),xm=yt(ms),oo,lo,gs,yi=H({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(oo=e.screenX-gs.screenX,lo=e.screenY-gs.screenY):lo=oo=0,gs=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),mc=yt(yi),wm=H({},yi,{dataTransfer:0}),bm=yt(wm),_m=H({},ms,{relatedTarget:0}),uo=yt(_m),jm=H({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),km=yt(jm),Sm=H({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=yt(Sm),Nm=H({},hn,{data:0}),gc=yt(Nm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pm[e])?!!t[e]:!1}function co(){return Om}var Rm=H({},ms,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Am=yt(Rm),Im=H({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=yt(Im),Lm=H({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),$m=yt(Lm),Dm=H({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Um=yt(Dm),zm=H({},yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=yt(zm),Bm=[9,13,27,32],ho=p&&"CompositionEvent"in window,vs=null;p&&"documentMode"in document&&(vs=document.documentMode);var Fm=p&&"TextEvent"in window&&!vs,yc=p&&(!ho||vs&&8<vs&&11>=vs),xc=" ",wc=!1;function bc(e,t){switch(e){case"keyup":return Bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function Vm(e,t){switch(e){case"compositionend":return _c(t);case"keypress":return t.which!==32?null:(wc=!0,xc);case"textInput":return e=t.data,e===xc&&wc?null:e;default:return null}}function Wm(e,t){if(fn)return e==="compositionend"||!ho&&bc(e,t)?(e=fc(),mi=io=gr=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qm[e.type]:t==="textarea"}function kc(e,t,i,l){Wu(l),t=ji(t,"onChange"),0<t.length&&(i=new ao("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ys=null,xs=null;function Hm(e){Fc(e,0)}function xi(e){var t=yn(e);if(Ru(t))return e}function Km(e,t){if(e==="change")return t}var Sc=!1;if(p){var fo;if(p){var po="oninput"in document;if(!po){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),po=typeof Ec.oninput=="function"}fo=po}else fo=!1;Sc=fo&&(!document.documentMode||9<document.documentMode)}function Nc(){ys&&(ys.detachEvent("onpropertychange",Tc),xs=ys=null)}function Tc(e){if(e.propertyName==="value"&&xi(xs)){var t=[];kc(t,xs,e,Ha(e)),Ju(Hm,t)}}function Jm(e,t,i){e==="focusin"?(Nc(),ys=t,xs=i,ys.attachEvent("onpropertychange",Tc)):e==="focusout"&&Nc()}function Gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(xs)}function Qm(e,t){if(e==="click")return xi(t)}function Ym(e,t){if(e==="input"||e==="change")return xi(t)}function Xm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Xm;function ws(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!m.call(t,h)||!$t(e[h],t[h]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var i=Cc(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Cc(i)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ri(e.document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=Rc(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Oc(i.ownerDocument.documentElement,i)){if(l!==null&&mo(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!e.extend&&f>l&&(h=l,l=f,f=h),h=Pc(i,f);var v=Pc(i,l);h&&v&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),f>l?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eg=p&&"documentMode"in document&&11>=document.documentMode,pn=null,go=null,bs=null,vo=!1;function Ac(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vo||pn==null||pn!==ri(l)||(l=pn,"selectionStart"in l&&mo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bs&&ws(bs,l)||(bs=l,l=ji(go,"onSelect"),0<l.length&&(t=new ao("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=pn)))}function wi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mn={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},yo={},Ic={};p&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function bi(e){if(yo[e])return yo[e];if(!mn[e])return e;var t=mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ic)return yo[e]=t[i];return e}var Lc=bi("animationend"),$c=bi("animationiteration"),Dc=bi("animationstart"),Uc=bi("transitionend"),zc=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,t){zc.set(e,t),c(t,[e])}for(var xo=0;xo<Mc.length;xo++){var wo=Mc[xo],tg=wo.toLowerCase(),rg=wo[0].toUpperCase()+wo.slice(1);vr(tg,"on"+rg)}vr(Lc,"onAnimationEnd"),vr($c,"onAnimationIteration"),vr(Dc,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Uc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function Bc(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,tm(l,t,void 0,e),e.currentTarget=null}function Fc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var v=l.length-1;0<=v;v--){var b=l[v],j=b.instance,R=b.currentTarget;if(b=b.listener,j!==f&&h.isPropagationStopped())break e;Bc(h,b,R),f=j}else for(v=0;v<l.length;v++){if(b=l[v],j=b.instance,R=b.currentTarget,b=b.listener,j!==f&&h.isPropagationStopped())break e;Bc(h,b,R),f=j}}}if(ii)throw e=Qa,ii=!1,Qa=null,e}function ke(e,t){var i=t[To];i===void 0&&(i=t[To]=new Set);var l=e+"__bubble";i.has(l)||(Vc(t,e,2,!1),i.add(l))}function bo(e,t,i){var l=0;t&&(l|=4),Vc(i,e,l,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[_i]){e[_i]=!0,a.forEach(function(i){i!=="selectionchange"&&(ng.has(i)||bo(i,!1,e),bo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,bo("selectionchange",!1,t))}}function Vc(e,t,i,l){switch(hc(t)){case 1:var h=vm;break;case 4:h=ym;break;default:h=no}i=h.bind(null,t,i,e),h=void 0,!Ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function _o(e,t,i,l,h){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&(j=v.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;v=v.return}for(;b!==null;){if(v=Ur(b),v===null)return;if(j=v.tag,j===5||j===6){l=f=v;continue e}b=b.parentNode}}l=l.return}Ju(function(){var R=f,U=Ha(i),M=[];e:{var D=zc.get(e);if(D!==void 0){var q=ao,Q=e;switch(e){case"keypress":if(gi(i)===0)break e;case"keydown":case"keyup":q=Am;break;case"focusin":Q="focus",q=uo;break;case"focusout":Q="blur",q=uo;break;case"beforeblur":case"afterblur":q=uo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=$m;break;case Lc:case $c:case Dc:q=km;break;case Uc:q=Um;break;case"scroll":q=xm;break;case"wheel":q=Mm;break;case"copy":case"cut":case"paste":q=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=vc}var X=(t&4)!==0,Ie=!X&&e==="scroll",C=X?D!==null?D+"Capture":null:D;X=[];for(var E=R,O;E!==null;){O=E;var V=O.stateNode;if(O.tag===5&&V!==null&&(O=V,C!==null&&(V=is(E,C),V!=null&&X.push(ks(E,V,O)))),Ie)break;E=E.return}0<X.length&&(D=new q(D,Q,null,i,U),M.push({event:D,listeners:X}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",D&&i!==qa&&(Q=i.relatedTarget||i.fromElement)&&(Ur(Q)||Q[rr]))break e;if((q||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,q?(Q=i.relatedTarget||i.toElement,q=R,Q=Q?Ur(Q):null,Q!==null&&(Ie=Dr(Q),Q!==Ie||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(q=null,Q=R),q!==Q)){if(X=mc,V="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(X=vc,V="onPointerLeave",C="onPointerEnter",E="pointer"),Ie=q==null?D:yn(q),O=Q==null?D:yn(Q),D=new X(V,E+"leave",q,i,U),D.target=Ie,D.relatedTarget=O,V=null,Ur(U)===R&&(X=new X(C,E+"enter",Q,i,U),X.target=O,X.relatedTarget=Ie,V=X),Ie=V,q&&Q)t:{for(X=q,C=Q,E=0,O=X;O;O=gn(O))E++;for(O=0,V=C;V;V=gn(V))O++;for(;0<E-O;)X=gn(X),E--;for(;0<O-E;)C=gn(C),O--;for(;E--;){if(X===C||C!==null&&X===C.alternate)break t;X=gn(X),C=gn(C)}X=null}else X=null;q!==null&&Wc(M,D,q,X,!1),Q!==null&&Ie!==null&&Wc(M,Ie,Q,X,!0)}}e:{if(D=R?yn(R):window,q=D.nodeName&&D.nodeName.toLowerCase(),q==="select"||q==="input"&&D.type==="file")var te=Km;else if(jc(D))if(Sc)te=Ym;else{te=Gm;var ne=Jm}else(q=D.nodeName)&&q.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(te=Qm);if(te&&(te=te(e,R))){kc(M,te,i,U);break e}ne&&ne(e,D,R),e==="focusout"&&(ne=D._wrapperState)&&ne.controlled&&D.type==="number"&&Ma(D,"number",D.value)}switch(ne=R?yn(R):window,e){case"focusin":(jc(ne)||ne.contentEditable==="true")&&(pn=ne,go=R,bs=null);break;case"focusout":bs=go=pn=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Ac(M,i,U);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":Ac(M,i,U)}var se;if(ho)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else fn?bc(e,i)&&(ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ae="onCompositionStart");ae&&(yc&&i.locale!=="ko"&&(fn||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&fn&&(se=fc()):(gr=U,io="value"in gr?gr.value:gr.textContent,fn=!0)),ne=ji(R,ae),0<ne.length&&(ae=new gc(ae,e,null,i,U),M.push({event:ae,listeners:ne}),se?ae.data=se:(se=_c(i),se!==null&&(ae.data=se)))),(se=Fm?Vm(e,i):Wm(e,i))&&(R=ji(R,"onBeforeInput"),0<R.length&&(U=new gc("onBeforeInput","beforeinput",null,i,U),M.push({event:U,listeners:R}),U.data=se))}Fc(M,t)})}function ks(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ji(e,t){for(var i=t+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=is(e,i),f!=null&&l.unshift(ks(e,f,h)),f=is(e,t),f!=null&&l.push(ks(e,f,h))),e=e.return}return l}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,t,i,l,h){for(var f=t._reactName,v=[];i!==null&&i!==l;){var b=i,j=b.alternate,R=b.stateNode;if(j!==null&&j===l)break;b.tag===5&&R!==null&&(b=R,h?(j=is(i,f),j!=null&&v.unshift(ks(i,j,b))):h||(j=is(i,f),j!=null&&v.push(ks(i,j,b)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var sg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function qc(e){return(typeof e=="string"?e:""+e).replace(sg,`
`).replace(ig,"")}function ki(e,t,i){if(t=qc(t),qc(e)!==t&&i)throw Error(n(425))}function Si(){}var jo=null,ko=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,ag=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(lg)}:Eo;function lg(e){setTimeout(function(){throw e})}function No(e,t){var i=t,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(l===0){e.removeChild(h),ps(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=h}while(i);ps(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),Gt="__reactFiber$"+vn,Ss="__reactProps$"+vn,rr="__reactContainer$"+vn,To="__reactEvents$"+vn,ug="__reactListeners$"+vn,cg="__reactHandles$"+vn;function Ur(e){var t=e[Gt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[rr]||i[Gt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Kc(e);e!==null;){if(i=e[Gt])return i;e=Kc(e)}return t}e=i,i=e.parentNode}return null}function Es(e){return e=e[Gt]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ei(e){return e[Ss]||null}var Co=[],xn=-1;function xr(e){return{current:e}}function Se(e){0>xn||(e.current=Co[xn],Co[xn]=null,xn--)}function _e(e,t){xn++,Co[xn]=e.current,e.current=t}var wr={},Xe=xr(wr),ut=xr(!1),zr=wr;function wn(e,t){var i=e.type.contextTypes;if(!i)return wr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in i)h[f]=t[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ct(e){return e=e.childContextTypes,e!=null}function Ni(){Se(ut),Se(Xe)}function Jc(e,t,i){if(Xe.current!==wr)throw Error(n(168));_e(Xe,t),_e(ut,i)}function Gc(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var h in l)if(!(h in t))throw Error(n(108,be(e)||"Unknown",h));return H({},i,l)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,zr=Xe.current,_e(Xe,e),_e(ut,ut.current),!0}function Qc(e,t,i){var l=e.stateNode;if(!l)throw Error(n(169));i?(e=Gc(e,t,zr),l.__reactInternalMemoizedMergedChildContext=e,Se(ut),Se(Xe),_e(Xe,e)):Se(ut),_e(ut,i)}var nr=null,Ci=!1,Po=!1;function Yc(e){nr===null?nr=[e]:nr.push(e)}function dg(e){Ci=!0,Yc(e)}function br(){if(!Po&&nr!==null){Po=!0;var e=0,t=we;try{var i=nr;for(we=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}nr=null,Ci=!1}catch(h){throw nr!==null&&(nr=nr.slice(e+1)),Zu(Ya,br),h}finally{we=t,Po=!1}}return null}var bn=[],_n=0,Pi=null,Oi=0,Tt=[],Ct=0,Mr=null,sr=1,ir="";function Br(e,t){bn[_n++]=Oi,bn[_n++]=Pi,Pi=e,Oi=t}function Xc(e,t,i){Tt[Ct++]=sr,Tt[Ct++]=ir,Tt[Ct++]=Mr,Mr=e;var l=sr;e=ir;var h=32-Lt(l)-1;l&=~(1<<h),i+=1;var f=32-Lt(t)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,sr=1<<32-Lt(t)+h|i<<h|l,ir=f+e}else sr=1<<f|i<<h|l,ir=e}function Oo(e){e.return!==null&&(Br(e,1),Xc(e,1,0))}function Ro(e){for(;e===Pi;)Pi=bn[--_n],bn[_n]=null,Oi=bn[--_n],bn[_n]=null;for(;e===Mr;)Mr=Tt[--Ct],Tt[Ct]=null,ir=Tt[--Ct],Tt[Ct]=null,sr=Tt[--Ct],Tt[Ct]=null}var xt=null,wt=null,Ne=!1,Dt=null;function Zc(e,t){var i=At(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function ed(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,wt=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:sr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=At(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,xt=e,wt=null,!0):!1;default:return!1}}function Ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(Ne){var t=wt;if(t){var i=t;if(!ed(e,t)){if(Ao(e))throw Error(n(418));t=yr(i.nextSibling);var l=xt;t&&ed(e,t)?Zc(l,i):(e.flags=e.flags&-4097|2,Ne=!1,xt=e)}}else{if(Ao(e))throw Error(n(418));e.flags=e.flags&-4097|2,Ne=!1,xt=e}}}function td(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Ri(e){if(e!==xt)return!1;if(!Ne)return td(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=wt)){if(Ao(e))throw rd(),Error(n(418));for(;t;)Zc(e,t),t=yr(t.nextSibling)}if(td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){wt=yr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=xt?yr(e.stateNode.nextSibling):null;return!0}function rd(){for(var e=wt;e;)e=yr(e.nextSibling)}function jn(){wt=xt=null,Ne=!1}function Lo(e){Dt===null?Dt=[e]:Dt.push(e)}var hg=F.ReactCurrentBatchConfig;function Ns(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var l=i.stateNode}if(!l)throw Error(n(147,e));var h=l,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var b=h.refs;v===null?delete b[f]:b[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ai(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nd(e){var t=e._init;return t(e._payload)}function sd(e){function t(C,E){if(e){var O=C.deletions;O===null?(C.deletions=[E],C.flags|=16):O.push(E)}}function i(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function l(C,E){for(C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function h(C,E){return C=Cr(C,E),C.index=0,C.sibling=null,C}function f(C,E,O){return C.index=O,e?(O=C.alternate,O!==null?(O=O.index,O<E?(C.flags|=2,E):O):(C.flags|=2,E)):(C.flags|=1048576,E)}function v(C){return e&&C.alternate===null&&(C.flags|=2),C}function b(C,E,O,V){return E===null||E.tag!==6?(E=El(O,C.mode,V),E.return=C,E):(E=h(E,O),E.return=C,E)}function j(C,E,O,V){var te=O.type;return te===ce?U(C,E,O.props.children,V,O.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ue&&nd(te)===E.type)?(V=h(E,O.props),V.ref=Ns(C,E,O),V.return=C,V):(V=na(O.type,O.key,O.props,null,C.mode,V),V.ref=Ns(C,E,O),V.return=C,V)}function R(C,E,O,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==O.containerInfo||E.stateNode.implementation!==O.implementation?(E=Nl(O,C.mode,V),E.return=C,E):(E=h(E,O.children||[]),E.return=C,E)}function U(C,E,O,V,te){return E===null||E.tag!==7?(E=Gr(O,C.mode,V,te),E.return=C,E):(E=h(E,O),E.return=C,E)}function M(C,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return E=El(""+E,C.mode,O),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Y:return O=na(E.type,E.key,E.props,null,C.mode,O),O.ref=Ns(C,null,E),O.return=C,O;case re:return E=Nl(E,C.mode,O),E.return=C,E;case ue:var V=E._init;return M(C,V(E._payload),O)}if(rs(E)||ee(E))return E=Gr(E,C.mode,O,null),E.return=C,E;Ai(C,E)}return null}function D(C,E,O,V){var te=E!==null?E.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return te!==null?null:b(C,E,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return O.key===te?j(C,E,O,V):null;case re:return O.key===te?R(C,E,O,V):null;case ue:return te=O._init,D(C,E,te(O._payload),V)}if(rs(O)||ee(O))return te!==null?null:U(C,E,O,V,null);Ai(C,O)}return null}function q(C,E,O,V,te){if(typeof V=="string"&&V!==""||typeof V=="number")return C=C.get(O)||null,b(E,C,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Y:return C=C.get(V.key===null?O:V.key)||null,j(E,C,V,te);case re:return C=C.get(V.key===null?O:V.key)||null,R(E,C,V,te);case ue:var ne=V._init;return q(C,E,O,ne(V._payload),te)}if(rs(V)||ee(V))return C=C.get(O)||null,U(E,C,V,te,null);Ai(E,V)}return null}function Q(C,E,O,V){for(var te=null,ne=null,se=E,ae=E=0,qe=null;se!==null&&ae<O.length;ae++){se.index>ae?(qe=se,se=null):qe=se.sibling;var ve=D(C,se,O[ae],V);if(ve===null){se===null&&(se=qe);break}e&&se&&ve.alternate===null&&t(C,se),E=f(ve,E,ae),ne===null?te=ve:ne.sibling=ve,ne=ve,se=qe}if(ae===O.length)return i(C,se),Ne&&Br(C,ae),te;if(se===null){for(;ae<O.length;ae++)se=M(C,O[ae],V),se!==null&&(E=f(se,E,ae),ne===null?te=se:ne.sibling=se,ne=se);return Ne&&Br(C,ae),te}for(se=l(C,se);ae<O.length;ae++)qe=q(se,C,ae,O[ae],V),qe!==null&&(e&&qe.alternate!==null&&se.delete(qe.key===null?ae:qe.key),E=f(qe,E,ae),ne===null?te=qe:ne.sibling=qe,ne=qe);return e&&se.forEach(function(Pr){return t(C,Pr)}),Ne&&Br(C,ae),te}function X(C,E,O,V){var te=ee(O);if(typeof te!="function")throw Error(n(150));if(O=te.call(O),O==null)throw Error(n(151));for(var ne=te=null,se=E,ae=E=0,qe=null,ve=O.next();se!==null&&!ve.done;ae++,ve=O.next()){se.index>ae?(qe=se,se=null):qe=se.sibling;var Pr=D(C,se,ve.value,V);if(Pr===null){se===null&&(se=qe);break}e&&se&&Pr.alternate===null&&t(C,se),E=f(Pr,E,ae),ne===null?te=Pr:ne.sibling=Pr,ne=Pr,se=qe}if(ve.done)return i(C,se),Ne&&Br(C,ae),te;if(se===null){for(;!ve.done;ae++,ve=O.next())ve=M(C,ve.value,V),ve!==null&&(E=f(ve,E,ae),ne===null?te=ve:ne.sibling=ve,ne=ve);return Ne&&Br(C,ae),te}for(se=l(C,se);!ve.done;ae++,ve=O.next())ve=q(se,C,ae,ve.value,V),ve!==null&&(e&&ve.alternate!==null&&se.delete(ve.key===null?ae:ve.key),E=f(ve,E,ae),ne===null?te=ve:ne.sibling=ve,ne=ve);return e&&se.forEach(function(qg){return t(C,qg)}),Ne&&Br(C,ae),te}function Ie(C,E,O,V){if(typeof O=="object"&&O!==null&&O.type===ce&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:e:{for(var te=O.key,ne=E;ne!==null;){if(ne.key===te){if(te=O.type,te===ce){if(ne.tag===7){i(C,ne.sibling),E=h(ne,O.props.children),E.return=C,C=E;break e}}else if(ne.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ue&&nd(te)===ne.type){i(C,ne.sibling),E=h(ne,O.props),E.ref=Ns(C,ne,O),E.return=C,C=E;break e}i(C,ne);break}else t(C,ne);ne=ne.sibling}O.type===ce?(E=Gr(O.props.children,C.mode,V,O.key),E.return=C,C=E):(V=na(O.type,O.key,O.props,null,C.mode,V),V.ref=Ns(C,E,O),V.return=C,C=V)}return v(C);case re:e:{for(ne=O.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===O.containerInfo&&E.stateNode.implementation===O.implementation){i(C,E.sibling),E=h(E,O.children||[]),E.return=C,C=E;break e}else{i(C,E);break}else t(C,E);E=E.sibling}E=Nl(O,C.mode,V),E.return=C,C=E}return v(C);case ue:return ne=O._init,Ie(C,E,ne(O._payload),V)}if(rs(O))return Q(C,E,O,V);if(ee(O))return X(C,E,O,V);Ai(C,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,E!==null&&E.tag===6?(i(C,E.sibling),E=h(E,O),E.return=C,C=E):(i(C,E),E=El(O,C.mode,V),E.return=C,C=E),v(C)):i(C,E)}return Ie}var kn=sd(!0),id=sd(!1),Ii=xr(null),Li=null,Sn=null,$o=null;function Do(){$o=Sn=Li=null}function Uo(e){var t=Ii.current;Se(Ii),e._currentValue=t}function zo(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function En(e,t){Li=e,$o=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if($o!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Li===null)throw Error(n(308));Sn=e,Li.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Fr=null;function Mo(e){Fr===null?Fr=[e]:Fr.push(e)}function ad(e,t,i,l){var h=t.interleaved;return h===null?(i.next=i,Mo(t)):(i.next=h.next,h.next=i),t.interleaved=i,ar(e,l)}function ar(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _r=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(me&2)!==0){var h=l.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),l.pending=t,ar(e,i)}return h=l.interleaved,h===null?(t.next=t,Mo(l)):(t.next=h.next,h.next=t),l.interleaved=t,ar(e,i)}function $i(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,eo(e,i)}}function ld(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=t:f=f.next=t}else h=f=t;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Di(e,t,i,l){var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var j=b,R=j.next;j.next=null,v===null?f=R:v.next=R,v=j;var U=e.alternate;U!==null&&(U=U.updateQueue,b=U.lastBaseUpdate,b!==v&&(b===null?U.firstBaseUpdate=R:b.next=R,U.lastBaseUpdate=j))}if(f!==null){var M=h.baseState;v=0,U=R=j=null,b=f;do{var D=b.lane,q=b.eventTime;if((l&D)===D){U!==null&&(U=U.next={eventTime:q,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Q=e,X=b;switch(D=t,q=i,X.tag){case 1:if(Q=X.payload,typeof Q=="function"){M=Q.call(q,M,D);break e}M=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=X.payload,D=typeof Q=="function"?Q.call(q,M,D):Q,D==null)break e;M=H({},M,D);break e;case 2:_r=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,D=h.effects,D===null?h.effects=[b]:D.push(b))}else q={eventTime:q,lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},U===null?(R=U=q,j=M):U=U.next=q,v|=D;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;D=b,b=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);if(U===null&&(j=M),h.baseState=j,h.firstBaseUpdate=R,h.lastBaseUpdate=U,t=h.shared.interleaved,t!==null){h=t;do v|=h.lane,h=h.next;while(h!==t)}else f===null&&(h.shared.lanes=0);qr|=v,e.lanes=v,e.memoizedState=M}}function ud(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],h=l.callback;if(h!==null){if(l.callback=null,l=i,typeof h!="function")throw Error(n(191,h));h.call(l)}}}var Ts={},Qt=xr(Ts),Cs=xr(Ts),Ps=xr(Ts);function Vr(e){if(e===Ts)throw Error(n(174));return e}function Fo(e,t){switch(_e(Ps,t),_e(Cs,e),_e(Qt,Ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fa(t,e)}Se(Qt),_e(Qt,t)}function Nn(){Se(Qt),Se(Cs),Se(Ps)}function cd(e){Vr(Ps.current);var t=Vr(Qt.current),i=Fa(t,e.type);t!==i&&(_e(Cs,e),_e(Qt,i))}function Vo(e){Cs.current===e&&(Se(Qt),Se(Cs))}var Te=xr(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=[];function qo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var zi=F.ReactCurrentDispatcher,Ho=F.ReactCurrentBatchConfig,Wr=0,Ce=null,Be=null,Ve=null,Mi=!1,Os=!1,Rs=0,fg=0;function Ze(){throw Error(n(321))}function Ko(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!$t(e[i],t[i]))return!1;return!0}function Jo(e,t,i,l,h,f){if(Wr=f,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zi.current=e===null||e.memoizedState===null?vg:yg,e=i(l,h),Os){f=0;do{if(Os=!1,Rs=0,25<=f)throw Error(n(301));f+=1,Ve=Be=null,t.updateQueue=null,zi.current=xg,e=i(l,h)}while(Os)}if(zi.current=Vi,t=Be!==null&&Be.next!==null,Wr=0,Ve=Be=Ce=null,Mi=!1,t)throw Error(n(300));return e}function Go(){var e=Rs!==0;return Rs=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ot(){if(Be===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ve===null?Ce.memoizedState:Ve.next;if(t!==null)Ve=t,Be=e;else{if(e===null)throw Error(n(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ve===null?Ce.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function As(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=Ot(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=Be,h=l.baseQueue,f=i.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}l.baseQueue=h=f,i.pending=null}if(h!==null){f=h.next,l=l.baseState;var b=v=null,j=null,R=f;do{var U=R.lane;if((Wr&U)===U)j!==null&&(j=j.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),l=R.hasEagerState?R.eagerState:e(l,R.action);else{var M={lane:U,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};j===null?(b=j=M,v=l):j=j.next=M,Ce.lanes|=U,qr|=U}R=R.next}while(R!==null&&R!==f);j===null?v=l:j.next=b,$t(l,t.memoizedState)||(dt=!0),t.memoizedState=l,t.baseState=v,t.baseQueue=j,i.lastRenderedState=l}if(e=i.interleaved,e!==null){h=e;do f=h.lane,Ce.lanes|=f,qr|=f,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Yo(e){var t=Ot(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,f=t.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);$t(f,t.memoizedState)||(dt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function dd(){}function hd(e,t){var i=Ce,l=Ot(),h=t(),f=!$t(l.memoizedState,h);if(f&&(l.memoizedState=h,dt=!0),l=l.queue,Xo(md.bind(null,i,l,e),[e]),l.getSnapshot!==t||f||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,Is(9,pd.bind(null,i,l,h,t),void 0,null),We===null)throw Error(n(349));(Wr&30)!==0||fd(i,t,h)}return h}function fd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function pd(e,t,i,l){t.value=i,t.getSnapshot=l,gd(t)&&vd(e)}function md(e,t,i){return i(function(){gd(t)&&vd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!$t(e,i)}catch{return!0}}function vd(e){var t=ar(e,1);t!==null&&Bt(t,e,1,-1)}function yd(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=gg.bind(null,Ce,e),[t.memoizedState,e]}function Is(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function xd(){return Ot().memoizedState}function Bi(e,t,i,l){var h=Yt();Ce.flags|=e,h.memoizedState=Is(1|t,i,void 0,l===void 0?null:l)}function Fi(e,t,i,l){var h=Ot();l=l===void 0?null:l;var f=void 0;if(Be!==null){var v=Be.memoizedState;if(f=v.destroy,l!==null&&Ko(l,v.deps)){h.memoizedState=Is(t,i,f,l);return}}Ce.flags|=e,h.memoizedState=Is(1|t,i,f,l)}function wd(e,t){return Bi(8390656,8,e,t)}function Xo(e,t){return Fi(2048,8,e,t)}function bd(e,t){return Fi(4,2,e,t)}function _d(e,t){return Fi(4,4,e,t)}function jd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kd(e,t,i){return i=i!=null?i.concat([e]):null,Fi(4,4,jd.bind(null,t,e),i)}function Zo(){}function Sd(e,t){var i=Ot();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Ko(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function Ed(e,t){var i=Ot();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Ko(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function Nd(e,t,i){return(Wr&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=i):($t(i,t)||(i=nc(),Ce.lanes|=i,qr|=i,e.baseState=!0),t)}function pg(e,t){var i=we;we=i!==0&&4>i?i:4,e(!0);var l=Ho.transition;Ho.transition={};try{e(!1),t()}finally{we=i,Ho.transition=l}}function Td(){return Ot().memoizedState}function mg(e,t,i){var l=Nr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Cd(e))Pd(t,i);else if(i=ad(e,t,i,l),i!==null){var h=it();Bt(i,e,l,h),Od(i,t,l)}}function gg(e,t,i){var l=Nr(e),h={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cd(e))Pd(t,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,b=f(v,i);if(h.hasEagerState=!0,h.eagerState=b,$t(b,v)){var j=t.interleaved;j===null?(h.next=h,Mo(t)):(h.next=j.next,j.next=h),t.interleaved=h;return}}catch{}finally{}i=ad(e,t,h,l),i!==null&&(h=it(),Bt(i,e,l,h),Od(i,t,l))}}function Cd(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Pd(e,t){Os=Mi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Od(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,eo(e,i)}}var Vi={readContext:Pt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},vg={readContext:Pt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:wd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Bi(4194308,4,jd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var i=Yt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=Yt();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=mg.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:yd,useDebugValue:Zo,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=yd(!1),t=e[0];return e=pg.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=Ce,h=Yt();if(Ne){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),We===null)throw Error(n(349));(Wr&30)!==0||fd(l,t,i)}h.memoizedState=i;var f={value:i,getSnapshot:t};return h.queue=f,wd(md.bind(null,l,f,e),[e]),l.flags|=2048,Is(9,pd.bind(null,l,f,i,t),void 0,null),i},useId:function(){var e=Yt(),t=We.identifierPrefix;if(Ne){var i=ir,l=sr;i=(l&~(1<<32-Lt(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Rs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=fg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yg={readContext:Pt,useCallback:Sd,useContext:Pt,useEffect:Xo,useImperativeHandle:kd,useInsertionEffect:bd,useLayoutEffect:_d,useMemo:Ed,useReducer:Qo,useRef:xd,useState:function(){return Qo(As)},useDebugValue:Zo,useDeferredValue:function(e){var t=Ot();return Nd(t,Be.memoizedState,e)},useTransition:function(){var e=Qo(As)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:dd,useSyncExternalStore:hd,useId:Td,unstable_isNewReconciler:!1},xg={readContext:Pt,useCallback:Sd,useContext:Pt,useEffect:Xo,useImperativeHandle:kd,useInsertionEffect:bd,useLayoutEffect:_d,useMemo:Ed,useReducer:Yo,useRef:xd,useState:function(){return Yo(As)},useDebugValue:Zo,useDeferredValue:function(e){var t=Ot();return Be===null?t.memoizedState=e:Nd(t,Be.memoizedState,e)},useTransition:function(){var e=Yo(As)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:dd,useSyncExternalStore:hd,useId:Td,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function el(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:H({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Wi={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=it(),h=Nr(e),f=or(l,h);f.payload=t,i!=null&&(f.callback=i),t=jr(e,f,h),t!==null&&(Bt(t,e,h,l),$i(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=it(),h=Nr(e),f=or(l,h);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=jr(e,f,h),t!==null&&(Bt(t,e,h,l),$i(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=it(),l=Nr(e),h=or(i,l);h.tag=2,t!=null&&(h.callback=t),t=jr(e,h,l),t!==null&&(Bt(t,e,l,i),$i(t,e,l))}};function Rd(e,t,i,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):t.prototype&&t.prototype.isPureReactComponent?!ws(i,l)||!ws(h,f):!0}function Ad(e,t,i){var l=!1,h=wr,f=t.contextType;return typeof f=="object"&&f!==null?f=Pt(f):(h=ct(t)?zr:Xe.current,l=t.contextTypes,f=(l=l!=null)?wn(e,h):wr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=f),t}function Id(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function tl(e,t,i,l){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Bo(e);var f=t.contextType;typeof f=="object"&&f!==null?h.context=Pt(f):(f=ct(t)?zr:Xe.current,h.context=wn(e,f)),h.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(el(e,t,f,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Wi.enqueueReplaceState(h,h.state,null),Di(e,i,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Tn(e,t){try{var i="",l=t;do i+=pe(l),l=l.return;while(l);var h=i}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:h,digest:null}}function rl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function nl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var wg=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,i){i=or(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){Yi||(Yi=!0,yl=l),nl(e,t)},i}function $d(e,t,i){i=or(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=t.value;i.payload=function(){return l(h)},i.callback=function(){nl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){nl(e,t),typeof l!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),i}function Dd(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new wg;var h=new Set;l.set(t,h)}else h=l.get(t),h===void 0&&(h=new Set,l.set(t,h));h.has(i)||(h.add(i),e=Ig.bind(null,e,t,i),t.then(e,e))}function Ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zd(e,t,i,l,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=or(-1,1),t.tag=2,jr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var bg=F.ReactCurrentOwner,dt=!1;function st(e,t,i,l){t.child=e===null?id(t,null,i,l):kn(t,e.child,i,l)}function Md(e,t,i,l,h){i=i.render;var f=t.ref;return En(t,h),l=Jo(e,t,i,l,f,h),i=Go(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,lr(e,t,h)):(Ne&&i&&Oo(t),t.flags|=1,st(e,t,l,h),t.child)}function Bd(e,t,i,l,h){if(e===null){var f=i.type;return typeof f=="function"&&!Sl(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Fd(e,t,f,l,h)):(e=na(i.type,null,l,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&h)===0){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:ws,i(v,l)&&e.ref===t.ref)return lr(e,t,h)}return t.flags|=1,e=Cr(f,l),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,i,l,h){if(e!==null){var f=e.memoizedProps;if(ws(f,l)&&e.ref===t.ref)if(dt=!1,t.pendingProps=l=f,(e.lanes&h)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,lr(e,t,h)}return sl(e,t,i,l,h)}function Vd(e,t,i){var l=t.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Pn,bt),bt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Pn,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,_e(Pn,bt),bt|=l}else f!==null?(l=f.baseLanes|i,t.memoizedState=null):l=i,_e(Pn,bt),bt|=l;return st(e,t,h,i),t.child}function Wd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function sl(e,t,i,l,h){var f=ct(i)?zr:Xe.current;return f=wn(t,f),En(t,h),i=Jo(e,t,i,l,f,h),l=Go(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,lr(e,t,h)):(Ne&&l&&Oo(t),t.flags|=1,st(e,t,i,h),t.child)}function qd(e,t,i,l,h){if(ct(i)){var f=!0;Ti(t)}else f=!1;if(En(t,h),t.stateNode===null)Hi(e,t),Ad(t,i,l),tl(t,i,l,h),l=!0;else if(e===null){var v=t.stateNode,b=t.memoizedProps;v.props=b;var j=v.context,R=i.contextType;typeof R=="object"&&R!==null?R=Pt(R):(R=ct(i)?zr:Xe.current,R=wn(t,R));var U=i.getDerivedStateFromProps,M=typeof U=="function"||typeof v.getSnapshotBeforeUpdate=="function";M||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==l||j!==R)&&Id(t,v,l,R),_r=!1;var D=t.memoizedState;v.state=D,Di(t,l,v,h),j=t.memoizedState,b!==l||D!==j||ut.current||_r?(typeof U=="function"&&(el(t,i,U,l),j=t.memoizedState),(b=_r||Rd(t,i,b,l,D,j,R))?(M||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=j),v.props=l,v.state=j,v.context=R,l=b):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{v=t.stateNode,od(e,t),b=t.memoizedProps,R=t.type===t.elementType?b:Ut(t.type,b),v.props=R,M=t.pendingProps,D=v.context,j=i.contextType,typeof j=="object"&&j!==null?j=Pt(j):(j=ct(i)?zr:Xe.current,j=wn(t,j));var q=i.getDerivedStateFromProps;(U=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==M||D!==j)&&Id(t,v,l,j),_r=!1,D=t.memoizedState,v.state=D,Di(t,l,v,h);var Q=t.memoizedState;b!==M||D!==Q||ut.current||_r?(typeof q=="function"&&(el(t,i,q,l),Q=t.memoizedState),(R=_r||Rd(t,i,R,l,D,Q,j)||!1)?(U||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,Q,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,Q,j)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Q),v.props=l,v.state=Q,v.context=j,l=R):(typeof v.componentDidUpdate!="function"||b===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),l=!1)}return il(e,t,i,l,f,h)}function il(e,t,i,l,h,f){Wd(e,t);var v=(t.flags&128)!==0;if(!l&&!v)return h&&Qc(t,i,!1),lr(e,t,f);l=t.stateNode,bg.current=t;var b=v&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&v?(t.child=kn(t,e.child,null,f),t.child=kn(t,null,b,f)):st(e,t,b,f),t.memoizedState=l.state,h&&Qc(t,i,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),Fo(e,t.containerInfo)}function Kd(e,t,i,l,h){return jn(),Lo(h),t.flags|=256,st(e,t,i,l),t.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,i){var l=t.pendingProps,h=Te.current,f=!1,v=(t.flags&128)!==0,b;if((b=v)||(b=e!==null&&e.memoizedState===null?!1:(h&2)!==0),b?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),_e(Te,h&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=l.children,e=l.fallback,f?(l=t.mode,f=t.child,v={mode:"hidden",children:v},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=sa(v,l,0,null),e=Gr(e,l,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ol(i),t.memoizedState=al,e):ll(t,v));if(h=e.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return _g(e,t,v,l,b,h,i);if(f){f=l.fallback,v=t.mode,h=e.child,b=h.sibling;var j={mode:"hidden",children:l.children};return(v&1)===0&&t.child!==h?(l=t.child,l.childLanes=0,l.pendingProps=j,t.deletions=null):(l=Cr(h,j),l.subtreeFlags=h.subtreeFlags&14680064),b!==null?f=Cr(b,f):(f=Gr(f,v,i,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,v=e.child.memoizedState,v=v===null?ol(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~i,t.memoizedState=al,l}return f=e.child,e=f.sibling,l=Cr(f,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function ll(e,t){return t=sa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,i,l){return l!==null&&Lo(l),kn(t,e.child,null,i),e=ll(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _g(e,t,i,l,h,f,v){if(i)return t.flags&256?(t.flags&=-257,l=rl(Error(n(422))),qi(e,t,v,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=l.fallback,h=t.mode,l=sa({mode:"visible",children:l.children},h,0,null),f=Gr(f,h,v,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,(t.mode&1)!==0&&kn(t,e.child,null,v),t.child.memoizedState=ol(v),t.memoizedState=al,f);if((t.mode&1)===0)return qi(e,t,v,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var b=l.dgst;return l=b,f=Error(n(419)),l=rl(f,l,void 0),qi(e,t,v,l)}if(b=(v&e.childLanes)!==0,dt||b){if(l=We,l!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(l.suspendedLanes|v))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,ar(e,h),Bt(l,e,h,-1))}return kl(),l=rl(Error(n(421))),qi(e,t,v,l)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Lg.bind(null,e),h._reactRetry=t,null):(e=f.treeContext,wt=yr(h.nextSibling),xt=t,Ne=!0,Dt=null,e!==null&&(Tt[Ct++]=sr,Tt[Ct++]=ir,Tt[Ct++]=Mr,sr=e.id,ir=e.overflow,Mr=t),t=ll(t,l.children),t.flags|=4096,t)}function Gd(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),zo(e.return,t,i)}function ul(e,t,i,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=h)}function Qd(e,t,i){var l=t.pendingProps,h=l.revealOrder,f=l.tail;if(st(e,t,l.children,i),l=Te.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,i,t);else if(e.tag===19)Gd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(_e(Te,l),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&Ui(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),ul(t,!1,h,i,f);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Ui(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}ul(t,!0,i,null,f);break;case"together":ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function jg(e,t,i){switch(t.tag){case 3:Hd(t),jn();break;case 5:cd(t);break;case 1:ct(t.type)&&Ti(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,h=t.memoizedProps.value;_e(Ii,l._currentValue),l._currentValue=h;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Jd(e,t,i):(_e(Te,Te.current&1),e=lr(e,t,i),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Qd(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(Te,Te.current),l)break;return null;case 22:case 23:return t.lanes=0,Vd(e,t,i)}return lr(e,t,i)}var Yd,cl,Xd,Zd;Yd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},cl=function(){},Xd=function(e,t,i,l){var h=e.memoizedProps;if(h!==l){e=t.stateNode,Vr(Qt.current);var f=null;switch(i){case"input":h=Ua(e,h),l=Ua(e,l),f=[];break;case"select":h=H({},h,{value:void 0}),l=H({},l,{value:void 0}),f=[];break;case"textarea":h=Ba(e,h),l=Ba(e,l),f=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Si)}Va(i,l);var v;i=null;for(R in h)if(!l.hasOwnProperty(R)&&h.hasOwnProperty(R)&&h[R]!=null)if(R==="style"){var b=h[R];for(v in b)b.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(o.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in l){var j=l[R];if(b=h!=null?h[R]:void 0,l.hasOwnProperty(R)&&j!==b&&(j!=null||b!=null))if(R==="style")if(b){for(v in b)!b.hasOwnProperty(v)||j&&j.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in j)j.hasOwnProperty(v)&&b[v]!==j[v]&&(i||(i={}),i[v]=j[v])}else i||(f||(f=[]),f.push(R,i)),i=j;else R==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,b=b?b.__html:void 0,j!=null&&b!==j&&(f=f||[]).push(R,j)):R==="children"?typeof j!="string"&&typeof j!="number"||(f=f||[]).push(R,""+j):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(o.hasOwnProperty(R)?(j!=null&&R==="onScroll"&&ke("scroll",e),f||b===j||(f=[])):(f=f||[]).push(R,j))}i&&(f=f||[]).push("style",i);var R=f;(t.updateQueue=R)&&(t.flags|=4)}},Zd=function(e,t,i,l){i!==l&&(t.flags|=4)};function Ls(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function kg(e,t,i){var l=t.pendingProps;switch(Ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ct(t.type)&&Ni(),et(t),null;case 3:return l=t.stateNode,Nn(),Se(ut),Se(Xe),qo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dt!==null&&(bl(Dt),Dt=null))),cl(e,t),et(t),null;case 5:Vo(t);var h=Vr(Ps.current);if(i=t.type,e!==null&&t.stateNode!=null)Xd(e,t,i,l,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return et(t),null}if(e=Vr(Qt.current),Ri(t)){l=t.stateNode,i=t.type;var f=t.memoizedProps;switch(l[Gt]=t,l[Ss]=f,e=(t.mode&1)!==0,i){case"dialog":ke("cancel",l),ke("close",l);break;case"iframe":case"object":case"embed":ke("load",l);break;case"video":case"audio":for(h=0;h<_s.length;h++)ke(_s[h],l);break;case"source":ke("error",l);break;case"img":case"image":case"link":ke("error",l),ke("load",l);break;case"details":ke("toggle",l);break;case"input":Au(l,f),ke("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},ke("invalid",l);break;case"textarea":$u(l,f),ke("invalid",l)}Va(i,f),h=null;for(var v in f)if(f.hasOwnProperty(v)){var b=f[v];v==="children"?typeof b=="string"?l.textContent!==b&&(f.suppressHydrationWarning!==!0&&ki(l.textContent,b,e),h=["children",b]):typeof b=="number"&&l.textContent!==""+b&&(f.suppressHydrationWarning!==!0&&ki(l.textContent,b,e),h=["children",""+b]):o.hasOwnProperty(v)&&b!=null&&v==="onScroll"&&ke("scroll",l)}switch(i){case"input":ti(l),Lu(l,f,!0);break;case"textarea":ti(l),Uu(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Si)}l=h,t.updateQueue=l,l!==null&&(t.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(i,{is:l.is}):(e=v.createElement(i),i==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,i),e[Gt]=t,e[Ss]=l,Yd(e,t,!1,!1),t.stateNode=e;e:{switch(v=Wa(i,l),i){case"dialog":ke("cancel",e),ke("close",e),h=l;break;case"iframe":case"object":case"embed":ke("load",e),h=l;break;case"video":case"audio":for(h=0;h<_s.length;h++)ke(_s[h],e);h=l;break;case"source":ke("error",e),h=l;break;case"img":case"image":case"link":ke("error",e),ke("load",e),h=l;break;case"details":ke("toggle",e),h=l;break;case"input":Au(e,l),h=Ua(e,l),ke("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=H({},l,{value:void 0}),ke("invalid",e);break;case"textarea":$u(e,l),h=Ba(e,l),ke("invalid",e);break;default:h=l}Va(i,h),b=h;for(f in b)if(b.hasOwnProperty(f)){var j=b[f];f==="style"?Fu(e,j):f==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Mu(e,j)):f==="children"?typeof j=="string"?(i!=="textarea"||j!=="")&&ns(e,j):typeof j=="number"&&ns(e,""+j):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?j!=null&&f==="onScroll"&&ke("scroll",e):j!=null&&P(e,f,j,v))}switch(i){case"input":ti(e),Lu(e,l,!1);break;case"textarea":ti(e),Uu(e);break;case"option":l.value!=null&&e.setAttribute("value",""+xe(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?ln(e,!!l.multiple,f,!1):l.defaultValue!=null&&ln(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Si)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Zd(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(i=Vr(Ps.current),Vr(Qt.current),Ri(t)){if(l=t.stateNode,i=t.memoizedProps,l[Gt]=t,(f=l.nodeValue!==i)&&(e=xt,e!==null))switch(e.tag){case 3:ki(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(l.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Gt]=t,t.stateNode=l}return et(t),null;case 13:if(Se(Te),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)rd(),jn(),t.flags|=98560,f=!1;else if(f=Ri(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Gt]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),f=!1}else Dt!==null&&(bl(Dt),Dt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Te.current&1)!==0?Fe===0&&(Fe=3):kl())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Nn(),cl(e,t),e===null&&js(t.stateNode.containerInfo),et(t),null;case 10:return Uo(t.type._context),et(t),null;case 17:return ct(t.type)&&Ni(),et(t),null;case 19:if(Se(Te),f=t.memoizedState,f===null)return et(t),null;if(l=(t.flags&128)!==0,v=f.rendering,v===null)if(l)Ls(f,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=Ui(e),v!==null){for(t.flags|=128,Ls(f,!1),l=v.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)f=i,e=l,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ae()>On&&(t.flags|=128,l=!0,Ls(f,!1),t.lanes=4194304)}else{if(!l)if(e=Ui(v),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ls(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Ne)return et(t),null}else 2*Ae()-f.renderingStartTime>On&&i!==1073741824&&(t.flags|=128,l=!0,Ls(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(i=f.last,i!==null?i.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ae(),t.sibling=null,i=Te.current,_e(Te,l?i&1|2:i&1),t):(et(t),null);case 22:case 23:return jl(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(bt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Sg(e,t){switch(Ro(t),t.tag){case 1:return ct(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),Se(ut),Se(Xe),qo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Vo(t),null;case 13:if(Se(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Te),null;case 4:return Nn(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return jl(),null;case 24:return null;default:return null}}var Ki=!1,tt=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,K=null;function Cn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Re(e,t,l)}else i.current=null}function dl(e,t,i){try{i()}catch(l){Re(e,t,l)}}var eh=!1;function Ng(e,t){if(jo=fi,e=Rc(),mo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,b=-1,j=-1,R=0,U=0,M=e,D=null;t:for(;;){for(var q;M!==i||h!==0&&M.nodeType!==3||(b=v+h),M!==f||l!==0&&M.nodeType!==3||(j=v+l),M.nodeType===3&&(v+=M.nodeValue.length),(q=M.firstChild)!==null;)D=M,M=q;for(;;){if(M===e)break t;if(D===i&&++R===h&&(b=v),D===f&&++U===l&&(j=v),(q=M.nextSibling)!==null)break;M=D,D=M.parentNode}M=q}i=b===-1||j===-1?null:{start:b,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(ko={focusedElem:e,selectionRange:i},fi=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var X=Q.memoizedProps,Ie=Q.memoizedState,C=t.stateNode,E=C.getSnapshotBeforeUpdate(t.elementType===t.type?X:Ut(t.type,X),Ie);C.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(V){Re(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return Q=eh,eh=!1,Q}function $s(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var f=h.destroy;h.destroy=void 0,f!==void 0&&dl(t,i,f)}h=h.next}while(h!==l)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function hl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function th(e){var t=e.alternate;t!==null&&(e.alternate=null,th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Ss],delete t[To],delete t[ug],delete t[cg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rh(e){return e.tag===5||e.tag===3||e.tag===4}function nh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Si));else if(l!==4&&(e=e.child,e!==null))for(fl(e,t,i),e=e.sibling;e!==null;)fl(e,t,i),e=e.sibling}function pl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(pl(e,t,i),e=e.sibling;e!==null;)pl(e,t,i),e=e.sibling}var He=null,zt=!1;function kr(e,t,i){for(i=i.child;i!==null;)sh(e,t,i),i=i.sibling}function sh(e,t,i){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(oi,i)}catch{}switch(i.tag){case 5:tt||Cn(i,t);case 6:var l=He,h=zt;He=null,kr(e,t,i),He=l,zt=h,He!==null&&(zt?(e=He,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):He.removeChild(i.stateNode));break;case 18:He!==null&&(zt?(e=He,i=i.stateNode,e.nodeType===8?No(e.parentNode,i):e.nodeType===1&&No(e,i),ps(e)):No(He,i.stateNode));break;case 4:l=He,h=zt,He=i.stateNode.containerInfo,zt=!0,kr(e,t,i),He=l,zt=h;break;case 0:case 11:case 14:case 15:if(!tt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var f=h,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&dl(i,t,v),h=h.next}while(h!==l)}kr(e,t,i);break;case 1:if(!tt&&(Cn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(b){Re(i,t,b)}kr(e,t,i);break;case 21:kr(e,t,i);break;case 22:i.mode&1?(tt=(l=tt)||i.memoizedState!==null,kr(e,t,i),tt=l):kr(e,t,i);break;default:kr(e,t,i)}}function ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Eg),t.forEach(function(l){var h=$g.bind(null,e,l);i.has(l)||(i.add(l),l.then(h,h))})}}function Mt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];try{var f=e,v=t,b=v;e:for(;b!==null;){switch(b.tag){case 5:He=b.stateNode,zt=!1;break e;case 3:He=b.stateNode.containerInfo,zt=!0;break e;case 4:He=b.stateNode.containerInfo,zt=!0;break e}b=b.return}if(He===null)throw Error(n(160));sh(f,v,h),He=null,zt=!1;var j=h.alternate;j!==null&&(j.return=null),h.return=null}catch(R){Re(h,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}function ah(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Xt(e),l&4){try{$s(3,e,e.return),Ji(3,e)}catch(X){Re(e,e.return,X)}try{$s(5,e,e.return)}catch(X){Re(e,e.return,X)}}break;case 1:Mt(t,e),Xt(e),l&512&&i!==null&&Cn(i,i.return);break;case 5:if(Mt(t,e),Xt(e),l&512&&i!==null&&Cn(i,i.return),e.flags&32){var h=e.stateNode;try{ns(h,"")}catch(X){Re(e,e.return,X)}}if(l&4&&(h=e.stateNode,h!=null)){var f=e.memoizedProps,v=i!==null?i.memoizedProps:f,b=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{b==="input"&&f.type==="radio"&&f.name!=null&&Iu(h,f),Wa(b,v);var R=Wa(b,f);for(v=0;v<j.length;v+=2){var U=j[v],M=j[v+1];U==="style"?Fu(h,M):U==="dangerouslySetInnerHTML"?Mu(h,M):U==="children"?ns(h,M):P(h,U,M,R)}switch(b){case"input":za(h,f);break;case"textarea":Du(h,f);break;case"select":var D=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var q=f.value;q!=null?ln(h,!!f.multiple,q,!1):D!==!!f.multiple&&(f.defaultValue!=null?ln(h,!!f.multiple,f.defaultValue,!0):ln(h,!!f.multiple,f.multiple?[]:"",!1))}h[Ss]=f}catch(X){Re(e,e.return,X)}}break;case 6:if(Mt(t,e),Xt(e),l&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,f=e.memoizedProps;try{h.nodeValue=f}catch(X){Re(e,e.return,X)}}break;case 3:if(Mt(t,e),Xt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ps(t.containerInfo)}catch(X){Re(e,e.return,X)}break;case 4:Mt(t,e),Xt(e);break;case 13:Mt(t,e),Xt(e),h=e.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(vl=Ae())),l&4&&ih(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(tt=(R=tt)||U,Mt(t,e),tt=R):Mt(t,e),Xt(e),l&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!U&&(e.mode&1)!==0)for(K=e,U=e.child;U!==null;){for(M=K=U;K!==null;){switch(D=K,q=D.child,D.tag){case 0:case 11:case 14:case 15:$s(4,D,D.return);break;case 1:Cn(D,D.return);var Q=D.stateNode;if(typeof Q.componentWillUnmount=="function"){l=D,i=D.return;try{t=l,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(X){Re(l,i,X)}}break;case 5:Cn(D,D.return);break;case 22:if(D.memoizedState!==null){uh(M);continue}}q!==null?(q.return=D,K=q):uh(M)}U=U.sibling}e:for(U=null,M=e;;){if(M.tag===5){if(U===null){U=M;try{h=M.stateNode,R?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(b=M.stateNode,j=M.memoizedProps.style,v=j!=null&&j.hasOwnProperty("display")?j.display:null,b.style.display=Bu("display",v))}catch(X){Re(e,e.return,X)}}}else if(M.tag===6){if(U===null)try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(X){Re(e,e.return,X)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;U===M&&(U=null),M=M.return}U===M&&(U=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Mt(t,e),Xt(e),l&4&&ih(e);break;case 21:break;default:Mt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(rh(i)){var l=i;break e}i=i.return}throw Error(n(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(ns(h,""),l.flags&=-33);var f=nh(e);pl(e,f,h);break;case 3:case 4:var v=l.stateNode.containerInfo,b=nh(e);fl(e,b,v);break;default:throw Error(n(161))}}catch(j){Re(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tg(e,t,i){K=e,oh(e)}function oh(e,t,i){for(var l=(e.mode&1)!==0;K!==null;){var h=K,f=h.child;if(h.tag===22&&l){var v=h.memoizedState!==null||Ki;if(!v){var b=h.alternate,j=b!==null&&b.memoizedState!==null||tt;b=Ki;var R=tt;if(Ki=v,(tt=j)&&!R)for(K=h;K!==null;)v=K,j=v.child,v.tag===22&&v.memoizedState!==null?ch(h):j!==null?(j.return=v,K=j):ch(h);for(;f!==null;)K=f,oh(f),f=f.sibling;K=h,Ki=b,tt=R}lh(e)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,K=f):lh(e)}}function lh(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||Ji(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!tt)if(i===null)l.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:Ut(t.type,i.memoizedProps);l.componentDidUpdate(h,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&ud(t,f,l);break;case 3:var v=t.updateQueue;if(v!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ud(t,v,i)}break;case 5:var b=t.stateNode;if(i===null&&t.flags&4){i=b;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&i.focus();break;case"img":j.src&&(i.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var U=R.memoizedState;if(U!==null){var M=U.dehydrated;M!==null&&ps(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tt||t.flags&512&&hl(t)}catch(D){Re(t,t.return,D)}}if(t===e){K=null;break}if(i=t.sibling,i!==null){i.return=t.return,K=i;break}K=t.return}}function uh(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var i=t.sibling;if(i!==null){i.return=t.return,K=i;break}K=t.return}}function ch(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ji(4,t)}catch(j){Re(t,i,j)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var h=t.return;try{l.componentDidMount()}catch(j){Re(t,h,j)}}var f=t.return;try{hl(t)}catch(j){Re(t,f,j)}break;case 5:var v=t.return;try{hl(t)}catch(j){Re(t,v,j)}}}catch(j){Re(t,t.return,j)}if(t===e){K=null;break}var b=t.sibling;if(b!==null){b.return=t.return,K=b;break}K=t.return}}var Cg=Math.ceil,Gi=F.ReactCurrentDispatcher,ml=F.ReactCurrentOwner,Rt=F.ReactCurrentBatchConfig,me=0,We=null,De=null,Ke=0,bt=0,Pn=xr(0),Fe=0,Ds=null,qr=0,Qi=0,gl=0,Us=null,ht=null,vl=0,On=1/0,ur=null,Yi=!1,yl=null,Sr=null,Xi=!1,Er=null,Zi=0,zs=0,xl=null,ea=-1,ta=0;function it(){return(me&6)!==0?Ae():ea!==-1?ea:ea=Ae()}function Nr(e){return(e.mode&1)===0?1:(me&2)!==0&&Ke!==0?Ke&-Ke:hg.transition!==null?(ta===0&&(ta=nc()),ta):(e=we,e!==0||(e=window.event,e=e===void 0?16:hc(e.type)),e)}function Bt(e,t,i,l){if(50<zs)throw zs=0,xl=null,Error(n(185));us(e,i,l),((me&2)===0||e!==We)&&(e===We&&((me&2)===0&&(Qi|=i),Fe===4&&Tr(e,Ke)),ft(e,l),i===1&&me===0&&(t.mode&1)===0&&(On=Ae()+500,Ci&&br()))}function ft(e,t){var i=e.callbackNode;hm(e,t);var l=ci(e,e===We?Ke:0);if(l===0)i!==null&&ec(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&ec(i),t===1)e.tag===0?dg(hh.bind(null,e)):Yc(hh.bind(null,e)),og(function(){(me&6)===0&&br()}),i=null;else{switch(sc(l)){case 1:i=Ya;break;case 4:i=tc;break;case 16:i=ai;break;case 536870912:i=rc;break;default:i=ai}i=wh(i,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function dh(e,t){if(ea=-1,ta=0,(me&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Rn()&&e.callbackNode!==i)return null;var l=ci(e,e===We?Ke:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=ra(e,l);else{t=l;var h=me;me|=2;var f=ph();(We!==e||Ke!==t)&&(ur=null,On=Ae()+500,Kr(e,t));do try{Rg();break}catch(b){fh(e,b)}while(!0);Do(),Gi.current=f,me=h,De!==null?t=0:(We=null,Ke=0,t=Fe)}if(t!==0){if(t===2&&(h=Xa(e),h!==0&&(l=h,t=wl(e,h))),t===1)throw i=Ds,Kr(e,0),Tr(e,l),ft(e,Ae()),i;if(t===6)Tr(e,l);else{if(h=e.current.alternate,(l&30)===0&&!Pg(h)&&(t=ra(e,l),t===2&&(f=Xa(e),f!==0&&(l=f,t=wl(e,f))),t===1))throw i=Ds,Kr(e,0),Tr(e,l),ft(e,Ae()),i;switch(e.finishedWork=h,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:Jr(e,ht,ur);break;case 3:if(Tr(e,l),(l&130023424)===l&&(t=vl+500-Ae(),10<t)){if(ci(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){it(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Eo(Jr.bind(null,e,ht,ur),t);break}Jr(e,ht,ur);break;case 4:if(Tr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,h=-1;0<l;){var v=31-Lt(l);f=1<<v,v=t[v],v>h&&(h=v),l&=~f}if(l=h,l=Ae()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Cg(l/1960))-l,10<l){e.timeoutHandle=Eo(Jr.bind(null,e,ht,ur),l);break}Jr(e,ht,ur);break;case 5:Jr(e,ht,ur);break;default:throw Error(n(329))}}}return ft(e,Ae()),e.callbackNode===i?dh.bind(null,e):null}function wl(e,t){var i=Us;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=ra(e,t),e!==2&&(t=ht,ht=i,t!==null&&bl(t)),e}function bl(e){ht===null?ht=e:ht.push.apply(ht,e)}function Pg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var h=i[l],f=h.getSnapshot;h=h.value;try{if(!$t(f(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~gl,t&=~Qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Lt(t),l=1<<i;e[i]=-1,t&=~l}}function hh(e){if((me&6)!==0)throw Error(n(327));Rn();var t=ci(e,0);if((t&1)===0)return ft(e,Ae()),null;var i=ra(e,t);if(e.tag!==0&&i===2){var l=Xa(e);l!==0&&(t=l,i=wl(e,l))}if(i===1)throw i=Ds,Kr(e,0),Tr(e,t),ft(e,Ae()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,ht,ur),ft(e,Ae()),null}function _l(e,t){var i=me;me|=1;try{return e(t)}finally{me=i,me===0&&(On=Ae()+500,Ci&&br())}}function Hr(e){Er!==null&&Er.tag===0&&(me&6)===0&&Rn();var t=me;me|=1;var i=Rt.transition,l=we;try{if(Rt.transition=null,we=1,e)return e()}finally{we=l,Rt.transition=i,me=t,(me&6)===0&&br()}}function jl(){bt=Pn.current,Se(Pn)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ag(i)),De!==null)for(i=De.return;i!==null;){var l=i;switch(Ro(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ni();break;case 3:Nn(),Se(ut),Se(Xe),qo();break;case 5:Vo(l);break;case 4:Nn();break;case 13:Se(Te);break;case 19:Se(Te);break;case 10:Uo(l.type._context);break;case 22:case 23:jl()}i=i.return}if(We=e,De=e=Cr(e.current,null),Ke=bt=t,Fe=0,Ds=null,gl=Qi=qr=0,ht=Us=null,Fr!==null){for(t=0;t<Fr.length;t++)if(i=Fr[t],l=i.interleaved,l!==null){i.interleaved=null;var h=l.next,f=i.pending;if(f!==null){var v=f.next;f.next=h,l.next=v}i.pending=l}Fr=null}return e}function fh(e,t){do{var i=De;try{if(Do(),zi.current=Vi,Mi){for(var l=Ce.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}Mi=!1}if(Wr=0,Ve=Be=Ce=null,Os=!1,Rs=0,ml.current=null,i===null||i.return===null){Fe=1,Ds=t,De=null;break}e:{var f=e,v=i.return,b=i,j=t;if(t=Ke,b.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var R=j,U=b,M=U.tag;if((U.mode&1)===0&&(M===0||M===11||M===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var q=Ud(v);if(q!==null){q.flags&=-257,zd(q,v,b,f,t),q.mode&1&&Dd(f,R,t),t=q,j=R;var Q=t.updateQueue;if(Q===null){var X=new Set;X.add(j),t.updateQueue=X}else Q.add(j);break e}else{if((t&1)===0){Dd(f,R,t),kl();break e}j=Error(n(426))}}else if(Ne&&b.mode&1){var Ie=Ud(v);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),zd(Ie,v,b,f,t),Lo(Tn(j,b));break e}}f=j=Tn(j,b),Fe!==4&&(Fe=2),Us===null?Us=[f]:Us.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var C=Ld(f,j,t);ld(f,C);break e;case 1:b=j;var E=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Sr===null||!Sr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var V=$d(f,b,t);ld(f,V);break e}}f=f.return}while(f!==null)}gh(i)}catch(te){t=te,De===i&&i!==null&&(De=i=i.return);continue}break}while(!0)}function ph(){var e=Gi.current;return Gi.current=Vi,e===null?Vi:e}function kl(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||(qr&268435455)===0&&(Qi&268435455)===0||Tr(We,Ke)}function ra(e,t){var i=me;me|=2;var l=ph();(We!==e||Ke!==t)&&(ur=null,Kr(e,t));do try{Og();break}catch(h){fh(e,h)}while(!0);if(Do(),me=i,Gi.current=l,De!==null)throw Error(n(261));return We=null,Ke=0,Fe}function Og(){for(;De!==null;)mh(De)}function Rg(){for(;De!==null&&!nm();)mh(De)}function mh(e){var t=xh(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?gh(e):De=t,ml.current=null}function gh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=kg(i,t,bt),i!==null){De=i;return}}else{if(i=Sg(i,t),i!==null){i.flags&=32767,De=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Fe===0&&(Fe=5)}function Jr(e,t,i){var l=we,h=Rt.transition;try{Rt.transition=null,we=1,Ag(e,t,i,l)}finally{Rt.transition=h,we=l}return null}function Ag(e,t,i,l){do Rn();while(Er!==null);if((me&6)!==0)throw Error(n(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(fm(e,f),e===We&&(De=We=null,Ke=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Xi||(Xi=!0,wh(ai,function(){return Rn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Rt.transition,Rt.transition=null;var v=we;we=1;var b=me;me|=4,ml.current=null,Ng(e,i),ah(i,e),Zm(ko),fi=!!jo,ko=jo=null,e.current=i,Tg(i),sm(),me=b,we=v,Rt.transition=f}else e.current=i;if(Xi&&(Xi=!1,Er=e,Zi=h),f=e.pendingLanes,f===0&&(Sr=null),om(i.stateNode),ft(e,Ae()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],l(h.value,{componentStack:h.stack,digest:h.digest});if(Yi)throw Yi=!1,e=yl,yl=null,e;return(Zi&1)!==0&&e.tag!==0&&Rn(),f=e.pendingLanes,(f&1)!==0?e===xl?zs++:(zs=0,xl=e):zs=0,br(),null}function Rn(){if(Er!==null){var e=sc(Zi),t=Rt.transition,i=we;try{if(Rt.transition=null,we=16>e?16:e,Er===null)var l=!1;else{if(e=Er,Er=null,Zi=0,(me&6)!==0)throw Error(n(331));var h=me;for(me|=4,K=e.current;K!==null;){var f=K,v=f.child;if((K.flags&16)!==0){var b=f.deletions;if(b!==null){for(var j=0;j<b.length;j++){var R=b[j];for(K=R;K!==null;){var U=K;switch(U.tag){case 0:case 11:case 15:$s(8,U,f)}var M=U.child;if(M!==null)M.return=U,K=M;else for(;K!==null;){U=K;var D=U.sibling,q=U.return;if(th(U),U===R){K=null;break}if(D!==null){D.return=q,K=D;break}K=q}}}var Q=f.alternate;if(Q!==null){var X=Q.child;if(X!==null){Q.child=null;do{var Ie=X.sibling;X.sibling=null,X=Ie}while(X!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,K=v;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:$s(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,K=C;break e}K=f.return}}var E=e.current;for(K=E;K!==null;){v=K;var O=v.child;if((v.subtreeFlags&2064)!==0&&O!==null)O.return=v,K=O;else e:for(v=E;K!==null;){if(b=K,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Ji(9,b)}}catch(te){Re(b,b.return,te)}if(b===v){K=null;break e}var V=b.sibling;if(V!==null){V.return=b.return,K=V;break e}K=b.return}}if(me=h,br(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(oi,e)}catch{}l=!0}return l}finally{we=i,Rt.transition=t}}return!1}function vh(e,t,i){t=Tn(i,t),t=Ld(e,t,1),e=jr(e,t,1),t=it(),e!==null&&(us(e,1,t),ft(e,t))}function Re(e,t,i){if(e.tag===3)vh(e,e,i);else for(;t!==null;){if(t.tag===3){vh(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){e=Tn(i,e),e=$d(t,e,1),t=jr(t,e,1),e=it(),t!==null&&(us(t,1,e),ft(t,e));break}}t=t.return}}function Ig(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&i,We===e&&(Ke&i)===i&&(Fe===4||Fe===3&&(Ke&130023424)===Ke&&500>Ae()-vl?Kr(e,0):gl|=i),ft(e,t)}function yh(e,t){t===0&&((e.mode&1)===0?t=1:(t=ui,ui<<=1,(ui&130023424)===0&&(ui=4194304)));var i=it();e=ar(e,t),e!==null&&(us(e,t,i),ft(e,i))}function Lg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),yh(e,i)}function $g(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),yh(e,i)}var xh;xh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return dt=!1,jg(e,t,i);dt=(e.flags&131072)!==0}else dt=!1,Ne&&(t.flags&1048576)!==0&&Xc(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Hi(e,t),e=t.pendingProps;var h=wn(t,Xe.current);En(t,i),h=Jo(null,t,l,e,h,i);var f=Go();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(l)?(f=!0,Ti(t)):f=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Bo(t),h.updater=Wi,t.stateNode=h,h._reactInternals=t,tl(t,l,e,i),t=il(null,t,l,!0,f,i)):(t.tag=0,Ne&&f&&Oo(t),st(null,t,h,i),t=t.child),t;case 16:l=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,h=l._init,l=h(l._payload),t.type=l,h=t.tag=Ug(l),e=Ut(l,e),h){case 0:t=sl(null,t,l,e,i);break e;case 1:t=qd(null,t,l,e,i);break e;case 11:t=Md(null,t,l,e,i);break e;case 14:t=Bd(null,t,l,Ut(l.type,e),i);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,h=t.pendingProps,h=t.elementType===l?h:Ut(l,h),sl(e,t,l,h,i);case 1:return l=t.type,h=t.pendingProps,h=t.elementType===l?h:Ut(l,h),qd(e,t,l,h,i);case 3:e:{if(Hd(t),e===null)throw Error(n(387));l=t.pendingProps,f=t.memoizedState,h=f.element,od(e,t),Di(t,l,null,i);var v=t.memoizedState;if(l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){h=Tn(Error(n(423)),t),t=Kd(e,t,l,i,h);break e}else if(l!==h){h=Tn(Error(n(424)),t),t=Kd(e,t,l,i,h);break e}else for(wt=yr(t.stateNode.containerInfo.firstChild),xt=t,Ne=!0,Dt=null,i=id(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(jn(),l===h){t=lr(e,t,i);break e}st(e,t,l,i)}t=t.child}return t;case 5:return cd(t),e===null&&Io(t),l=t.type,h=t.pendingProps,f=e!==null?e.memoizedProps:null,v=h.children,So(l,h)?v=null:f!==null&&So(l,f)&&(t.flags|=32),Wd(e,t),st(e,t,v,i),t.child;case 6:return e===null&&Io(t),null;case 13:return Jd(e,t,i);case 4:return Fo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kn(t,null,l,i):st(e,t,l,i),t.child;case 11:return l=t.type,h=t.pendingProps,h=t.elementType===l?h:Ut(l,h),Md(e,t,l,h,i);case 7:return st(e,t,t.pendingProps,i),t.child;case 8:return st(e,t,t.pendingProps.children,i),t.child;case 12:return st(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,h=t.pendingProps,f=t.memoizedProps,v=h.value,_e(Ii,l._currentValue),l._currentValue=v,f!==null)if($t(f.value,v)){if(f.children===h.children&&!ut.current){t=lr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var b=f.dependencies;if(b!==null){v=f.child;for(var j=b.firstContext;j!==null;){if(j.context===l){if(f.tag===1){j=or(-1,i&-i),j.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var U=R.pending;U===null?j.next=j:(j.next=U.next,U.next=j),R.pending=j}}f.lanes|=i,j=f.alternate,j!==null&&(j.lanes|=i),zo(f.return,i,t),b.lanes|=i;break}j=j.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=i,b=v.alternate,b!==null&&(b.lanes|=i),zo(v,i,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}st(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,l=t.pendingProps.children,En(t,i),h=Pt(h),l=l(h),t.flags|=1,st(e,t,l,i),t.child;case 14:return l=t.type,h=Ut(l,t.pendingProps),h=Ut(l.type,h),Bd(e,t,l,h,i);case 15:return Fd(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,h=t.pendingProps,h=t.elementType===l?h:Ut(l,h),Hi(e,t),t.tag=1,ct(l)?(e=!0,Ti(t)):e=!1,En(t,i),Ad(t,l,h),tl(t,l,h,i),il(null,t,l,!0,e,i);case 19:return Qd(e,t,i);case 22:return Vd(e,t,i)}throw Error(n(156,t.tag))};function wh(e,t){return Zu(e,t)}function Dg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,l){return new Dg(e,t,i,l)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ug(e){if(typeof e=="function")return Sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qe)return 11;if(e===lt)return 14}return 2}function Cr(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function na(e,t,i,l,h,f){var v=2;if(l=e,typeof e=="function")Sl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case ce:return Gr(i.children,h,f,t);case W:v=8,h|=8;break;case G:return e=At(12,i,t,h|2),e.elementType=G,e.lanes=f,e;case Ye:return e=At(13,i,t,h),e.elementType=Ye,e.lanes=f,e;case ot:return e=At(19,i,t,h),e.elementType=ot,e.lanes=f,e;case he:return sa(i,h,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $e:v=10;break e;case at:v=9;break e;case Qe:v=11;break e;case lt:v=14;break e;case ue:v=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=At(v,i,t,h),t.elementType=e,t.type=l,t.lanes=f,t}function Gr(e,t,i,l){return e=At(7,e,l,t),e.lanes=i,e}function sa(e,t,i,l){return e=At(22,e,l,t),e.elementType=he,e.lanes=i,e.stateNode={isHidden:!1},e}function El(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function Nl(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zg(e,t,i,l,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Tl(e,t,i,l,h,f,v,b,j){return e=new zg(e,t,i,b,j),t===1?(t=1,f===!0&&(t|=8)):t=0,f=At(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(f),e}function Mg(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function bh(e){if(!e)return wr;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(ct(i))return Gc(e,i,t)}return t}function _h(e,t,i,l,h,f,v,b,j){return e=Tl(i,l,!0,e,h,f,v,b,j),e.context=bh(null),i=e.current,l=it(),h=Nr(i),f=or(l,h),f.callback=t??null,jr(i,f,h),e.current.lanes=h,us(e,h,l),ft(e,l),e}function ia(e,t,i,l){var h=t.current,f=it(),v=Nr(h);return i=bh(i),t.context===null?t.context=i:t.pendingContext=i,t=or(f,v),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=jr(h,t,v),e!==null&&(Bt(e,h,v,f),$i(e,h,v)),v}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Cl(e,t){jh(e,t),(e=e.alternate)&&jh(e,t)}function Bg(){return null}var kh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pl(e){this._internalRoot=e}oa.prototype.render=Pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ia(e,t,null,null)},oa.prototype.unmount=Pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){ia(null,e,null,null)}),t[rr]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=oc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<mr.length&&t!==0&&t<mr[i].priority;i++);mr.splice(i,0,e),i===0&&cc(e)}};function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function Fg(e,t,i,l,h){if(h){if(typeof l=="function"){var f=l;l=function(){var R=aa(v);f.call(R)}}var v=_h(t,l,e,0,null,!1,!1,"",Sh);return e._reactRootContainer=v,e[rr]=v.current,js(e.nodeType===8?e.parentNode:e),Hr(),v}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var b=l;l=function(){var R=aa(j);b.call(R)}}var j=Tl(e,0,!1,null,null,!1,!1,"",Sh);return e._reactRootContainer=j,e[rr]=j.current,js(e.nodeType===8?e.parentNode:e),Hr(function(){ia(t,j,i,l)}),j}function ua(e,t,i,l,h){var f=i._reactRootContainer;if(f){var v=f;if(typeof h=="function"){var b=h;h=function(){var j=aa(v);b.call(j)}}ia(t,v,e,h)}else v=Fg(i,t,e,h,l);return aa(v)}ic=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ls(t.pendingLanes);i!==0&&(eo(t,i|1),ft(t,Ae()),(me&6)===0&&(On=Ae()+500,br()))}break;case 13:Hr(function(){var l=ar(e,1);if(l!==null){var h=it();Bt(l,e,1,h)}}),Cl(e,1)}},to=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var i=it();Bt(t,e,134217728,i)}Cl(e,134217728)}},ac=function(e){if(e.tag===13){var t=Nr(e),i=ar(e,t);if(i!==null){var l=it();Bt(i,e,t,l)}Cl(e,t)}},oc=function(){return we},lc=function(e,t){var i=we;try{return we=e,t()}finally{we=i}},Ka=function(e,t,i){switch(t){case"input":if(za(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var h=Ei(l);if(!h)throw Error(n(90));Ru(l),za(l,h)}}}break;case"textarea":Du(e,i);break;case"select":t=i.value,t!=null&&ln(e,!!i.multiple,t,!1)}},Hu=_l,Ku=Hr;var Vg={usingClientEntryPoint:!1,Events:[Es,yn,Ei,Wu,qu,_l]},Ms={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wg={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{oi=ca.inject(Wg),Jt=ca}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg,pt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ol(t))throw Error(n(200));return Mg(e,t,null,i)},pt.createRoot=function(e,t){if(!Ol(e))throw Error(n(299));var i=!1,l="",h=kh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Tl(e,1,!1,null,null,i,!1,l,h),e[rr]=t.current,js(e.nodeType===8?e.parentNode:e),new Pl(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Yu(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Hr(e)},pt.hydrate=function(e,t,i){if(!la(t))throw Error(n(200));return ua(null,e,t,!0,i)},pt.hydrateRoot=function(e,t,i){if(!Ol(e))throw Error(n(405));var l=i!=null&&i.hydratedSources||null,h=!1,f="",v=kh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),t=_h(t,null,e,1,i??null,h,!1,f,v),e[rr]=t.current,js(e),l)for(e=0;e<l.length;e++)i=l[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new oa(t)},pt.render=function(e,t,i){if(!la(t))throw Error(n(200));return ua(null,e,t,!1,i)},pt.unmountComponentAtNode=function(e){if(!la(e))throw Error(n(40));return e._reactRootContainer?(Hr(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1},pt.unstable_batchedUpdates=_l,pt.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!la(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ua(e,t,i,!1,l)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Ah;function Ef(){if(Ah)return Il.exports;Ah=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Il.exports=Zg(),Il.exports}var Ih;function ev(){if(Ih)return da;Ih=1;var s=Ef();return da.createRoot=s.createRoot,da.hydrateRoot=s.hydrateRoot,da}var tv=ev();const rv=pu(tv);Ef();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Hs.apply(this,arguments)}var Ar;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Ar||(Ar={}));const Lh="popstate";function nv(s){s===void 0&&(s={});function r(a,o){let{pathname:c,search:d,hash:p}=a.location;return ql("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:_a(o)}return iv(r,n,null,s)}function Le(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function gu(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function sv(){return Math.random().toString(36).substr(2,8)}function $h(s,r){return{usr:s.state,key:s.key,idx:r}}function ql(s,r,n,a){return n===void 0&&(n=null),Hs({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Xn(r):r,{state:n,key:r&&r.key||a||sv()})}function _a(s){let{pathname:r="/",search:n="",hash:a=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Xn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substr(a),s=s.substr(0,a)),s&&(r.pathname=s)}return r}function iv(s,r,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,p=Ar.Pop,m=null,g=y();g==null&&(g=0,d.replaceState(Hs({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function w(){p=Ar.Pop;let S=y(),L=S==null?null:S-g;g=S,m&&m({action:p,location:x.location,delta:L})}function k(S,L){p=Ar.Push;let $=ql(x.location,S,L);g=y()+1;let P=$h($,g),F=x.createHref($);try{d.pushState(P,"",F)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(F)}c&&m&&m({action:p,location:x.location,delta:1})}function _(S,L){p=Ar.Replace;let $=ql(x.location,S,L);g=y();let P=$h($,g),F=x.createHref($);d.replaceState(P,"",F),c&&m&&m({action:p,location:x.location,delta:0})}function N(S){let L=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof S=="string"?S:_a(S);return $=$.replace(/ $/,"%20"),Le(L,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,L)}let x={get action(){return p},get location(){return s(o,d)},listen(S){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Lh,w),m=S,()=>{o.removeEventListener(Lh,w),m=null}},createHref(S){return r(o,S)},createURL:N,encodeLocation(S){let L=N(S);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:k,replace:_,go(S){return d.go(S)}};return x}var Dh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Dh||(Dh={}));function av(s,r,n){return n===void 0&&(n="/"),ov(s,r,n)}function ov(s,r,n,a){let o=typeof r=="string"?Xn(r):r,c=vu(o.pathname||"/",n);if(c==null)return null;let d=Nf(s);lv(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=wv(c);p=vv(d[m],g)}return p}function Nf(s,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(Le(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let g=Ir([a,m.relativePath]),y=n.concat(m);c.children&&c.children.length>0&&(Le(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Nf(c.children,r,y,g)),!(c.path==null&&!c.index)&&r.push({path:g,score:mv(g,c.index),routesMeta:y})};return s.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))o(c,d);else for(let m of Tf(c.path))o(c,d,m)}),r}function Tf(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=Tf(a.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function lv(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:gv(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const uv=/^:[\w-]+$/,cv=3,dv=2,hv=1,fv=10,pv=-2,Uh=s=>s==="*";function mv(s,r){let n=s.split("/"),a=n.length;return n.some(Uh)&&(a+=pv),r&&(a+=dv),n.filter(o=>!Uh(o)).reduce((o,c)=>o+(uv.test(c)?cv:c===""?hv:fv),a)}function gv(s,r){return s.length===r.length&&s.slice(0,-1).every((a,o)=>a===r[o])?s[s.length-1]-r[r.length-1]:0}function vv(s,r,n){let{routesMeta:a}=s,o={},c="/",d=[];for(let p=0;p<a.length;++p){let m=a[p],g=p===a.length-1,y=c==="/"?r:r.slice(c.length)||"/",w=yv({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),k=m.route;if(!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Ir([c,w.pathname]),pathnameBase:Sv(Ir([c,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(c=Ir([c,w.pathnameBase]))}return d}function yv(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=xv(s.path,s.caseSensitive,s.end),o=r.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((g,y,w)=>{let{paramName:k,isOptional:_}=y;if(k==="*"){let x=p[w]||"";d=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const N=p[w];return _&&!N?g[k]=void 0:g[k]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function xv(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),gu(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),a]}function wv(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return gu(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function vu(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}const bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_v=s=>bv.test(s);function jv(s,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?Xn(s):s,c;if(n)if(_v(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),gu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?c=zh(n.substring(1),"/"):c=zh(n,r)}else c=r;return{pathname:c,search:Ev(a),hash:Nv(o)}}function zh(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dl(s,r,n,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kv(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function yu(s,r){let n=kv(s);return r?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function xu(s,r,n,a){a===void 0&&(a=!1);let o;typeof s=="string"?o=Xn(s):(o=Hs({},s),Le(!o.pathname||!o.pathname.includes("?"),Dl("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Dl("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Dl("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let w=r.length-1;if(!a&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),w-=1;o.pathname=k.join("/")}p=w>=0?r[w]:"/"}let m=jv(o,p),g=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const Ir=s=>s.join("/").replace(/\/\/+/g,"/"),Sv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ev=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Nv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Tv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Cf=["post","put","patch","delete"];new Set(Cf);const Cv=["get",...Cf];new Set(Cv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Ks.apply(this,arguments)}const wu=I.createContext(null),Pv=I.createContext(null),Lr=I.createContext(null),Ra=I.createContext(null),cr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=I.createContext(null);function Ov(s,r){let{relative:n}=r===void 0?{}:r;Zn()||Le(!1);let{basename:a,navigator:o}=I.useContext(Lr),{hash:c,pathname:d,search:p}=Af(s,{relative:n}),m=d;return a!=="/"&&(m=d==="/"?a:Ir([a,d])),o.createHref({pathname:m,search:p,hash:c})}function Zn(){return I.useContext(Ra)!=null}function on(){return Zn()||Le(!1),I.useContext(Ra).location}function Of(s){I.useContext(Lr).static||I.useLayoutEffect(s)}function $r(){let{isDataRoute:s}=I.useContext(cr);return s?Wv():Rv()}function Rv(){Zn()||Le(!1);let s=I.useContext(wu),{basename:r,future:n,navigator:a}=I.useContext(Lr),{matches:o}=I.useContext(cr),{pathname:c}=on(),d=JSON.stringify(yu(o,n.v7_relativeSplatPath)),p=I.useRef(!1);return Of(()=>{p.current=!0}),I.useCallback(function(g,y){if(y===void 0&&(y={}),!p.current)return;if(typeof g=="number"){a.go(g);return}let w=xu(g,JSON.parse(d),c,y.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Ir([r,w.pathname])),(y.replace?a.replace:a.push)(w,y.state,y)},[r,a,d,c,s])}function Rf(){let{matches:s}=I.useContext(cr),r=s[s.length-1];return r?r.params:{}}function Af(s,r){let{relative:n}=r===void 0?{}:r,{future:a}=I.useContext(Lr),{matches:o}=I.useContext(cr),{pathname:c}=on(),d=JSON.stringify(yu(o,a.v7_relativeSplatPath));return I.useMemo(()=>xu(s,JSON.parse(d),c,n==="path"),[s,d,c,n])}function Av(s,r){return Iv(s,r)}function Iv(s,r,n,a){Zn()||Le(!1);let{navigator:o}=I.useContext(Lr),{matches:c}=I.useContext(cr),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let g=on(),y;if(r){var w;let S=typeof r=="string"?Xn(r):r;m==="/"||(w=S.pathname)!=null&&w.startsWith(m)||Le(!1),y=S}else y=g;let k=y.pathname||"/",_=k;if(m!=="/"){let S=m.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=av(s,{pathname:_}),x=zv(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Ir([m,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Ir([m,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),c,n,a);return r&&x?I.createElement(Ra.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ar.Pop}},x):x}function Lv(){let s=Vv(),r=Tv(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},r),n?I.createElement("pre",{style:o},n):null,null)}const $v=I.createElement(Lv,null);class Dv extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?I.createElement(cr.Provider,{value:this.props.routeContext},I.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uv(s){let{routeContext:r,match:n,children:a}=s,o=I.useContext(wu);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(cr.Provider,{value:r},a)}function zv(s,r,n,a){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=a)!=null&&c.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let d=s,p=(o=n)==null?void 0:o.errors;if(p!=null){let y=d.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);y>=0||Le(!1),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,g=-1;if(n&&a&&a.v7_partialHydration)for(let y=0;y<d.length;y++){let w=d[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:k,errors:_}=n,N=w.route.loader&&k[w.route.id]===void 0&&(!_||_[w.route.id]===void 0);if(w.route.lazy||N){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,w,k)=>{let _,N=!1,x=null,S=null;n&&(_=p&&w.route.id?p[w.route.id]:void 0,x=w.route.errorElement||$v,m&&(g<0&&k===0?(qv("route-fallback"),N=!0,S=null):g===k&&(N=!0,S=w.route.hydrateFallbackElement||null)));let L=r.concat(d.slice(0,k+1)),$=()=>{let P;return _?P=x:N?P=S:w.route.Component?P=I.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=y,I.createElement(Uv,{match:w,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:P})};return n&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?I.createElement(Dv,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:$(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):$()},null)}var If=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(If||{}),Lf=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Lf||{});function Mv(s){let r=I.useContext(wu);return r||Le(!1),r}function Bv(s){let r=I.useContext(Pv);return r||Le(!1),r}function Fv(s){let r=I.useContext(cr);return r||Le(!1),r}function $f(s){let r=Fv(),n=r.matches[r.matches.length-1];return n.route.id||Le(!1),n.route.id}function Vv(){var s;let r=I.useContext(Pf),n=Bv(),a=$f();return r!==void 0?r:(s=n.errors)==null?void 0:s[a]}function Wv(){let{router:s}=Mv(If.UseNavigateStable),r=$f(Lf.UseNavigateStable),n=I.useRef(!1);return Of(()=>{n.current=!0}),I.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,Ks({fromRouteId:r},c)))},[s,r])}const Mh={};function qv(s,r,n){Mh[s]||(Mh[s]=!0)}function Hv(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Kv(s){let{to:r,replace:n,state:a,relative:o}=s;Zn()||Le(!1);let{future:c,static:d}=I.useContext(Lr),{matches:p}=I.useContext(cr),{pathname:m}=on(),g=$r(),y=xu(r,yu(p,c.v7_relativeSplatPath),m,o==="path"),w=JSON.stringify(y);return I.useEffect(()=>g(JSON.parse(w),{replace:n,state:a,relative:o}),[g,w,o,n,a]),null}function _t(s){Le(!1)}function Jv(s){let{basename:r="/",children:n=null,location:a,navigationType:o=Ar.Pop,navigator:c,static:d=!1,future:p}=s;Zn()&&Le(!1);let m=r.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:m,navigator:c,static:d,future:Ks({v7_relativeSplatPath:!1},p)}),[m,p,c,d]);typeof a=="string"&&(a=Xn(a));let{pathname:y="/",search:w="",hash:k="",state:_=null,key:N="default"}=a,x=I.useMemo(()=>{let S=vu(y,m);return S==null?null:{location:{pathname:S,search:w,hash:k,state:_,key:N},navigationType:o}},[m,y,w,k,_,N,o]);return x==null?null:I.createElement(Lr.Provider,{value:g},I.createElement(Ra.Provider,{children:n,value:x}))}function Gv(s){let{children:r,location:n}=s;return Av(Hl(r),n)}new Promise(()=>{});function Hl(s,r){r===void 0&&(r=[]);let n=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let c=[...r,o];if(a.type===I.Fragment){n.push.apply(n,Hl(a.props.children,c));return}a.type!==_t&&Le(!1),!a.props.index||!a.props.children||Le(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Hl(a.props.children,c)),n.push(d)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Kl.apply(this,arguments)}function Qv(s,r){if(s==null)return{};var n={},a=Object.keys(s),o,c;for(c=0;c<a.length;c++)o=a[c],!(r.indexOf(o)>=0)&&(n[o]=s[o]);return n}function Yv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Xv(s,r){return s.button===0&&(!r||r==="_self")&&!Yv(s)}const Zv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e0="6";try{window.__reactRouterVersion=e0}catch{}const t0="startTransition",Bh=Qg[t0];function r0(s){let{basename:r,children:n,future:a,window:o}=s,c=I.useRef();c.current==null&&(c.current=nv({window:o,v5Compat:!0}));let d=c.current,[p,m]=I.useState({action:d.action,location:d.location}),{v7_startTransition:g}=a||{},y=I.useCallback(w=>{g&&Bh?Bh(()=>m(w)):m(w)},[m,g]);return I.useLayoutEffect(()=>d.listen(y),[d,y]),I.useEffect(()=>Hv(a),[a]),I.createElement(Jv,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:d,future:a})}const n0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=I.forwardRef(function(r,n){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:p,target:m,to:g,preventScrollReset:y,viewTransition:w}=r,k=Qv(r,Zv),{basename:_}=I.useContext(Lr),N,x=!1;if(typeof g=="string"&&s0.test(g)&&(N=g,n0))try{let P=new URL(window.location.href),F=g.startsWith("//")?new URL(P.protocol+g):new URL(g),Y=vu(F.pathname,_);F.origin===P.origin&&Y!=null?g=Y+F.search+F.hash:x=!0}catch{}let S=Ov(g,{relative:o}),L=i0(g,{replace:d,state:p,target:m,preventScrollReset:y,relative:o,viewTransition:w});function $(P){a&&a(P),P.defaultPrevented||L(P)}return I.createElement("a",Kl({},k,{href:N||S,onClick:x||c?a:$,ref:n,target:m}))});var Fh;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Fh||(Fh={}));var Vh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Vh||(Vh={}));function i0(s,r){let{target:n,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:p}=r===void 0?{}:r,m=$r(),g=on(),y=Af(s,{relative:d});return I.useCallback(w=>{if(Xv(w,n)){w.preventDefault();let k=a!==void 0?a:_a(g)===_a(y);m(s,{replace:k,state:o,preventScrollReset:c,relative:d,viewTransition:p})}},[g,m,y,a,o,n,s,c,d,p])}const Wh=s=>{let r;const n=new Set,a=(g,y)=>{const w=typeof g=="function"?g(r):g;if(!Object.is(w,r)){const k=r;r=y??(typeof w!="object"||w===null)?w:Object.assign({},r,w),n.forEach(_=>_(r,k))}},o=()=>r,p={setState:a,getState:o,getInitialState:()=>m,subscribe:g=>(n.add(g),()=>n.delete(g))},m=r=s(a,o,p);return p},a0=(s=>s?Wh(s):Wh),o0=s=>s;function l0(s,r=o0){const n=Bn.useSyncExternalStore(s.subscribe,Bn.useCallback(()=>r(s.getState()),[s,r]),Bn.useCallback(()=>r(s.getInitialState()),[s,r]));return Bn.useDebugValue(n),n}const u0=s=>{const r=a0(s),n=a=>l0(r,a);return Object.assign(n,r),n},Df=(s=>u0);function c0(s,r){let n;try{n=s()}catch{return}return{getItem:o=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),p=(c=n.getItem(o))!=null?c:null;return p instanceof Promise?p.then(d):d(p)},setItem:(o,c)=>n.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>n.removeItem(o)}}const Jl=s=>r=>{try{const n=s(r);return n instanceof Promise?n:{then(a){return Jl(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return Jl(a)(n)}}}},d0=(s,r)=>(n,a,o)=>{let c={storage:c0(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...r},d=!1;const p=new Set,m=new Set;let g=c.storage;if(!g)return s((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...x)},a,o);const y=()=>{const x=c.partialize({...a()});return g.setItem(c.name,{state:x,version:c.version})},w=o.setState;o.setState=(x,S)=>(w(x,S),y());const k=s((...x)=>(n(...x),y()),a,o);o.getInitialState=()=>k;let _;const N=()=>{var x,S;if(!g)return;d=!1,p.forEach($=>{var P;return $((P=a())!=null?P:k)});const L=((S=c.onRehydrateStorage)==null?void 0:S.call(c,(x=a())!=null?x:k))||void 0;return Jl(g.getItem.bind(g))(c.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==c.version){if(c.migrate){const P=c.migrate($.state,$.version);return P instanceof Promise?P.then(F=>[!0,F]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var P;const[F,Y]=$;if(_=c.merge(Y,(P=a())!=null?P:k),n(_,!0),F)return y()}).then(()=>{L==null||L(_,void 0),_=a(),d=!0,m.forEach($=>$(_))}).catch($=>{L==null||L(void 0,$)})};return o.persist={setOptions:x=>{c={...c,...x},x.storage&&(g=x.storage)},clearStorage:()=>{g==null||g.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>N(),hasHydrated:()=>d,onHydrate:x=>(p.add(x),()=>{p.delete(x)}),onFinishHydration:x=>(m.add(x),()=>{m.delete(x)})},c.skipHydration||N(),_||k},Uf=d0;var Gl=function(s,r){return Gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Gl(s,r)};function zf(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Gl(s,r);function n(){this.constructor=s}s.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var ja=function(){return ja=Object.assign||function(r){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ja.apply(this,arguments)};function es(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n}function Mf(s,r,n,a){var o=arguments.length,c=o<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,n):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,r,n,a);else for(var p=s.length-1;p>=0;p--)(d=s[p])&&(c=(o<3?d(c):o>3?d(r,n,c):d(r,n))||c);return o>3&&c&&Object.defineProperty(r,n,c),c}function Bf(s,r){return function(n,a){r(n,a,s)}}function Ff(s,r,n,a,o,c){function d(L){if(L!==void 0&&typeof L!="function")throw new TypeError("Function expected");return L}for(var p=a.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!r&&s?a.static?s:s.prototype:null,y=r||(g?Object.getOwnPropertyDescriptor(g,a.name):{}),w,k=!1,_=n.length-1;_>=0;_--){var N={};for(var x in a)N[x]=x==="access"?{}:a[x];for(var x in a.access)N.access[x]=a.access[x];N.addInitializer=function(L){if(k)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(L||null))};var S=(0,n[_])(p==="accessor"?{get:y.get,set:y.set}:y[m],N);if(p==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(w=d(S.get))&&(y.get=w),(w=d(S.set))&&(y.set=w),(w=d(S.init))&&o.unshift(w)}else(w=d(S))&&(p==="field"?o.unshift(w):y[m]=w)}g&&Object.defineProperty(g,a.name,y),k=!0}function Vf(s,r,n){for(var a=arguments.length>2,o=0;o<r.length;o++)n=a?r[o].call(s,n):r[o].call(s);return a?n:void 0}function Wf(s){return typeof s=="symbol"?s:"".concat(s)}function qf(s,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Hf(s,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,r)}function J(s,r,n,a){function o(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function p(y){try{g(a.next(y))}catch(w){d(w)}}function m(y){try{g(a.throw(y))}catch(w){d(w)}}function g(y){y.done?c(y.value):o(y.value).then(p,m)}g((a=a.apply(s,r||[])).next())})}function Kf(s,r){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,o,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=p(0),d.throw=p(1),d.return=p(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(g){return function(y){return m([g,y])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(a=1,o&&(c=g[0]&2?o.return:g[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,g[1])).done)return c;switch(o=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(s,n)}catch(y){g=[6,y],o=0}finally{a=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Aa=Object.create?(function(s,r,n,a){a===void 0&&(a=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(s,a,o)}):(function(s,r,n,a){a===void 0&&(a=n),s[a]=r[n]});function Jf(s,r){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Aa(r,s,n)}function ka(s){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&s[r],a=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function bu(s,r){var n=typeof Symbol=="function"&&s[Symbol.iterator];if(!n)return s;var a=n.call(s),o,c=[],d;try{for(;(r===void 0||r-- >0)&&!(o=a.next()).done;)c.push(o.value)}catch(p){d={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(d)throw d.error}}return c}function Gf(){for(var s=[],r=0;r<arguments.length;r++)s=s.concat(bu(arguments[r]));return s}function Qf(){for(var s=0,r=0,n=arguments.length;r<n;r++)s+=arguments[r].length;for(var a=Array(s),o=0,r=0;r<n;r++)for(var c=arguments[r],d=0,p=c.length;d<p;d++,o++)a[o]=c[d];return a}function Yf(s,r,n){if(n||arguments.length===2)for(var a=0,o=r.length,c;a<o;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return s.concat(c||Array.prototype.slice.call(r))}function Kn(s){return this instanceof Kn?(this.v=s,this):new Kn(s)}function Xf(s,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(s,r||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(_){return function(N){return Promise.resolve(N).then(_,w)}}function p(_,N){a[_]&&(o[_]=function(x){return new Promise(function(S,L){c.push([_,x,S,L])>1||m(_,x)})},N&&(o[_]=N(o[_])))}function m(_,N){try{g(a[_](N))}catch(x){k(c[0][3],x)}}function g(_){_.value instanceof Kn?Promise.resolve(_.value.v).then(y,w):k(c[0][2],_)}function y(_){m("next",_)}function w(_){m("throw",_)}function k(_,N){_(N),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Zf(s){var r,n;return r={},a("next"),a("throw",function(o){throw o}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(o,c){r[o]=s[o]?function(d){return(n=!n)?{value:Kn(s[o](d)),done:!1}:c?c(d):d}:c}}function ep(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s[Symbol.asyncIterator],n;return r?r.call(s):(s=typeof ka=="function"?ka(s):s[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(c){n[c]=s[c]&&function(d){return new Promise(function(p,m){d=s[c](d),o(p,m,d.done,d.value)})}}function o(c,d,p,m){Promise.resolve(m).then(function(g){c({value:g,done:p})},d)}}function tp(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s}var h0=Object.create?(function(s,r){Object.defineProperty(s,"default",{enumerable:!0,value:r})}):function(s,r){s.default=r},Ql=function(s){return Ql=Object.getOwnPropertyNames||function(r){var n=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[n.length]=a);return n},Ql(s)};function rp(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var n=Ql(s),a=0;a<n.length;a++)n[a]!=="default"&&Aa(r,s,n[a]);return h0(r,s),r}function np(s){return s&&s.__esModule?s:{default:s}}function sp(s,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?s!==r||!a:!r.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(s):a?a.value:r.get(s)}function ip(s,r,n,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?s!==r||!o:!r.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(s,n):o?o.value=n:r.set(s,n),n}function ap(s,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?r===s:s.has(r)}function op(s,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],n&&(o=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");o&&(a=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),s.stack.push({value:r,dispose:a,async:n})}else n&&s.stack.push({async:!0});return r}var f0=typeof SuppressedError=="function"?SuppressedError:function(s,r,n){var a=new Error(n);return a.name="SuppressedError",a.error=s,a.suppressed=r,a};function lp(s){function r(c){s.error=s.hasError?new f0(c,s.error,"An error was suppressed during disposal."):c,s.hasError=!0}var n,a=0;function o(){for(;n=s.stack.pop();)try{if(!n.async&&a===1)return a=0,s.stack.push(n),Promise.resolve().then(o);if(n.dispose){var c=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(c).then(o,function(d){return r(d),o()})}else a|=1}catch(d){r(d)}if(a===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return o()}function up(s,r){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,o,c,d){return a?r?".jsx":".js":o&&(!c||!d)?n:o+c+"."+d.toLowerCase()+"js"}):s}const p0={__extends:zf,__assign:ja,__rest:es,__decorate:Mf,__param:Bf,__esDecorate:Ff,__runInitializers:Vf,__propKey:Wf,__setFunctionName:qf,__metadata:Hf,__awaiter:J,__generator:Kf,__createBinding:Aa,__exportStar:Jf,__values:ka,__read:bu,__spread:Gf,__spreadArrays:Qf,__spreadArray:Yf,__await:Kn,__asyncGenerator:Xf,__asyncDelegator:Zf,__asyncValues:ep,__makeTemplateObject:tp,__importStar:rp,__importDefault:np,__classPrivateFieldGet:sp,__classPrivateFieldSet:ip,__classPrivateFieldIn:ap,__addDisposableResource:op,__disposeResources:lp,__rewriteRelativeImportExtension:up},m0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:op,get __assign(){return ja},__asyncDelegator:Zf,__asyncGenerator:Xf,__asyncValues:ep,__await:Kn,__awaiter:J,__classPrivateFieldGet:sp,__classPrivateFieldIn:ap,__classPrivateFieldSet:ip,__createBinding:Aa,__decorate:Mf,__disposeResources:lp,__esDecorate:Ff,__exportStar:Jf,__extends:zf,__generator:Kf,__importDefault:np,__importStar:rp,__makeTemplateObject:tp,__metadata:Hf,__param:Bf,__propKey:Wf,__read:bu,__rest:es,__rewriteRelativeImportExtension:up,__runInitializers:Vf,__setFunctionName:qf,__spread:Gf,__spreadArray:Yf,__spreadArrays:Qf,__values:ka,default:p0},Symbol.toStringTag,{value:"Module"})),g0=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Ia extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class cp extends Ia{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Yl extends Ia{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Xl extends Ia{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Sa;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Sa||(Sa={}));class v0{constructor(r,{headers:n={},customFetch:a,region:o=Sa.Any}={}){this.url=r,this.headers=n,this.region=o,this.fetch=g0(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return J(this,arguments,void 0,function*(n,a={}){var o;let c,d;try{const{headers:p,method:m,body:g,signal:y,timeout:w}=a;let k={},{region:_}=a;_||(_=this.region);const N=new URL(`${this.url}/${n}`);_&&_!=="any"&&(k["x-region"]=_,N.searchParams.set("forceFunctionRegion",_));let x;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",x=g):typeof g=="string"?(k["Content-Type"]="text/plain",x=g):typeof FormData<"u"&&g instanceof FormData?x=g:(k["Content-Type"]="application/json",x=JSON.stringify(g)):x=g;let S=y;w&&(d=new AbortController,c=setTimeout(()=>d.abort(),w),y?(S=d.signal,y.addEventListener("abort",()=>d.abort())):S=d.signal);const L=yield this.fetch(N.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),p),body:x,signal:S}).catch(Y=>{throw new cp(Y)}),$=L.headers.get("x-relay-error");if($&&$==="true")throw new Yl(L);if(!L.ok)throw new Xl(L);let P=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),F;return P==="application/json"?F=yield L.json():P==="application/octet-stream"||P==="application/pdf"?F=yield L.blob():P==="text/event-stream"?F=L:P==="multipart/form-data"?F=yield L.formData():F=yield L.text(),{data:F,error:null,response:L}}catch(p){return{data:null,error:p,response:p instanceof Xl||p instanceof Yl?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var rt={};const ts=Hg(m0);var ha={},fa={},pa={},ma={},ga={},va={},qh;function dp(){if(qh)return va;qh=1,Object.defineProperty(va,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return va.default=s,va}var Hh;function hp(){if(Hh)return ga;Hh=1,Object.defineProperty(ga,"__esModule",{value:!0});const r=ts.__importDefault(dp());class n{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,y,w,k;let _=null,N=null,x=null,S=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Y=await m.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?N=Y:N=JSON.parse(Y))}const P=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");P&&F&&F.length>1&&(x=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(_={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,x=null,S=406,L="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const P=await m.text();try{_=JSON.parse(P),Array.isArray(_)&&m.status===404&&(N=[],_=null,S=200,L="OK")}catch{m.status===404&&P===""?(S=204,L="No Content"):_={message:P}}if(_&&this.isMaybeSingle&&(!((k=_==null?void 0:_.details)===null||k===void 0)&&k.includes("0 rows"))&&(_=null,S=200,L="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:N,count:x,status:S,statusText:L}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,y,w,k,_,N;let x="";const S=m==null?void 0:m.cause;if(S){const L=(g=S==null?void 0:S.message)!==null&&g!==void 0?g:"",$=(y=S==null?void 0:S.code)!==null&&y!==void 0?y:"";x=`${(w=m==null?void 0:m.name)!==null&&w!==void 0?w:"FetchError"}: ${m==null?void 0:m.message}`,x+=`

Caused by: ${(k=S==null?void 0:S.name)!==null&&k!==void 0?k:"Error"}: ${L}`,$&&(x+=` (${$})`),S!=null&&S.stack&&(x+=`
${S.stack}`)}else x=(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(N=m==null?void 0:m.name)!==null&&N!==void 0?N:"FetchError"}: ${m==null?void 0:m.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(o,c)}returns(){return this}overrideTypes(){return this}}return ga.default=n,ga}var Kh;function fp(){if(Kh)return ma;Kh=1,Object.defineProperty(ma,"__esModule",{value:!0});const r=ts.__importDefault(hp());class n extends r.default{select(o){let c=!1;const d=(o??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:p=d}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var y;const w=[o?"analyze":null,c?"verbose":null,d?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${k}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ma.default=n,ma}var Jh;function _u(){if(Jh)return pa;Jh=1,Object.defineProperty(pa,"__esModule",{value:!0});const r=ts.__importDefault(fp()),n=new RegExp("[,()]");class a extends r.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}regexMatch(c,d){return this.url.searchParams.append(c,`match.${d}`),this}regexIMatch(c,d){return this.url.searchParams.append(c,`imatch.${d}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}isDistinct(c,d){return this.url.searchParams.append(c,`isdistinct.${d}`),this}in(c,d){const p=Array.from(new Set(d)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const y=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${g}fts${y}.${d}`),this}match(c){return Object.entries(c).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(c,d,p){return this.url.searchParams.append(c,`not.${d}.${p}`),this}or(c,{foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,d,p){return this.url.searchParams.append(c,`${d}.${p}`),this}}return pa.default=a,pa}var Gh;function pp(){if(Gh)return fa;Gh=1,Object.defineProperty(fa,"__esModule",{value:!0});const r=ts.__importDefault(_u());class n{constructor(o,{headers:c={},schema:d,fetch:p}){this.url=o,this.headers=new Headers(c),this.schema=d,this.fetch=p}select(o,c){const{head:d=!1,count:p}=c??{},m=d?"HEAD":"GET";let g=!1;const y=(o??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:d=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:p,defaultToNull:m=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const w=o.reduce((k,_)=>k.concat(Object.keys(_)),[]);if(w.length>0){const k=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:c}={}){var d;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var c;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return fa.default=n,fa}var Qh;function y0(){if(Qh)return ha;Qh=1,Object.defineProperty(ha,"__esModule",{value:!0});const s=ts,r=s.__importDefault(pp()),n=s.__importDefault(_u());class a{constructor(c,{headers:d={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(d),this.schemaName=p,this.fetch=m}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${c}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:p=!1,get:m=!1,count:g}={}){var y;let w;const k=new URL(`${this.url}/rpc/${c}`);let _;p||m?(w=p?"HEAD":"GET",Object.entries(d).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{k.searchParams.append(x,S)})):(w="POST",_=d);const N=new Headers(this.headers);return g&&N.set("Prefer",`count=${g}`),new n.default({method:w,url:k,headers:N,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ha.default=a,ha}var Yh;function x0(){if(Yh)return rt;Yh=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const s=ts,r=s.__importDefault(y0());rt.PostgrestClient=r.default;const n=s.__importDefault(pp());rt.PostgrestQueryBuilder=n.default;const a=s.__importDefault(_u());rt.PostgrestFilterBuilder=a.default;const o=s.__importDefault(fp());rt.PostgrestTransformBuilder=o.default;const c=s.__importDefault(hp());rt.PostgrestBuilder=c.default;const d=s.__importDefault(dp());return rt.PostgrestError=d.default,rt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},rt}var mp=x0();const gp=pu(mp),w0=Sf({__proto__:null,default:gp},[mp]),{PostgrestClient:b0,PostgrestQueryBuilder:Nw,PostgrestFilterBuilder:Tw,PostgrestTransformBuilder:Cw,PostgrestBuilder:Pw,PostgrestError:_0}=gp||w0;class vp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const j0="2.87.3",k0=`realtime-js/${j0}`,yp="1.0.0",S0="2.0.0",Xh=yp,Zl=1e4,E0=1e3,N0=100;var tn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(tn||(tn={}));var Ue;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ue||(Ue={}));var qt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(qt||(qt={}));var eu;(function(s){s.websocket="websocket"})(eu||(eu={}));var rn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(rn||(rn={}));class T0{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const o=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(r){var n,a;const o=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,a){var o,c;const d=r.topic,p=(o=r.ref)!==null&&o!==void 0?o:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",g=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+d.length+g.length+w.length,_=new ArrayBuffer(this.HEADER_LENGTH+k);let N=new DataView(_),x=0;N.setUint8(x++,this.KINDS.userBroadcastPush),N.setUint8(x++,m.length),N.setUint8(x++,p.length),N.setUint8(x++,d.length),N.setUint8(x++,g.length),N.setUint8(x++,w.length),N.setUint8(x++,n),Array.from(m,L=>N.setUint8(x++,L.charCodeAt(0))),Array.from(p,L=>N.setUint8(x++,L.charCodeAt(0))),Array.from(d,L=>N.setUint8(x++,L.charCodeAt(0))),Array.from(g,L=>N.setUint8(x++,L.charCodeAt(0))),Array.from(w,L=>N.setUint8(x++,L.charCodeAt(0)));var S=new Uint8Array(_.byteLength+a.byteLength);return S.set(new Uint8Array(_),0),S.set(new Uint8Array(a),_.byteLength),S.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[o,c,d,p,m]=a;return n({join_ref:o,ref:c,topic:d,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,o)}}_decodeUserBroadcast(r,n,a){const o=n.getUint8(1),c=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=a.decode(r.slice(m,m+o));m=m+o;const y=a.decode(r.slice(m,m+c));m=m+c;const w=a.decode(r.slice(m,m+d));m=m+d;const k=r.slice(m,r.byteLength),_=p===this.JSON_ENCODING?JSON.parse(a.decode(k)):k,N={type:this.BROADCAST_EVENT,event:y,payload:_};return d>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>n.includes(a)))}}class xp{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(je||(je={}));const Zh=(s,r,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,d)=>(c[d]=C0(d,s,r,o),c),{}):{}},C0=(s,r,n,a)=>{const o=r.find(p=>p.name===s),c=o==null?void 0:o.type,d=n[s];return c&&!a.includes(c)?wp(c,d):tu(d)},wp=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return A0(r,n)}switch(s){case je.bool:return P0(r);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return O0(r);case je.json:case je.jsonb:return R0(r);case je.timestamp:return I0(r);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return tu(r);default:return tu(r)}},tu=s=>s,P0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},O0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},R0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},A0=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let c;const d=s.slice(1,n);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(p=>wp(r,p))}return s},I0=s=>typeof s=="string"?s.replace(" ","T"):s,bp=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ul{constructor(r,n,a={},o=Zl){this.channel=r,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ru;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ru||(ru={}));class Vn{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vn.syncState(this.state,o,c,d),this.pendingDiffs.forEach(m=>{this.state=Vn.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vn.syncDiff(this.state,o,c,d),p())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,o){const c=this.cloneDeep(r),d=this.transformState(n),p={},m={};return this.map(c,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const w=c[g];if(w){const k=y.map(S=>S.presence_ref),_=w.map(S=>S.presence_ref),N=y.filter(S=>_.indexOf(S.presence_ref)<0),x=w.filter(S=>k.indexOf(S.presence_ref)<0);N.length>0&&(p[g]=N),x.length>0&&(m[g]=x)}else p[g]=y}),this.syncDiff(c,{joins:p,leaves:m},a,o)}static syncDiff(r,n,a,o){const{joins:c,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(p,m)=>{var g;const y=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(_=>_.presence_ref),k=y.filter(_=>w.indexOf(_.presence_ref)<0);r[p].unshift(...k)}a(p,y,m)}),this.map(d,(p,m)=>{let g=r[p];if(!g)return;const y=m.map(w=>w.presence_ref);g=g.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=g,o(p,g,m),g.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const o=r[a];return"metas"in o?n[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=o,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nu;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(nu||(nu={}));var Wn;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Wn||(Wn={}));var Zt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Zt||(Zt={}));const L0=Ue;class nn{constructor(r,n={config:{}},a){var o,c;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,qt.join,this.params,this.timeout),this.rejoinTimer=new xp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new Vn(this),this.broadcastEndpointURL=bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Wn.PRESENCE]&&this.bindings[Wn.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},k={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>r==null?void 0:r(Zt.CHANNEL_ERROR,_)),this._onClose(()=>r==null?void 0:r(Zt.CLOSED)),this.updateJoinPayload(Object.assign({config:k},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){r==null||r(Zt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(N=x==null?void 0:x.length)!==null&&N!==void 0?N:0,L=[];for(let $=0;$<S;$++){const P=x[$],{filter:{event:F,schema:Y,table:re,filter:ce}}=P,W=_&&_[$];if(W&&W.event===F&&nn.isFilterValueEqual(W.schema,Y)&&nn.isFilterValueEqual(W.table,re)&&nn.isFilterValueEqual(W.filter,ce))L.push(Object.assign(Object.assign({},P),{id:W.id}));else{this.unsubscribe(),this.state=Ue.errored,r==null||r(Zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,r&&r(Zt.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ue.errored,r==null||r(Zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ue.joined&&r===Wn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,p,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Ul(this,qt.leave,{},r),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(c),d}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ul(this,r,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>N0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var o,c;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=qt;if(a&&[p,m,g,y].indexOf(d)>=0&&a!==this._joinRef())return;let k=this._onMessage(d,n,a);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var N,x,S;return((N=_.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(x=_.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(_=>_.callback(k,a)):(c=this.bindings[d])===null||c===void 0||c.filter(_=>{var N,x,S,L,$,P;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const F=_.id,Y=(N=_.filter)===null||N===void 0?void 0:N.event;return F&&((x=n.ids)===null||x===void 0?void 0:x.includes(F))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const F=($=(L=_==null?void 0:_.filter)===null||L===void 0?void 0:L.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return F==="*"||F===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof k=="object"&&"ids"in k){const N=k.data,{schema:x,table:S,commit_timestamp:L,type:$,errors:P}=N;k=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:L,eventType:$,new:{},old:{},errors:P}),this._getPayloadRecords(N))}_.callback(k,a)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const o=r.toLocaleLowerCase(),c={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&nn.isEqual(o.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(qt.close,{},r)}_onError(r){this._on(qt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Zh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Zh(r.columns,r.old_record)),n}}const zl=()=>{},ya={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$0=[1e3,2e3,5e3,1e4],D0=1e4,U0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _p{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zl,this.transport=null,this.heartbeatIntervalMs=ya.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zl,this.ref=0,this.reconnectTimer=null,this.vsn=Xh,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new T0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${eu.websocket}`,this.httpEndpoint=bp(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case tn.connecting:return rn.Connecting;case tn.open:return rn.Open;case tn.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new nn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:a,payload:o,ref:c}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(E0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ya.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:c,ref:d}=n,p=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${o} ${p}`.trim(),c),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,c,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tn.open||this.conn.readyState===tn.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(qt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${r}${a}${o}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([U0],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,a=!1;if(r)n=r,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const c={access_token:n,version:k0};n&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new xp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ya.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,o,c,d,p,m,g,y,w,k,_;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Zl,this.heartbeatIntervalMs=(o=r==null?void 0:r.heartbeatIntervalMs)!==null&&o!==void 0?o:ya.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:zl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:Xh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r==null?void 0:r.reconnectAfterMs)!==null&&g!==void 0?g:(N=>$0[N-1]||D0),this.vsn){case yp:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((N,x)=>x(JSON.stringify(N))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((N,x)=>x(JSON.parse(N)));break;case S0:this.encode=(k=r==null?void 0:r.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(_=r==null?void 0:r.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class La extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Oe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class z0 extends La{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class su extends La{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const ju=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),M0=()=>Response,iu=s=>{if(Array.isArray(s))return s.map(n=>iu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[o]=iu(a)}),r},B0=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},F0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s),Ml=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},V0=(s,r,n)=>J(void 0,void 0,void 0,function*(){const a=yield M0();s instanceof a&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const c=s.status||500,d=(o==null?void 0:o.statusCode)||c+"";r(new z0(Ml(o),c,d))}).catch(o=>{r(new su(Ml(o),o))}):r(new su(Ml(s),s))}),W0=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!a?o:(B0(a)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(a)):o.body=a,r!=null&&r.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),n))};function Zs(s,r,n,a,o,c){return J(this,void 0,void 0,function*(){return new Promise((d,p)=>{s(n,W0(r,a,o,c)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>V0(m,p,a))})})}function Js(s,r,n,a){return J(this,void 0,void 0,function*(){return Zs(s,"GET",r,n,a)})}function Wt(s,r,n,a,o){return J(this,void 0,void 0,function*(){return Zs(s,"POST",r,a,o,n)})}function au(s,r,n,a,o){return J(this,void 0,void 0,function*(){return Zs(s,"PUT",r,a,o,n)})}function q0(s,r,n,a){return J(this,void 0,void 0,function*(){return Zs(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function ku(s,r,n,a,o){return J(this,void 0,void 0,function*(){return Zs(s,"DELETE",r,a,o,n)})}class H0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return J(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}var jp;class K0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[jp]="BlobDownloadBuilder",this.promise=null}asStream(){return new H0(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return J(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}jp=Symbol.toStringTag;const J0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ef={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G0{constructor(r,n={},a,o){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=ju(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,a,o){return J(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},ef),o);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=a,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),w=yield(r=="PUT"?au:Wt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:p},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}})}upload(r,n,a){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,o){return J(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:ef.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",g.cacheControl)):(m=a,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const w=yield au(this.fetch,p.toString(),m,{headers:y});return{data:{path:c,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Oe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return J(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const c=yield Wt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(this.url+c.url),p=d.searchParams.get("token");if(!p)throw new La("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}update(r,n,a){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return J(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}copy(r,n,a){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrl(r,n,a){return J(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),c=yield Wt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrls(r,n,a){return J(this,void 0,void 0,function*(){try{const o=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}download(r,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=c?`?${c}`:"",p=this._getFinalPath(r),m=()=>Js(this.fetch,`${this.url}/${o}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new K0(m,this.shouldThrowOnError)}info(r){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield Js(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:iu(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}exists(r){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield q0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a)&&a instanceof su){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),o=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&o.push(c);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${g}`)}}}remove(r){return J(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}list(r,n,a){return J(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},J0),n),{prefix:r||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}listV2(r,n){return J(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const kp="2.87.3",Sp={"X-Client-Info":`storage-js/${kp}`};class Q0{constructor(r,n={},a,o){this.shouldThrowOnError=!1;const c=new URL(r);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sp),n),this.fetch=ju(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return J(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Js(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}getBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}createBucket(r){return J(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}updateBucket(r,n){return J(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}emptyBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Gs=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Y0(s,r,n){const a=new URL(r,s);if(n)for(const[o,c]of Object.entries(n))c!==void 0&&a.searchParams.set(o,c);return a.toString()}async function X0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Z0(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:c,headers:d}){const p=Y0(s.baseUrl,a,o),m=await X0(s.auth),g=await r(p,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),y=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),k=w&&y?JSON.parse(y):y;if(!g.ok){const _=w?k:void 0,N=_==null?void 0:_.error;throw new Gs((N==null?void 0:N.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:_})}return{status:g.status,headers:g.headers,data:k}}}}function xa(s){return s.join("")}var ey=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:xa(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xa(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xa(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xa(s.namespace)}`}),!0}catch(r){if(r instanceof Gs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof Gs&&n.status===409)return;throw n}}};function An(s){return s.join("")}var ty=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${An(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof Gs&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof Gs&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},ry=class{constructor(s){var a;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Z0({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(a=s.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new ey(this.client,r),this.tableOps=new ty(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}};class ny{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sp),n),this.fetch=ju(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}listBuckets(r){return J(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),o=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Js(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}from(r){if(!F0(r))throw new La("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ry({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>J(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(c,d){const p=c[d];return typeof p!="function"?p:(...m)=>J(this,void 0,void 0,function*(){try{return{data:yield p.apply(c,m),error:null}}catch(g){if(a)throw g;return{data:null,error:g}}})}})}}const Su={"X-Client-Info":`storage-js/${kp}`,"Content-Type":"application/json"};class Ep extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function St(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Bl extends Ep{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sy extends Ep{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var tf;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tf||(tf={}));const Eu=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),iy=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},rf=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),ay=(s,r,n)=>J(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const o=s.status||500,c=s;if(typeof c.json=="function")c.json().then(d=>{const p=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||o+"";r(new Bl(rf(d),o,p))}).catch(()=>{const d=o+"",p=c.statusText||`HTTP ${o} error`;r(new Bl(p,o,d))});else{const d=o+"",p=c.statusText||`HTTP ${o} error`;r(new Bl(p,o,d))}}else r(new sy(rf(s),s))}),oy=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return a?(iy(a)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),n)):o};function ly(s,r,n,a,o,c){return J(this,void 0,void 0,function*(){return new Promise((d,p)=>{s(n,oy(r,a,o,c)).then(m=>{if(!m.ok)throw m;if(a!=null&&a.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>ay(m,p,a))})})}function Et(s,r,n,a,o){return J(this,void 0,void 0,function*(){return ly(s,"POST",r,a,o,n)})}class uy{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Su),n),this.fetch=Eu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return J(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getIndex(r,n){return J(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}listIndexes(r){return J(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return J(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}})}}class cy{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Su),n),this.fetch=Eu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return J(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Et(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getVectors(r){return J(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listVectors(r){return J(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield Et(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}queryVectors(r){return J(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteVectors(r){return J(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Et(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class dy{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Su),n),this.fetch=Eu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return J(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}getBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}listBuckets(){return J(this,arguments,void 0,function*(r={}){try{return{data:yield Et(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}})}}class hy extends dy{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new fy(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return J(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return J(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return J(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return J(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class fy extends uy{constructor(r,n,a,o){super(r,n,o),this.vectorBucketName=a}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return J(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return J(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return J(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return J(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new py(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class py extends cy{constructor(r,n,a,o,c){super(r,n,c),this.vectorBucketName=a,this.indexName=o}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return J(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return J(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return J(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return J(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return J(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class my extends Q0{constructor(r,n={},a,o){super(r,n,a,o)}from(r){return new G0(this.url,this.headers,r,this.fetch)}get vectors(){return new hy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ny(this.url+"/iceberg",this.headers,this.fetch)}}const gy="2.87.3";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const vy={"X-Client-Info":`supabase-js-${Vs}/${gy}`},yy={headers:vy},xy={schema:"public"},wy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},by={},_y=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),jy=()=>Headers,ky=(s,r,n)=>{const a=_y(n),o=jy();return async(c,d)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:s;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),a(c,Object.assign(Object.assign({},d),{headers:g}))}};function Sy(s){return s.endsWith("/")?s:s+"/"}function Ey(s,r){var n,a;const{db:o,auth:c,realtime:d,global:p}=s,{db:m,auth:g,realtime:y,global:w}=r,k={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}function Ny(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Np="2.87.3",Un=30*1e3,ou=3,Fl=ou*Un,Ty="http://localhost:9999",Cy="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${Np}`},lu="X-Supabase-Api-Version",Tp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Oy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ry=600*1e3;class Jn extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Cp extends Jn{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function Pp(s){return Z(s)&&s.name==="AuthApiError"}class Or extends Jn{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class tr extends Jn{constructor(r,n,a,o){super(r,a,o),this.name=n,this.status=a}}class mt extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Op(s){return Z(s)&&s.name==="AuthSessionMissingError"}class Xr extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ws extends tr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class qs extends tr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rp(s){return Z(s)&&s.name==="AuthImplicitGrantRedirectError"}class uu extends tr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ap extends tr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function Ay(s){return Z(s)&&s.name==="AuthPKCECodeVerifierMissingError"}class Ea extends tr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function wa(s){return Z(s)&&s.name==="AuthRetryableFetchError"}class cu extends tr{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}function Iy(s){return Z(s)&&s.name==="AuthWeakPasswordError"}class Na extends tr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nf=` 	
\r=`.split(""),Ly=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<nf.length;r+=1)s[nf[r].charCodeAt(0)]=-2;for(let r=0;r<Ta.length;r+=1)s[Ta[r].charCodeAt(0)]=r;return s})();function sf(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ta[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ta[a]),r.queuedBits-=6}}function Ip(s,r,n){const a=Ly[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function af(s){const r=[],n=d=>{r.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{Uy(d,a,n)};for(let d=0;d<s.length;d+=1)Ip(s.charCodeAt(d),o,c);return r.join("")}function $y(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Dy(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}$y(a,r)}}function Uy(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function qn(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<s.length;o+=1)Ip(s.charCodeAt(o),n,a);return new Uint8Array(r)}function zy(s){const r=[];return Dy(s,n=>r.push(n)),new Uint8Array(r)}function sn(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};return s.forEach(o=>sf(o,n,a)),sf(null,n,a),r.join("")}function My(s){return Math.round(Date.now()/1e3)+s}function By(){return Symbol("auth-callback")}const Ge=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Lp=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function Fy(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,c)=>{r[c]=o})}catch{}return n.searchParams.forEach((a,o)=>{r[o]=a}),r}const $p=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Vy=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",zn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Yr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Je=async(s,r)=>{await s.removeItem(r)};class $a{constructor(){this.promise=new $a.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}$a.promiseConstructor=Promise;function Vl(s){const r=s.split(".");if(r.length!==3)throw new Na("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Oy.test(r[a]))throw new Na("JWT not in base64url format");return{header:JSON.parse(af(r[0])),payload:JSON.parse(af(r[1])),signature:qn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Wy(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function qy(s,r){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await s(c);if(!r(c,null,d)){a(d);return}}catch(d){if(!r(c,d)){o(d);return}}})()})}function Hy(s){return("0"+s.toString(16)).substr(-2)}function Ky(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let c=0;c<56;c++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,Hy).join("")}async function Jy(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Gy(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Jy(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function In(s,r,n=!1){const a=Ky();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await zn(s,`${r}-code-verifier`,o);const c=await Gy(a);return[c,a===c?"plain":"s256"]}const Qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yy(s){const r=s.headers.get(lu);if(!r||!r.match(Qy))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Xy(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Zy(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ln(s){if(!ex.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wl(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tx(s,r){return new Proxy(s,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,o)}})}function of(s){return JSON.parse(JSON.stringify(s))}const Zr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),rx=[502,503,504];async function lf(s){var r;if(!Vy(s))throw new Ea(Zr(s),0);if(rx.includes(s.status))throw new Ea(Zr(s),s.status);let n;try{n=await s.json()}catch(c){throw new Or(Zr(c),c)}let a;const o=Yy(s);if(o&&o.getTime()>=Tp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new cu(Zr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new cu(Zr(n),s.status,n.weak_password.reasons);throw new Cp(Zr(n),s.status||500,a)}const nx=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ie(s,r,n,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[lu]||(c[lu]=Tp["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await sx(s,r,n+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function sx(s,r,n,a,o,c){const d=nx(r,a,o,c);let p;try{p=await s(n,Object.assign({},d))}catch(m){throw console.error(m),new Ea(Zr(m),0)}if(p.ok||await lf(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await lf(m)}}function Vt(s){var r;let n=null;ox(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=My(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function uf(s){const r=Vt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Rr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function ix(s){return{data:s,error:null}}function ax(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:c}=s,d=es(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:c},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function cf(s){return s}function ox(s){return s.access_token&&s.refresh_token&&s.expires_in}const ba=["global","local","others"];class Nu{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=$p(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=ba[0]){if(ba.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ba.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rr})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=es(r,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ax,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,o,c,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:cf});if(y.error)throw y.error;const w=await y.json(),k=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(N=>{const x=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);g[`${S}Page`]=x}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Z(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){Ln(r);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Ln(r);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Rr})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){Ln(r);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rr})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Ln(r.userId);try{const{data:n,error:a}=await ie(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Ln(r.userId),Ln(r.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,o,c,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:cf});if(y.error)throw y.error;const w=await y.json(),k=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(N=>{const x=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);g[`${S}Page`]=x}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Z(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function df(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const en={debug:!!(globalThis&&Lp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tu extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Dp extends Tu{}class lx extends Tu{}async function Up(s,r,n){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),en.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){en.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{en.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(r===0)throw en.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Dp(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(en.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const hf={};async function ux(s,r,n){var a;const o=(a=hf[s])!==null&&a!==void 0?a:Promise.resolve(),c=Promise.race([o.catch(()=>null),r>=0?new Promise((d,p)=>{setTimeout(()=>{p(new lx(`Acquiring process lock with name "${s}" timed out`))},r)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await n());return hf[s]=c.catch(async d=>{if(d&&d.isAcquireTimeout)return await o,null;throw d}),await c}function cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function dx(s){return parseInt(s,16)}function hx(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function fx(s){var r;const{chainId:n,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:p,requestId:m,resources:g,scheme:y,uri:w,version:k}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const _=zp(s.address),N=y?`${y}://${a}`:a,x=s.statement?`${s.statement}
`:"",S=`${N} wants you to sign in with your Ethereum account:
${_}

${x}`;let L=`URI: ${w}
Version: ${k}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),p&&(L+=`
Not Before: ${p.toISOString()}`),m&&(L+=`
Request ID: ${m}`),g){let $=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);$+=`
- ${P}`}L+=$}return`${S}
${L}`}class ze extends Error{constructor({message:r,code:n,cause:a,name:o}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class Ca extends ze{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function px({error:s,options:r}){var n,a,o;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new ze({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Mp(d)){if(c.rp.id!==d)return new ze({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function mx({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new ze({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Mp(a)){if(n.rpId!==a)return new ze({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class gx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const vx=new gx;function yx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:a}=s,o=es(s,["challenge","user","excludeCredentials"]),c=qn(r).buffer,d=Object.assign(Object.assign({},n),{id:qn(n.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:c,user:d});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const g=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:qn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function xx(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,a=es(s,["challenge","allowCredentials"]),o=qn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];c.allowCredentials[d]=Object.assign(Object.assign({},p),{id:qn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function wx(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:sn(new Uint8Array(s.response.attestationObject)),clientDataJSON:sn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function bx(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,a=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:sn(new Uint8Array(o.authenticatorData)),clientDataJSON:sn(new Uint8Array(o.clientDataJSON)),signature:sn(new Uint8Array(o.signature)),userHandle:o.userHandle?sn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Mp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function ff(){var s,r;return!!(Ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function _x(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ca("Browser returned unexpected credential type",r)}:{data:null,error:new Ca("Empty credential response",r)}}catch(r){return{data:null,error:px({error:r,options:s})}}}async function jx(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ca("Browser returned unexpected credential type",r)}:{data:null,error:new Ca("Empty credential response",r)}}catch(r){return{data:null,error:mx({error:r,options:s})}}}const kx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Sx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pa(...s){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of s)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))a[c]=d;else if(n(d))a[c]=d;else if(r(d)){const p=a[c];r(p)?a[c]=Pa(p,d):a[c]=Pa(d)}else a[c]=d}return a}function Ex(s,r){return Pa(kx,s,r||{})}function Nx(s,r){return Pa(Sx,s,r||{})}class Tx{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:o},c){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:p};const m=o??vx.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Ex(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:w}=await _x({publicKey:g,signal:m});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const g=Nx(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:w}=await jx(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(d){return Z(d)?{data:null,error:d}:{data:null,error:new Or("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!n)return{data:null,error:new Jn("rpId is required for WebAuthn authentication")};try{if(!ff())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:c});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(d){return Z(d)?{data:null,error:d}:{data:null,error:new Or("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!n)return{data:null,error:new Jn("rpId is required for WebAuthn registration")};try{if(!ff())return{data:null,error:new Or("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Z(d)?{data:null,error:d}:{data:null,error:new Or("Unexpected error in register",d)}}}}cx();const Cx={url:Ty,storageKey:Cy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function pf(s,r,n){return await n()}const $n={};class Gn{get jwks(){var r,n;return(n=(r=$n[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=$n[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Cx),r);if(this.storageKey=c.storageKey,this.instanceID=(n=Gn.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Gn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ge()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Nu({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$p(c.fetch),this.lock=c.lock||pf,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Ge()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Up:this.lock=pf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Lp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=df(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=df(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Np}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(Ge()&&(n=Fy(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ge()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Rp(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?this._returnResult({error:n}):this._returnResult({error:new Or("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,o;try{const c=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:Vt}),{data:d,error:p}=c;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,a,o;try{let c;if("email"in r){const{email:y,password:w,options:k}=r;let _=null,N=null;this.flowType==="pkce"&&([_,N]=await In(this.storage,this.storageKey)),c=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:y,password:w,data:(n=k==null?void 0:k.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:_,code_challenge_method:N},xform:Vt})}else if("phone"in r){const{phone:y,password:w,options:k}=r;c=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=k==null?void 0:k.data)!==null&&a!==void 0?a:{},channel:(o=k==null?void 0:k.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Vt})}else throw new Ws("You must provide either an email or phone number and a password");const{data:d,error:p}=c;if(p||!d)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:d,options:p}=r;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:uf})}else if("phone"in r){const{phone:c,password:d,options:p}=r;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:uf})}else throw new Ws("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const c=new Xr;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,o,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,o,c,d,p,m,g,y,w,k;let _,N;if("message"in r)_=r.message,N=r.signature;else{const{chain:x,wallet:S,statement:L,options:$}=r;let P;if(Ge())if(typeof S=="object")P=S;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")P=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const F=new URL((n=$==null?void 0:$.url)!==null&&n!==void 0?n:window.location.href),Y=await P.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=zp(Y[0]);let ce=(a=$==null?void 0:$.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ce){const G=await P.request({method:"eth_chainId"});ce=dx(G)}const W={domain:F.host,address:re,statement:L,uri:F.href,version:"1",chainId:ce,nonce:(o=$==null?void 0:$.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=$==null?void 0:$.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=$==null?void 0:$.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=$==null?void 0:$.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=$==null?void 0:$.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=$==null?void 0:$.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=fx(W),N=await P.request({method:"personal_sign",params:[hx(_),re]})}try{const{data:x,error:S}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:N},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Vt});if(S)throw S;if(!x||!x.session||!x.user){const L=new Xr;return this._returnResult({data:{user:null,session:null},error:L})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(Z(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(r){var n,a,o,c,d,p,m,g,y,w,k,_;let N,x;if("message"in r)N=r.message,x=r.signature;else{const{chain:S,wallet:L,statement:$,options:P}=r;let F;if(Ge())if(typeof L=="object")F=L;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))F=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const Y=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const re=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),$?{statement:$}:null));let ce;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")ce=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)ce=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)N=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),x=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${Y.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(o=(a=P==null?void 0:P.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(y=P==null?void 0:P.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const re=await F.signMessage(new TextEncoder().encode(N),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=re}}try{const{data:S,error:L}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:sn(x)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Vt});if(L)throw L;if(!S||!S.session||!S.user){const $=new Xr;return this._returnResult({data:{user:null,session:null},error:$})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:L})}catch(S){if(Z(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(r){const n=await Yr(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Ap;const{data:c,error:d}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Vt});if(await Je(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const p=new Xr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:a,token:o,access_token:c,nonce:d}=r,p=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vt}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new Xr;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,o,c,d;try{if("email"in r){const{email:p,options:m}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await In(this.storage,this.storageKey));const{error:w}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:m}=r,{data:g,error:y}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new Ws("You must provide either an email or phone number.")}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,a;try{let o,c;"options"in r&&(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:p}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Vt});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(r){var n,a,o,c,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await In(this.storage,this.storageKey));const g=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:ix});return!((c=g.data)===null||c===void 0)&&c.url&&Ge()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new mt;const{error:o}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:c}=r,{error:d}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:a,type:o,options:c}=r,{data:d,error:p}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new Ws("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const d=await Yr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=Wl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=tx(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rr}):await this._useSession(async n=>{var a,o,c;const{data:d,error:p}=n;if(p)throw p;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Rr})})}catch(n){if(Z(n))return Op(n)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new mt;const d=o.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await In(this.storage,this.storageKey));const{data:g,error:y}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:Rr});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new mt;const n=Date.now()/1e3;let a=n,o=!0,c=null;const{payload:d}=Vl(r.access_token);if(d.exp&&(a=d.exp,o=a<=n),o){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(Z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new mt;const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ge())throw new qs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new qs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new uu("No code detected.");const{data:$,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:p,expires_at:m,token_type:g}=r;if(!c||!p||!d||!g)throw new qs("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let k=y+w;m&&(k=parseInt(m));const _=k-y;_*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const N=k-w;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,k,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,k,y);const{data:x,error:S}=await this._getUser(c);if(S)throw S;const L={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:k,refresh_token:d,token_type:g,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:r.type},error:null})}catch(a){if(Z(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:c}=n;if(c)return this._returnResult({error:c});const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(Pp(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=By(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,o;try{const{data:{session:c},error:d}=n;if(d)throw d;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await In(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:o}=await this._useSession(async c=>{var d,p,m,g,y;const{data:w,error:k}=c;if(k)throw k;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ge()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Z(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:c}}=n;if(o)throw o;const{options:d,provider:p,token:m,access_token:g,nonce:y}=r,w=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Vt}),{data:k,error:_}=w;return _?this._returnResult({data:{user:null,session:null},error:_}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Xr}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:_}))}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,o;const{data:c,error:d}=n;if(d)throw d;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await qy(async o=>(o>0&&await Wy(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Vt})),(o,c)=>{const d=200*Math.pow(2,o);return c&&wa(c)&&Date.now()+d-a<Un})}catch(a){if(this._debug(n,"error",a),Z(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Ge()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Yr(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await zn(this.userStorage,this.storageKey+"-user",d)),o.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:Wl()}else if(o&&!o.user&&!o.user){const d=await Yr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await Je(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,o)):o.user=Wl()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Fl}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),wa(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(o.access_token);!p&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $a;const{data:c,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!c.session)throw new mt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(o,"error",c),Z(c)){const d={data:null,error:c};return wa(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,n,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await zn(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const c=of(o);await zn(this.storage,this.storageKey,c)}else{const o=of(n);await zn(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Un}ms, refresh threshold is ${ou} ticks`),o<=ou&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Tu)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await In(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;return c?this._returnResult({data:null,error:c}):await ie(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,o;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&m.type==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?wx(r.webauthn.credential_response):bx(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await ie(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=await ie(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:yx(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:xx(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Vl(a.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new mt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new mt});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new mt});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Ge()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new mt})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(p=>p.kid===r);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+Ry>o)return a;const{data:c,error:d}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:_,error:N}=await this.getSession();if(N||!_.session)return this._returnResult({data:null,error:N});a=_.session.access_token}const{header:o,payload:c,signature:d,raw:{header:p,payload:m}}=Vl(a);n!=null&&n.allowExpired||Xy(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:c,header:o,signature:d},error:null}}const y=Zy(o.alg),w=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,zy(`${p}.${m}`)))throw new Na("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}}Gn.nextInstanceID={};const Px=Nu,Bp=Gn;class Ox extends Bp{constructor(r){super(r)}}class Fp{constructor(r,n,a){var o,c,d;this.supabaseUrl=r,this.supabaseKey=n;const p=Ny(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:xy,realtime:by,auth:Object.assign(Object.assign({},wy),{storageKey:m}),global:yy},y=Ey(a??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=ky(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new b0(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new my(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new v0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:d,flowType:p,lock:m,debug:g,throwOnError:y},w,k){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ox({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),w),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,userStorage:c,flowType:p,lock:m,debug:g,throwOnError:y,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new _p(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rx=(s,r,n)=>new Fp(s,r,n);function Ax(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ax()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ix=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Px,AuthApiError:Cp,AuthClient:Bp,AuthError:Jn,AuthImplicitGrantRedirectError:qs,AuthInvalidCredentialsError:Ws,AuthInvalidJwtError:Na,AuthInvalidTokenResponseError:Xr,AuthPKCECodeVerifierMissingError:Ap,AuthPKCEGrantCodeExchangeError:uu,AuthRetryableFetchError:Ea,AuthSessionMissingError:mt,AuthUnknownError:Or,AuthWeakPasswordError:cu,CustomAuthError:tr,get FunctionRegion(){return Sa},FunctionsError:Ia,FunctionsFetchError:cp,FunctionsHttpError:Xl,FunctionsRelayError:Yl,GoTrueAdminApi:Nu,GoTrueClient:Gn,NavigatorLockAcquireTimeoutError:Dp,PostgrestError:_0,REALTIME_CHANNEL_STATES:L0,get REALTIME_LISTEN_TYPES(){return Wn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return nu},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ru},get REALTIME_SUBSCRIBE_STATES(){return Zt},RealtimeChannel:nn,RealtimeClient:_p,RealtimePresence:Vn,SIGN_OUT_SCOPES:ba,SupabaseClient:Fp,WebSocketFactory:vp,createClient:Rx,isAuthApiError:Pp,isAuthError:Z,isAuthImplicitGrantRedirectError:Rp,isAuthPKCECodeVerifierMissingError:Ay,isAuthRetryableFetchError:wa,isAuthSessionMissingError:Op,isAuthWeakPasswordError:Iy,lockInternals:en,navigatorLock:Up,processLock:ux},Symbol.toStringTag,{value:"Module"})),{createClient:Lx}=Ix,$x={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZGZieGt6a3BvZW93cWh2Z3NhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDg4NjcsImV4cCI6MjA4MTQyNDg2N30.E5nQXOvoAi4PjmBeDa2iskuqDTjpKzphfOIWu52etYI",VITE_SUPABASE_URL:"https://qadfbxkzkpoeowqhvgsa.supabase.co"},Qs="https://qadfbxkzkpoeowqhvgsa.supabase.co".trim(),Ys="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZGZieGt6a3BvZW93cWh2Z3NhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NDg4NjcsImV4cCI6MjA4MTQyNDg2N30.E5nQXOvoAi4PjmBeDa2iskuqDTjpKzphfOIWu52etYI".trim();if(!Qs||!Ys){const s=`Missing Supabase environment variables!
VITE_SUPABASE_URL: ${Qs?"set":"missing"}
VITE_SUPABASE_ANON_KEY: ${Ys?"set":"missing"}

Make sure your .env file is in the project root and restart the dev server.
Current env keys: ${Object.keys($x).filter(r=>r.startsWith("VITE_")).join(", ")}`;throw console.error(s),new Error(s)}if(!Qs||Qs.length===0||!Ys||Ys.length===0)throw new Error("Supabase URL and API key must be non-empty strings");const Pe=Lx(Qs,Ys,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Ft={async signUp(s,r,n){const{data:a,error:o}=await Pe.auth.signUp({email:s,password:r,options:{data:{username:n}}});if(o)throw o;return a},async signIn(s,r){const{data:n,error:a}=await Pe.auth.signInWithPassword({email:s,password:r});if(a)throw a;return n},async signOut(){const{error:s}=await Pe.auth.signOut();if(s)throw s},async getSession(){const{data:s,error:r}=await Pe.auth.getSession();if(r)throw r;return s.session},async getProfile(s){const{data:r,error:n}=await Pe.from("profiles_with_stats").select("*").eq("id",s).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},async updateProfile(s,r){const{data:n,error:a}=await Pe.from("profiles").update(r).eq("id",s).select().single();if(a)throw a;return n},async resetPassword(s){const{error:r}=await Pe.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r},onAuthStateChange(s){return Pe.auth.onAuthStateChange(s)}},Kt=Df()(Uf((s,r)=>({user:null,isAuthenticated:!1,isLoading:!0,initialize:async()=>{try{const n=await Ft.getSession();if(n!=null&&n.user){const a=await Ft.getProfile(n.user.id);s({user:a,isAuthenticated:!!a,isLoading:!1})}else s({user:null,isAuthenticated:!1,isLoading:!1});Pe.auth.onAuthStateChange(async(a,o)=>{if(a==="SIGNED_IN"&&(o!=null&&o.user)){const c=await Ft.getProfile(o.user.id);s({user:c,isAuthenticated:!!c})}else a==="SIGNED_OUT"&&s({user:null,isAuthenticated:!1})})}catch(n){console.error("Auth initialization error:",n),s({user:null,isAuthenticated:!1,isLoading:!1})}},login:async(n,a)=>{try{const{user:o}=await Ft.signIn(n,a);if(o){const c=await Ft.getProfile(o.id);return s({user:c,isAuthenticated:!0}),{success:!0}}return{success:!1,error:"Login failed"}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Invalid email or password"}}},register:async(n,a,o)=>{try{const{user:c}=await Ft.signUp(a,o,n);if(c){await new Promise(p=>setTimeout(p,500));const d=await Ft.getProfile(c.id);return s({user:d,isAuthenticated:!0}),{success:!0}}return{success:!1,error:"Registration failed"}}catch(c){return{success:!1,error:c instanceof Error?c.message:"Registration failed"}}},logout:async()=>{try{await Ft.signOut(),s({user:null,isAuthenticated:!1})}catch(n){console.error("Logout error:",n),s({user:null,isAuthenticated:!1})}},updateProfile:async n=>{const a=r().user;if(a)try{await Ft.updateProfile(a.id,n);const o=await Ft.getProfile(a.id);s({user:o})}catch(o){throw console.error("Profile update error:",o),o}},refreshProfile:async()=>{const n=r().user;if(n)try{const a=await Ft.getProfile(n.id);s({user:a})}catch(a){console.error("Profile refresh error:",a)}}}),{name:"auth-storage",partialize:s=>({user:s.user,isAuthenticated:s.isAuthenticated})}));function Fs({children:s}){const{isAuthenticated:r}=Kt(),n=on();return r?u.jsx(u.Fragment,{children:s}):u.jsx(Kv,{to:"/login",state:{from:n},replace:!0})}const Me={async getTournaments(s){let r=Pe.from("tournaments_with_organizer").select("*").order("created_at",{ascending:!1});s!=null&&s.game&&(r=r.eq("game",s.game)),s!=null&&s.platform&&s.platform!=="all"&&(r=r.eq("platform",s.platform)),s!=null&&s.region&&s.region!=="all"&&(r=r.eq("region",s.region)),s!=null&&s.status&&s.status!=="all"&&(r=r.eq("status",s.status)),s!=null&&s.search&&(r=r.or(`name.ilike.%${s.search}%,game.ilike.%${s.search}%`));const{data:n,error:a}=await r;if(a)throw a;return n||[]},async getTournament(s){const{data:r,error:n}=await Pe.from("tournaments_with_organizer").select("*").eq("id",s).single();if(n){if(n.code==="PGRST116")return null;throw n}return r},async getUserTournaments(s){var d;const r=Pe,[n,a]=await Promise.all([r.from("tournaments_with_organizer").select("*").eq("organizer_id",s).order("created_at",{ascending:!1}),r.from("tournament_participants").select("tournament_id").eq("user_id",s)]);if(n.error)throw n.error;if(a.error)throw a.error;const o=((d=a.data)==null?void 0:d.map(p=>p.tournament_id))||[];let c=[];if(o.length>0){const{data:p,error:m}=await r.from("tournaments_with_organizer").select("*").in("id",o).order("created_at",{ascending:!1});if(m)throw m;c=p||[]}return{created:n.data||[],joined:c}},async createTournament(s,r){const{data:n,error:a}=await Pe.from("tournaments").insert({...s,organizer_id:r}).select().single();if(a)throw a;const o=await this.getTournament(n.id);if(!o)throw new Error("Failed to fetch created tournament");return o},async updateTournament(s,r){const{data:n,error:a}=await Pe.from("tournaments").update(r).eq("id",s).select().single();if(a)throw a;return n},async deleteTournament(s){const{error:r}=await Pe.from("tournaments").delete().eq("id",s);if(r)throw r},async getParticipants(s){const{data:r,error:n}=await Pe.from("tournament_participants").select(`
        *,
        profile:profiles(id, username, avatar)
      `).eq("tournament_id",s).order("joined_at",{ascending:!0});if(n)throw n;return r||[]},async joinTournament(s,r){const{error:n}=await Pe.from("tournament_participants").insert({tournament_id:s,user_id:r});if(n)throw n.code==="23505"?new Error("Already registered for this tournament"):n},async leaveTournament(s,r){const{error:n}=await Pe.from("tournament_participants").delete().eq("tournament_id",s).eq("user_id",r);if(n)throw n},async getMatches(s){const{data:r,error:n}=await Pe.from("matches").select(`
        *,
        participant1:profiles!matches_participant1_id_fkey(id, username, avatar),
        participant2:profiles!matches_participant2_id_fkey(id, username, avatar),
        winner:profiles!matches_winner_id_fkey(id, username)
      `).eq("tournament_id",s).order("round",{ascending:!0}).order("match_number",{ascending:!0});if(n)throw n;return r||[]},async updateMatch(s,r){const n={...r};r.status==="completed"&&(n.completed_at=new Date().toISOString());const{data:a,error:o}=await Pe.from("matches").update(n).eq("id",s).select().single();if(o)throw o;return a},async getGames(){const{data:s,error:r}=await Pe.from("games").select("*").order("name",{ascending:!0});if(r)throw r;return s||[]},subscribeTournaments(s){return Pe.channel("tournaments").on("postgres_changes",{event:"*",schema:"public",table:"tournaments"},s).subscribe()},subscribeMatches(s,r){return Pe.channel(`matches:${s}`).on("postgres_changes",{event:"*",schema:"public",table:"matches",filter:`tournament_id=eq.${s}`},r).subscribe()}},mf={game:"",platform:"all",region:"all",status:"all",search:""},dr=Df()(Uf((s,r)=>({tournaments:[],isLoading:!1,error:null,filters:mf,prefetchCache:new Map,setFilter:(n,a)=>{s(o=>({filters:{...o.filters,[n]:a}})),r().fetchTournaments()},resetFilters:()=>{s({filters:mf}),r().fetchTournaments()},fetchTournaments:async()=>{const{filters:n}=r();s({isLoading:!0,error:null});try{const a=await Me.getTournaments({game:n.game||void 0,platform:n.platform,region:n.region,status:n.status,search:n.search||void 0});s({tournaments:a,isLoading:!1})}catch(a){const o=a instanceof Error?a.message:"Failed to fetch tournaments";s({error:o,isLoading:!1})}},getTournamentById:async n=>{try{return await Me.getTournament(n)}catch(a){return console.error("Error fetching tournament:",a),null}},prefetchTournament:async n=>{const a=r().prefetchCache,o=a.get(n);if(!(o&&Date.now()-o.timestamp<3e4))try{const[c,d]=await Promise.all([Me.getTournament(n),Me.getParticipants(n)]);a.set(n,{tournament:c,participants:d,timestamp:Date.now()}),s({prefetchCache:new Map(a)})}catch(c){console.error("Error prefetching tournament:",c)}},getCachedTournament:n=>r().prefetchCache.get(n)||null,getUserTournaments:async n=>{try{return await Me.getUserTournaments(n)}catch(a){return console.error("Error fetching user tournaments:",a),{created:[],joined:[]}}},createTournament:async(n,a)=>{try{const o=await Me.createTournament(n,a);return s(c=>({tournaments:[o,...c.tournaments]})),o}catch(o){const c=o instanceof Error?o.message:"Failed to create tournament";throw new Error(c)}},updateTournament:async(n,a)=>{try{await Me.updateTournament(n,a),await r().fetchTournaments()}catch(o){const c=o instanceof Error?o.message:"Failed to update tournament";throw new Error(c)}},deleteTournament:async n=>{try{await Me.deleteTournament(n),s(a=>({tournaments:a.tournaments.filter(o=>o.id!==n)}))}catch(a){const o=a instanceof Error?a.message:"Failed to delete tournament";throw new Error(o)}},joinTournament:async(n,a)=>{try{return await Me.joinTournament(n,a),await r().fetchTournaments(),{success:!0}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Failed to join tournament"}}},leaveTournament:async(n,a)=>{try{await Me.leaveTournament(n,a),await r().fetchTournaments()}catch(o){const c=o instanceof Error?o.message:"Failed to leave tournament";throw new Error(c)}},updateMatchResult:async(n,a,o,c)=>{try{await Me.updateMatch(n,{participant1_score:a,participant2_score:o,winner_id:c,status:"completed"})}catch(d){const p=d instanceof Error?d.message:"Failed to update match";throw new Error(p)}}}),{name:"tournament-storage",partialize:s=>({tournaments:s.tournaments})}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vp=(...s)=>s.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=I.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},m)=>I.createElement("svg",{ref:m,...Ux,width:r,height:r,stroke:s,strokeWidth:a?Number(n)*24/Number(r):n,className:Vp("lucide",o),...p},[...d.map(([g,y])=>I.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(s,r)=>{const n=I.forwardRef(({className:a,...o},c)=>I.createElement(zx,{ref:c,iconNode:r,className:Vp(`lucide-${Dx(s)}`,a),...o}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ye("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),nw={primary:`
    bg-brutal-black text-brutal-white border-3 border-brutal-black
    hover:translate-x-[2px] hover:translate-y-[2px]
    active:translate-x-[4px] active:translate-y-[4px]
    disabled:bg-neutral-300 disabled:text-neutral-500 disabled:border-neutral-400 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none
  `,secondary:`
    bg-brutal-white text-brutal-black border-3 border-brutal-black
    hover:bg-brutal-black hover:text-brutal-white hover:translate-x-[2px] hover:translate-y-[2px]
    active:translate-x-[4px] active:translate-y-[4px]
    disabled:bg-neutral-200 disabled:text-neutral-400 disabled:border-neutral-300 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none
  `,ghost:`
    bg-transparent text-brutal-black border-none relative
    after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-brutal-vermillion after:transform after:scale-x-0 after:origin-left after:transition-transform after:duration-200
    hover:after:scale-x-100
    disabled:text-neutral-400 disabled:cursor-not-allowed disabled:after:hidden
  `,danger:`
    bg-brutal-vermillion text-brutal-white border-3 border-brutal-black
    hover:bg-brutal-vermillionDark hover:translate-x-[2px] hover:translate-y-[2px]
    active:translate-x-[4px] active:translate-y-[4px]
    disabled:bg-neutral-300 disabled:text-neutral-500 disabled:border-neutral-400 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none
  `,text:`
    bg-transparent text-brutal-black border-none
    hover:text-brutal-vermillion
    disabled:text-neutral-400 disabled:cursor-not-allowed
  `},xf={primary:"4px 4px 0px 0px #D93025",secondary:"4px 4px 0px 0px #0A0A0A",ghost:"none",danger:"4px 4px 0px 0px #0A0A0A",text:"none"},sw={primary:"2px 2px 0px 0px #D93025",secondary:"2px 2px 0px 0px #0A0A0A",ghost:"none",danger:"2px 2px 0px 0px #0A0A0A",text:"none"},iw={sm:"px-4 py-2 text-[10px]",md:"px-6 py-3 text-[11px]",lg:"px-8 py-4 text-xs"},de=I.forwardRef(({className:s="",variant:r="primary",size:n="md",isLoading:a,disabled:o,children:c,style:d,...p},m)=>{const g=o||a;return u.jsx("button",{ref:m,disabled:g,className:`
          font-mono uppercase tracking-widest transition-all duration-fast inline-flex items-center justify-center gap-2
          ${nw[r]}
          ${iw[n]}
          ${s}
        `,style:{boxShadow:g?"4px 4px 0px 0px #B8B0A0":xf[r],...d},onMouseEnter:y=>{!g&&r!=="ghost"&&r!=="text"&&(y.currentTarget.style.boxShadow=sw[r])},onMouseLeave:y=>{!g&&r!=="ghost"&&r!=="text"&&(y.currentTarget.style.boxShadow=xf[r])},...p,children:a?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-4 h-4 border-2 border-current border-t-transparent animate-spin"}),u.jsx("span",{children:"Processing..."})]}):c})});de.displayName="Button";function aw(){const{user:s,isAuthenticated:r,logout:n}=Kt(),a=$r(),[o,c]=I.useState(!1),[d,p]=I.useState(!1),m=I.useRef(null);I.useEffect(()=>{const y=w=>{m.current&&!m.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g=()=>{n(),c(!1),a("/")};return u.jsxs("header",{className:"fixed top-0 left-0 right-0 h-[72px] bg-brutal-black border-b-4 border-brutal-vermillion z-50",children:[u.jsxs("div",{className:"h-full max-w-container mx-auto px-lg flex items-center justify-between",children:[u.jsxs(oe,{to:"/",className:"flex items-center gap-3 group",children:[u.jsx("div",{className:"w-10 h-10 bg-brutal-vermillion border-2 border-brutal-white flex items-center justify-center",children:u.jsx("span",{className:"font-display text-2xl text-brutal-white",children:"A"})}),u.jsxs("div",{className:"hidden sm:flex flex-col",children:[u.jsx("span",{className:"font-display text-2xl text-brutal-white tracking-wider glitch-text",children:"ARENA"}),u.jsx("span",{className:"font-mono text-[9px] text-brutal-vermillion tracking-[0.3em] -mt-1",children:"TOURNAMENT"})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[u.jsx(oe,{to:"/",className:"px-4 py-2 font-mono text-mono-xs text-brutal-white uppercase tracking-widest hover:bg-brutal-vermillion transition-colors border-r border-neutral-700",children:"Discover"}),r&&u.jsx(oe,{to:"/dashboard",className:"px-4 py-2 font-mono text-mono-xs text-brutal-white uppercase tracking-widest hover:bg-brutal-vermillion transition-colors border-r border-neutral-700",children:"Dashboard"}),u.jsx("span",{className:"px-4 py-2 font-mono text-mono-xs text-neutral-500 uppercase tracking-widest border-r border-neutral-700",children:"2025.12"})]}),u.jsx("div",{className:"hidden md:flex items-center gap-3",children:r?u.jsxs("div",{className:"relative",ref:m,children:[u.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-3 px-3 py-2 bg-neutral-800 border-2 border-neutral-600 hover:border-brutal-vermillion transition-colors",children:[u.jsx("div",{className:"w-7 h-7 bg-brutal-vermillion border-2 border-brutal-white overflow-hidden",children:s!=null&&s.avatar?u.jsx("img",{src:s.avatar,alt:s.username,className:"w-full h-full object-cover"}):u.jsx(an,{className:"w-full h-full p-1 text-brutal-white"})}),u.jsx("span",{className:"font-mono text-mono-xs text-brutal-white uppercase tracking-wider",children:s==null?void 0:s.username})]}),o&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-brutal-white border-3 border-brutal-black shadow-brutal",children:[u.jsxs("div",{className:"px-4 py-3 border-b-3 border-brutal-black bg-brutal-cream",children:[u.jsx("span",{className:"font-mono text-mono-xs text-neutral-500 uppercase tracking-widest",children:"Logged in as"}),u.jsx("p",{className:"font-mono text-sm text-brutal-black mt-1",children:s==null?void 0:s.email})]}),u.jsxs(oe,{to:"/profile",onClick:()=>c(!1),className:"flex items-center gap-3 px-4 py-3 font-mono text-mono-xs uppercase tracking-wider hover:bg-brutal-vermillion hover:text-brutal-white transition-colors border-b border-neutral-200",children:[u.jsx(an,{size:14}),"Profile"]}),u.jsxs(oe,{to:"/dashboard",onClick:()=>c(!1),className:"flex items-center gap-3 px-4 py-3 font-mono text-mono-xs uppercase tracking-wider hover:bg-brutal-vermillion hover:text-brutal-white transition-colors border-b border-neutral-200",children:[u.jsx(Jx,{size:14}),"Dashboard"]}),u.jsxs(oe,{to:"/create-tournament",onClick:()=>c(!1),className:"flex items-center gap-3 px-4 py-3 font-mono text-mono-xs uppercase tracking-wider hover:bg-brutal-vermillion hover:text-brutal-white transition-colors border-b border-neutral-200",children:[u.jsx(Nt,{size:14}),"Create Tournament"]}),u.jsxs(oe,{to:"/profile/settings",onClick:()=>c(!1),className:"flex items-center gap-3 px-4 py-3 font-mono text-mono-xs uppercase tracking-wider hover:bg-brutal-vermillion hover:text-brutal-white transition-colors border-b border-neutral-200",children:[u.jsx(Pu,{size:14}),"Settings"]}),u.jsxs("button",{onClick:g,className:"flex items-center gap-3 px-4 py-3 font-mono text-mono-xs uppercase tracking-wider hover:bg-brutal-black hover:text-brutal-white transition-colors w-full text-left text-brutal-vermillion",children:[u.jsx(Gx,{size:14}),"Logout"]})]})]}):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(oe,{to:"/login",children:u.jsx(de,{size:"sm",children:"Login"})}),u.jsx(oe,{to:"/register",children:u.jsx(de,{size:"sm",children:"Register"})})]})}),u.jsx("button",{onClick:()=>p(!d),className:"md:hidden p-2 text-brutal-white border-2 border-neutral-600 hover:border-brutal-vermillion transition-colors",children:d?u.jsx(Da,{size:24}):u.jsx(Yx,{size:24})})]}),d&&u.jsx("div",{className:"md:hidden absolute top-[72px] left-0 right-0 bg-brutal-black border-b-4 border-brutal-vermillion",children:u.jsxs("nav",{className:"flex flex-col",children:[u.jsxs(oe,{to:"/",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Discover"]}),r?u.jsxs(u.Fragment,{children:[u.jsxs(oe,{to:"/dashboard",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Dashboard"]}),u.jsxs(oe,{to:"/profile",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Profile"]}),u.jsxs(oe,{to:"/create-tournament",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Create Tournament"]}),u.jsxs("button",{onClick:()=>{g(),p(!1)},className:"px-lg py-4 font-mono text-mono-sm text-brutal-vermillion uppercase tracking-widest text-left hover:bg-brutal-vermillion hover:text-brutal-white transition-colors",children:[u.jsx("span",{className:"mr-2",children:">"})," Logout"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(oe,{to:"/login",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Login"]}),u.jsxs(oe,{to:"/register",onClick:()=>p(!1),className:"px-lg py-4 font-mono text-mono-sm text-brutal-white uppercase tracking-widest border-b border-neutral-700 hover:bg-brutal-vermillion transition-colors",children:[u.jsx("span",{className:"text-brutal-vermillion mr-2",children:">"})," Register"]})]})]})})]})}function ow(){return u.jsxs("footer",{className:"bg-brutal-black text-brutal-white border-t-4 border-brutal-vermillion",children:[u.jsx("div",{className:"max-w-container mx-auto px-lg py-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-xl",children:[u.jsxs("div",{className:"md:col-span-5 md:border-r-3 md:border-neutral-700 md:pr-xl",children:[u.jsxs(oe,{to:"/",className:"flex items-center gap-3 mb-lg group",children:[u.jsx("div",{className:"w-12 h-12 bg-brutal-vermillion border-2 border-brutal-white flex items-center justify-center",children:u.jsx("span",{className:"font-display text-3xl text-brutal-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-display text-3xl text-brutal-white tracking-wider",children:"ARENA"}),u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion tracking-[0.3em] -mt-1",children:"TOURNAMENT"})]})]}),u.jsx("p",{className:"font-mono text-mono-sm text-neutral-400 leading-relaxed max-w-sm",children:"The premier platform for competitive gaming tournaments. Create, join, and compete at the highest level."}),u.jsxs("div",{className:"mt-lg flex items-center gap-4",children:[u.jsx("span",{className:"font-mono text-mono-xs text-neutral-500 uppercase tracking-widest",children:"Status:"}),u.jsxs("span",{className:"flex items-center gap-2 font-mono text-mono-xs text-brutal-white uppercase tracking-widest",children:[u.jsx("span",{className:"w-2 h-2 bg-semantic-success animate-pulse"}),"Operational"]})]})]}),u.jsxs("div",{className:"md:col-span-7 grid grid-cols-2 sm:grid-cols-3 gap-lg",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest mb-md border-b border-neutral-700 pb-2",children:"[01] Navigate"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(oe,{to:"/",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Discover"})}),u.jsx("li",{children:u.jsx(oe,{to:"/dashboard",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Dashboard"})}),u.jsx("li",{children:u.jsx(oe,{to:"/create-tournament",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Host Event"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest mb-md border-b border-neutral-700 pb-2",children:"[02] Support"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Help Center"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Guidelines"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Contact"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest mb-md border-b border-neutral-700 pb-2",children:"[03] Legal"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Terms"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Privacy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"font-mono text-mono-sm text-neutral-400 hover:text-brutal-white hover:pl-2 transition-all",children:"> Cookies"})})]})]})]})]})}),u.jsx("div",{className:"border-t-3 border-neutral-700",children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-md flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsx("p",{className:"font-mono text-mono-xs text-neutral-500 uppercase tracking-widest",children:" 2025 Arena Platform // All Rights Reserved"}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-widest",children:"v1.0.0"}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600",children:"|"}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-widest",children:"Global"})]})]})})]})}function er({children:s}){return u.jsxs("div",{className:"min-h-screen flex flex-col bg-brutal-cream noise-overlay",children:[u.jsx(aw,{}),u.jsx("main",{className:"flex-1 pt-[72px]",children:s}),u.jsx(ow,{})]})}function ei({items:s}){return u.jsx("nav",{className:"py-md","aria-label":"Breadcrumb",children:u.jsxs("ol",{className:"flex items-center flex-wrap gap-1 font-mono text-mono-xs",children:[u.jsx("li",{className:"text-brutal-vermillion mr-2",children:">"}),s.map((r,n)=>{const a=n===s.length-1;return u.jsxs("li",{className:"flex items-center",children:[r.href&&!a?u.jsx(oe,{to:r.href,className:"text-neutral-500 uppercase tracking-widest hover:text-brutal-vermillion transition-colors",children:r.label}):u.jsx("span",{className:`uppercase tracking-widest ${a?"text-brutal-black":"text-neutral-500"}`,children:r.label}),!a&&u.jsx(Cu,{className:"w-3 h-3 mx-2 text-neutral-400"})]},n)})]})})}function Hn({icon:s,title:r,description:n,actionLabel:a,onAction:o}){return u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black p-3xl text-center relative",style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},children:[u.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-l-2 border-t-2 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-r-2 border-b-2 border-brutal-vermillion"}),u.jsx(s,{className:"w-16 h-16 text-neutral-300 mx-auto mb-md",strokeWidth:1.5}),u.jsx("h3",{className:"font-display text-2xl uppercase text-brutal-black mb-2",children:r}),n&&u.jsx("p",{className:"font-mono text-mono-sm text-neutral-500 mt-2 max-w-md mx-auto",children:n}),a&&o&&u.jsx(de,{onClick:o,className:"mt-lg",children:a})]})}const gt=I.forwardRef(({children:s,className:r="",hoverable:n=!1,onClick:a,onMouseEnter:o},c)=>u.jsx("div",{ref:c,onClick:a,className:`
          bg-brutal-white border-3 border-brutal-black transition-all duration-fast
          ${n?"cursor-pointer hover:-translate-x-0.5 hover:-translate-y-0.5":""}
          ${a?"cursor-pointer":""}
          ${r}
        `,style:{boxShadow:n?"4px 4px 0px 0px #0A0A0A":"none"},onMouseEnter:d=>{o==null||o(),n&&(d.currentTarget.style.boxShadow="6px 6px 0px 0px #0A0A0A")},onMouseLeave:d=>{n&&(d.currentTarget.style.boxShadow="4px 4px 0px 0px #0A0A0A")},children:s}));gt.displayName="Card";function Mn({children:s,className:r=""}){return u.jsx("div",{className:`p-md ${r}`,children:s})}const lw={default:"bg-neutral-200 text-neutral-600 border-neutral-400",success:"bg-semantic-success text-brutal-white border-brutal-black",warning:"bg-semantic-warning text-brutal-black border-brutal-black",error:"bg-brutal-vermillion text-brutal-white border-brutal-black",info:"bg-accent-indigo text-brutal-white border-brutal-black"};function uw({children:s,variant:r="default",className:n=""}){return u.jsx("span",{className:`
        inline-flex items-center px-3 py-1 font-mono text-mono-xs uppercase tracking-widest border-2
        ${lw[r]}
        ${n}
      `,children:s})}const cw={upcoming:"info",live:"success",completed:"default",cancelled:"error",pending:"warning"},dw={upcoming:"Upcoming",live:"LIVE",completed:"Completed",cancelled:"Cancelled",pending:"Pending"};function It({status:s,className:r=""}){return u.jsxs(uw,{variant:cw[s],className:r,children:[s==="live"&&u.jsx("span",{className:"w-2 h-2 bg-current mr-2 animate-pulse"}),dw[s]]})}function hw({children:s,className:r=""}){return u.jsx("span",{className:`
        inline-flex items-center px-2 py-0.5 font-mono text-mono-xs uppercase tracking-widest
        bg-brutal-black text-brutal-white
        ${r}
      `,children:s})}const Jp=["Valorant","League of Legends","Street Fighter 6","Call of Duty","Rocket League","Mobile Legends","Counter-Strike 2","Dota 2","Fortnite","Apex Legends","Overwatch 2","Super Smash Bros"],fw={Valorant:"/valorant_thumbnail.jpg","League of Legends":"/lol_thumbnail.jpg","Street Fighter 6":"/sf6_thumbnail.jpg","Call of Duty":"/cod_thumbnail.jpg","Rocket League":"/rl_thumbnail.jpg","Mobile Legends":"/mobile_legends.jpg","Counter-Strike 2":"/cs2.jpg","Dota 2":"/dota.jpg",Fortnite:"/fortnite.jpg","Apex Legends":"/apex.jpg","Overwatch 2":"/ow.jpg","Super Smash Bros":"/supersmash.jpg"};function Gp(s){return fw[s]}function wf({tournament:s}){const r=$r(),{prefetchTournament:n}=dr(),a=I.useRef(null),o=()=>{n(s.id)};I.useEffect(()=>{const p=a.current;if(!p)return;const m=new IntersectionObserver(g=>{g.forEach(y=>{y.isIntersecting&&(n(s.id),m.disconnect())})},{rootMargin:"100px"});return m.observe(p),()=>{m.disconnect()}},[s.id,n]);const c=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=p=>p.split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");return u.jsxs(gt,{ref:a,hoverable:!0,onClick:()=>r(`/tournament/${s.id}`),onMouseEnter:o,className:"group overflow-hidden",children:[u.jsxs("div",{className:"px-md py-2 bg-brutal-black text-brutal-white flex items-center justify-between",children:[u.jsxs("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest",children:["[",s.id.slice(0,4),"]"]}),u.jsx("span",{className:"font-mono text-mono-xs uppercase tracking-widest",children:s.game})]}),u.jsxs("div",{className:"relative aspect-[16/9] bg-neutral-100 overflow-hidden border-b-3 border-brutal-black",children:[(()=>{const p=s.image||Gp(s.game);return p?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:p,alt:s.name,className:"w-full h-full object-cover transition-all duration-normal group-hover:scale-105 grayscale group-hover:grayscale-0"}),u.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(10, 10, 10, 0.15) 2px, rgba(10, 10, 10, 0.15) 4px)"}})]}):u.jsx("div",{className:"w-full h-full flex items-center justify-center bg-neutral-200",children:u.jsx(Kx,{className:"w-16 h-16 text-neutral-400"})})})(),u.jsx("div",{className:"absolute top-3 left-3",children:u.jsx(It,{status:s.status})}),s.prize_pool&&u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(hw,{children:s.prize_pool})})]}),u.jsxs(Mn,{className:"p-md",children:[u.jsx("h3",{className:"font-display text-xl text-brutal-black uppercase tracking-wide mb-3 line-clamp-1 group-hover:text-brutal-vermillion transition-colors",children:s.name}),u.jsxs("div",{className:"space-y-2 border-t-2 border-dashed border-neutral-300 pt-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Xs,{size:12,className:"text-brutal-vermillion"}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-widest",children:c(s.start_date)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(qp,{size:12,className:"text-brutal-vermillion"}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-widest",children:d(s.region)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qn,{size:12,className:"text-brutal-vermillion"}),u.jsxs("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-widest",children:[s.current_participants,"/",s.max_participants," Players"]})]})]}),s.status==="upcoming"&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"font-mono text-mono-xs text-neutral-500 uppercase tracking-widest",children:"Capacity"}),u.jsxs("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest",children:[Math.round(s.current_participants/s.max_participants*100),"%"]})]}),u.jsx("div",{className:"h-2 bg-neutral-200 border border-brutal-black overflow-hidden",children:u.jsx("div",{className:"h-full bg-brutal-black transition-all duration-slow",style:{width:`${s.current_participants/s.max_participants*100}%`}})})]})]})]})}const nt=I.forwardRef(({label:s,error:r,className:n="",type:a,...o},c)=>{const[d,p]=I.useState(!1),[m,g]=I.useState(!1),y=a==="password";return u.jsxs("div",{className:"w-full",children:[s&&u.jsxs("label",{className:"block font-mono text-mono-xs uppercase tracking-widest text-neutral-600 mb-2",children:[u.jsx("span",{className:"text-brutal-vermillion mr-1",children:">"}),s]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{ref:c,type:y?d?"text":"password":a,className:`
              w-full bg-brutal-white border-3 px-4 py-3 font-mono text-sm text-brutal-black
              placeholder:text-neutral-400 transition-all duration-fast
              focus:outline-none
              ${r?"border-brutal-vermillion":"border-brutal-black"}
              ${y?"pr-12":""}
              ${n}
            `,style:{boxShadow:m||r?"4px 4px 0px 0px #D93025":"none"},onFocus:()=>g(!0),onBlur:()=>g(!1),...o}),y&&u.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-brutal-vermillion transition-colors",tabIndex:-1,children:d?u.jsx(qx,{size:18}):u.jsx(Wp,{size:18})})]}),r&&u.jsxs("p",{className:"mt-2 font-mono text-mono-xs text-brutal-vermillion uppercase tracking-wider",children:["! ",r]})]})});nt.displayName="Input";const Yn=I.forwardRef(({label:s,error:r,className:n="",...a},o)=>{const[c,d]=I.useState(!1);return u.jsxs("div",{className:"w-full",children:[s&&u.jsxs("label",{className:"block font-mono text-mono-xs uppercase tracking-widest text-neutral-600 mb-2",children:[u.jsx("span",{className:"text-brutal-vermillion mr-1",children:">"}),s]}),u.jsx("textarea",{ref:o,className:`
            w-full bg-brutal-white border-3 px-4 py-3 font-mono text-sm text-brutal-black
            placeholder:text-neutral-400 transition-all duration-fast resize-none
            focus:outline-none
            ${r?"border-brutal-vermillion":"border-brutal-black"}
            ${n}
          `,style:{boxShadow:c||r?"4px 4px 0px 0px #D93025":"none"},onFocus:()=>d(!0),onBlur:()=>d(!1),...a}),r&&u.jsxs("p",{className:"mt-2 font-mono text-mono-xs text-brutal-vermillion uppercase tracking-wider",children:["! ",r]})]})});Yn.displayName="Textarea";const Ht=I.forwardRef(({label:s,error:r,options:n,className:a="",...o},c)=>{const[d,p]=I.useState(!1);return u.jsxs("div",{className:"w-full",children:[s&&u.jsxs("label",{className:"block font-mono text-mono-xs uppercase tracking-widest text-neutral-600 mb-2",children:[u.jsx("span",{className:"text-brutal-vermillion mr-1",children:">"}),s]}),u.jsx("select",{ref:c,className:`
            w-full bg-brutal-white border-3 px-4 py-3 font-mono text-sm text-brutal-black
            transition-all duration-fast cursor-pointer appearance-none
            focus:outline-none
            ${r?"border-brutal-vermillion":"border-brutal-black"}
            ${a}
          `,style:{boxShadow:d||r?"4px 4px 0px 0px #D93025":"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%230A0A0A' stroke-width='3' stroke-linecap='square' stroke-linejoin='miter'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 16px center"},onFocus:()=>p(!0),onBlur:()=>p(!1),...o,children:n.map(m=>u.jsx("option",{value:m.value,children:m.label},m.value))}),r&&u.jsxs("p",{className:"mt-2 font-mono text-mono-xs text-brutal-vermillion uppercase tracking-wider",children:["! ",r]})]})});Ht.displayName="Select";function pw(){const{filters:s,setFilter:r,resetFilters:n}=dr(),a=s.search||s.game||s.platform!=="all"||s.region!=="all"||s.status!=="all",o=[{value:"",label:"All Games"},...Jp.map(m=>({value:m,label:m}))],c=[{value:"all",label:"All Platforms"},{value:"pc",label:"PC"},{value:"playstation",label:"PlayStation"},{value:"xbox",label:"Xbox"},{value:"nintendo",label:"Nintendo"},{value:"mobile",label:"Mobile"},{value:"cross-platform",label:"Cross-Platform"}],d=[{value:"all",label:"All Regions"},{value:"north-america",label:"North America"},{value:"europe",label:"Europe"},{value:"asia",label:"Asia"},{value:"oceania",label:"Oceania"},{value:"south-america",label:"South America"},{value:"global",label:"Global"}],p=[{value:"all",label:"All Status"},{value:"upcoming",label:"Upcoming"},{value:"live",label:"Live"},{value:"completed",label:"Completed"}];return u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black",style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},children:[u.jsxs("div",{className:"px-md py-sm bg-brutal-black text-brutal-white flex items-center gap-3",children:[u.jsx(Hx,{size:14,className:"text-brutal-vermillion"}),u.jsxs("span",{className:"font-mono text-mono-xs uppercase tracking-widest",children:["Filters ",a&&u.jsx("span",{className:"text-brutal-vermillion ml-2",children:" Active"})]})]}),u.jsxs("div",{className:"p-lg",children:[u.jsxs("div",{className:"relative mb-md",children:[u.jsx(ew,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),u.jsx("input",{type:"text",placeholder:"Search tournaments...",value:s.search,onChange:m=>r("search",m.target.value),className:"w-full bg-brutal-cream border-3 border-brutal-black pl-12 pr-4 py-3 font-mono text-sm placeholder:text-neutral-400 focus:outline-none transition-all",style:{boxShadow:s.search?"2px 2px 0px 0px #D93025":"none"}})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md",children:[u.jsx(Ht,{options:o,value:s.game,onChange:m=>r("game",m.target.value)}),u.jsx(Ht,{options:c,value:s.platform,onChange:m=>r("platform",m.target.value)}),u.jsx(Ht,{options:d,value:s.region,onChange:m=>r("region",m.target.value)}),u.jsx(Ht,{options:p,value:s.status,onChange:m=>r("status",m.target.value)})]}),a&&u.jsxs("button",{onClick:n,className:"mt-md flex items-center gap-2 font-mono text-mono-xs uppercase tracking-widest text-neutral-500 hover:text-brutal-vermillion transition-colors group",children:[u.jsx(Da,{size:14,className:"group-hover:rotate-90 transition-transform"}),"Clear all filters"]})]})]})}function mw({matches:s,format:r}){const n=s.reduce((o,c)=>{const d=c.round;return o[d]||(o[d]=[]),o[d].push(c),o},{}),a=Object.keys(n).map(Number).sort((o,c)=>o-c);return s.length===0?u.jsx("div",{className:"bg-neutral-100 p-xl text-center",children:u.jsx("p",{className:"text-neutral-500 text-sm",children:"Bracket will be generated when the tournament starts."})}):r==="round-robin"?u.jsx(vw,{matches:s}):u.jsx("div",{className:"overflow-x-auto pb-4",children:u.jsx("div",{className:"flex gap-xl min-w-max",children:a.map(o=>u.jsxs("div",{className:"flex flex-col gap-md",children:[u.jsxs("h4",{className:"text-xs uppercase tracking-widest text-neutral-500 text-center mb-2",children:["Round ",o]}),u.jsx("div",{className:"flex flex-col gap-lg justify-around flex-1",children:n[o].map(c=>u.jsx(gw,{match:c},c.id))})]},o))})})}function gw({match:s}){var a,o;const r=s.status==="live",n=s.status==="completed";return u.jsxs("div",{className:`
        w-64 border transition-all duration-normal
        ${r?"border-semantic-success bg-semantic-success/5":"border-neutral-200 bg-primary-white"}
      `,children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-neutral-100",children:[u.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-neutral-500",children:["Match ",s.match_number]}),u.jsx(It,{status:s.status})]}),u.jsxs("div",{className:"divide-y divide-neutral-100",children:[u.jsx(bf,{participant:s.participant1,score:s.participant1_score,isWinner:s.winner_id===((a=s.participant1)==null?void 0:a.id),isCompleted:n}),u.jsx(bf,{participant:s.participant2,score:s.participant2_score,isWinner:s.winner_id===((o=s.participant2)==null?void 0:o.id),isCompleted:n})]})]})}function bf({participant:s,score:r,isWinner:n,isCompleted:a}){return s?u.jsxs("div",{className:`
        flex items-center justify-between px-3 py-3
        ${n&&a?"bg-semantic-success/10":""}
      `,children:[u.jsx("span",{className:`
          text-xs uppercase tracking-wide truncate max-w-[160px]
          ${n&&a?"font-medium":""}
        `,children:s.username}),u.jsx("span",{className:`
          text-sm font-medium min-w-[24px] text-center
          ${n&&a?"text-semantic-success":"text-neutral-600"}
        `,children:r??"-"})]}):u.jsxs("div",{className:"flex items-center justify-between px-3 py-3",children:[u.jsx("span",{className:"text-xs text-neutral-400 italic",children:"TBD"}),u.jsx("span",{className:"text-xs text-neutral-300",children:"-"})]})}function vw({matches:s}){return u.jsx("div",{className:"space-y-md",children:s.map(r=>{var n,a,o,c;return u.jsxs("div",{className:`
            border p-4 transition-all
            ${r.status==="live"?"border-semantic-success bg-semantic-success/5":"border-neutral-200"}
          `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-neutral-500",children:["Round ",r.round," - Match ",r.match_number]}),u.jsx(It,{status:r.status})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:u.jsx("span",{className:`
                  text-sm uppercase tracking-wide
                  ${r.winner_id===((n=r.participant1)==null?void 0:n.id)?"font-medium":""}
                `,children:((a=r.participant1)==null?void 0:a.username)||"TBD"})}),u.jsxs("div",{className:"flex items-center gap-4 px-4",children:[u.jsx("span",{className:"text-lg font-medium w-8 text-center",children:r.participant1_score??"-"}),u.jsx("span",{className:"text-neutral-300",children:"vs"}),u.jsx("span",{className:"text-lg font-medium w-8 text-center",children:r.participant2_score??"-"})]}),u.jsx("div",{className:"flex-1 text-right",children:u.jsx("span",{className:`
                  text-sm uppercase tracking-wide
                  ${r.winner_id===((o=r.participant2)==null?void 0:o.id)?"font-medium":""}
                `,children:((c=r.participant2)==null?void 0:c.username)||"TBD"})})]})]},r.id)})})}function _f(){const{tournaments:s,fetchTournaments:r,isLoading:n,filters:a}=dr(),{isAuthenticated:o}=Kt(),c=a.search||a.game||a.platform!=="all"||a.region!=="all"||a.status!=="all";I.useEffect(()=>{s.length===0&&!n&&!c&&r()},[s.length,n,c,r]);const d=[...s].filter(p=>p.status==="live"||p.status==="upcoming").sort((p,m)=>m.current_participants-p.current_participants).slice(0,3);return u.jsxs(er,{children:[u.jsxs("section",{className:"relative min-h-[500px] bg-brutal-black overflow-hidden animate-fade-in",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
            `,backgroundSize:"48px 48px"}}),u.jsx("div",{className:"absolute inset-0 opacity-20 grayscale",style:{backgroundImage:"url(https://images.unsplash.com/photo-1542751371-adc38448a05e?w=1600&q=80)",backgroundSize:"cover",backgroundPosition:"center"}}),u.jsx("div",{className:"absolute top-0 right-0 w-96 h-full bg-brutal-vermillion transform skew-x-12 translate-x-32 opacity-80"}),u.jsxs("div",{className:"relative max-w-container mx-auto px-lg py-3xl flex flex-col justify-center min-h-[500px]",children:[u.jsx("div",{className:"mb-lg",children:u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] border-b-2 border-brutal-vermillion pb-1",children:"// Tournament Platform v1.0"})}),u.jsxs("h1",{className:"font-display text-[72px] md:text-[96px] lg:text-[120px] text-brutal-white uppercase leading-[0.85] mb-md max-w-4xl",children:["Compete",u.jsx("br",{}),u.jsx("span",{className:"text-brutal-vermillion",children:"& Conquer"})]}),u.jsx("p",{className:"font-mono text-sm text-brutal-white/60 mb-2 tracking-widest uppercase",children:"Compete at the highest level"}),u.jsx("p",{className:"font-mono text-mono-sm text-neutral-400 max-w-lg mb-xl leading-relaxed",children:"Join thousands of players in competitive gaming tournaments. Create, compete, and climb the ranks. No limits. No excuses."}),u.jsx("div",{className:"flex flex-wrap gap-4",children:o?u.jsxs(u.Fragment,{children:[u.jsx(oe,{to:"/create-tournament",children:u.jsxs(de,{size:"lg",children:["Create Tournament",u.jsx(vf,{size:16})]})}),u.jsx(oe,{to:"/dashboard",children:u.jsx(de,{size:"lg",children:"View Dashboard"})})]}):u.jsxs(u.Fragment,{children:[u.jsx(oe,{to:"/register",children:u.jsxs(de,{size:"lg",children:["Get Started",u.jsx(vf,{size:16})]})}),u.jsx(oe,{to:"/login",children:u.jsx(de,{size:"lg",children:"Sign In"})})]})})]}),u.jsx("div",{className:"absolute top-8 left-8 w-16 h-16 border-l-4 border-t-4 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-8 right-8 w-16 h-16 border-r-4 border-b-4 border-brutal-vermillion"})]}),u.jsx("section",{className:"bg-brutal-white border-y-4 border-brutal-black animate-fade-in",children:u.jsx("div",{className:"max-w-container mx-auto",children:u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4",children:[{icon:Nt,value:`${s.length}+`,label:"Tournaments"},{icon:Qn,value:"2,500+",label:"Players"},{icon:Kp,value:s.filter(p=>p.status==="live").length.toString(),label:"Live Now"},{icon:Mx,value:"$15K+",label:"Prize Pools"}].map((p,m)=>u.jsxs("div",{className:`p-lg text-center border-brutal-black ${m<3?"border-r-3":""} hover:bg-brutal-cream transition-colors group animate-fade-in`,style:{animationDelay:`${m*100}ms`},children:[u.jsx(p.icon,{className:"w-6 h-6 mx-auto mb-3 text-brutal-vermillion group-hover:scale-110 transition-transform"}),u.jsx("div",{className:"font-display text-4xl text-brutal-black mb-1",children:p.value}),u.jsx("div",{className:"font-mono text-mono-xs uppercase tracking-widest text-neutral-500",children:p.label})]},p.label))})})}),u.jsxs("section",{className:"max-w-container mx-auto px-lg py-2xl",children:[u.jsxs("div",{className:"flex items-end justify-between mb-lg border-b-3 border-brutal-black pb-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] block mb-2",children:"[01] Featured"}),u.jsx("h2",{className:"font-display text-4xl md:text-5xl uppercase text-brutal-black",children:"Featured"})]}),d.length>0&&u.jsxs("span",{className:"hidden md:block font-mono text-mono-xs text-neutral-400 uppercase tracking-widest",children:[d.length," Events"]})]}),n?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-lg",children:[1,2,3].map(p=>u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black animate-pulse",style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},children:[u.jsx("div",{className:"h-48 bg-neutral-200"}),u.jsxs("div",{className:"p-lg space-y-3",children:[u.jsx("div",{className:"h-6 bg-neutral-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/2"})]})]},p))}):d.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-lg",children:d.map(p=>u.jsx("div",{children:u.jsx(wf,{tournament:p})},p.id))}):u.jsx(Hn,{icon:Nt,title:"No Featured Tournaments",description:"Check back soon for featured tournaments"})]}),u.jsxs("section",{className:"max-w-container mx-auto px-lg pb-3xl animate-fade-in",children:[u.jsxs("div",{className:"flex items-end justify-between mb-lg border-b-3 border-brutal-black pb-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] block mb-2",children:"[02] Browse"}),u.jsx("h2",{className:"font-display text-4xl md:text-5xl uppercase text-brutal-black",children:"All Tournaments"})]}),u.jsxs("span",{className:"hidden md:block font-mono text-mono-xs text-neutral-400 uppercase tracking-widest",children:[s.length," Total"]})]}),u.jsx(pw,{}),u.jsx("div",{className:"mt-lg",children:n?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-lg",children:[1,2,3,4].map(p=>u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black animate-pulse",style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},children:[u.jsx("div",{className:"h-48 bg-neutral-200"}),u.jsxs("div",{className:"p-lg space-y-3",children:[u.jsx("div",{className:"h-6 bg-neutral-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/2"})]})]},p))}):s.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-lg",children:s.map(p=>u.jsx("div",{children:u.jsx(wf,{tournament:p})},p.id))}):u.jsx(Hn,{icon:Nt,title:"No Tournaments Found",description:"Be the first to create a tournament!"})})]})]})}function yw(){const{user:s}=Kt(),{getUserTournaments:r,tournaments:n}=dr(),[a,o]=I.useState({created:[],joined:[]}),[c,d]=I.useState([]);I.useEffect(()=>{(async()=>{if(s)try{const y=await r(s.id);o(y);const w=y.joined.map(x=>Me.getMatches(x.id)),N=(await Promise.all(w)).flat().filter(x=>x.status==="pending"||x.status==="live").slice(0,5);d(N)}catch(y){console.error("Failed to load dashboard data:",y)}})()},[s,r]);const p=!!s,m=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-lg",children:[u.jsx(ei,{items:[{label:"Home",href:"/"},{label:"Dashboard"}]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between mb-xl border-b-3 border-brutal-black pb-lg",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] block mb-2",children:"// User Dashboard"}),u.jsx("h1",{className:"font-display text-4xl md:text-5xl uppercase text-brutal-black",children:"Dashboard"}),u.jsxs("p",{className:"font-mono text-mono-sm text-neutral-500 mt-2",children:["Welcome back, ",u.jsx("span",{className:"text-brutal-vermillion",children:s==null?void 0:s.username})]})]}),u.jsxs("div",{className:"flex gap-md mt-md md:mt-0",children:[p&&u.jsx(oe,{to:"/create-tournament",children:u.jsxs(de,{children:[u.jsx(yf,{size:16}),"Create"]})}),u.jsx(oe,{to:"/",children:u.jsx(de,{variant:"secondary",children:"Browse"})})]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-0 mb-xl bg-brutal-white border-3 border-brutal-black",style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},children:[{label:"Joined",value:(s==null?void 0:s.tournaments_joined)||0},{label:"Created",value:(s==null?void 0:s.tournaments_created)||0},{label:"Wins",value:(s==null?void 0:s.wins)||0,color:"text-semantic-success"},{label:"Losses",value:(s==null?void 0:s.losses)||0,color:"text-neutral-400"}].map((g,y)=>u.jsxs("div",{className:`p-lg text-center ${y<3?"border-r-3 border-brutal-black":""}`,children:[u.jsx("div",{className:"font-mono text-mono-xs uppercase tracking-widest text-neutral-500 mb-1",children:g.label}),u.jsx("div",{className:`font-display text-4xl ${g.color||"text-brutal-black"}`,children:g.value})]},g.label))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-xl",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-md border-b-2 border-brutal-black pb-2",children:[u.jsxs("h2",{className:"font-display text-2xl uppercase flex items-center gap-3",children:[u.jsx(Kp,{size:20,className:"text-brutal-vermillion"}),"Upcoming Matches"]}),u.jsxs("span",{className:"font-mono text-mono-xs text-neutral-400 uppercase tracking-widest",children:[c.length," Total"]})]}),c.length===0?u.jsx(Hn,{icon:Xs,title:"No upcoming matches",description:"Join a tournament to see your upcoming matches here.",actionLabel:"Browse Tournaments",onAction:()=>window.location.href="/"}):u.jsx("div",{className:"space-y-md",children:c.map(g=>{var w,k;const y=n.find(_=>_.id===g.tournament_id)||a.joined.find(_=>_.id===g.tournament_id)||a.created.find(_=>_.id===g.tournament_id);return u.jsx(oe,{to:`/tournament/${g.tournament_id}/matches`,children:u.jsxs(gt,{hoverable:!0,className:"group",children:[u.jsxs("div",{className:"px-md py-sm bg-brutal-black text-brutal-white flex items-center justify-between",children:[u.jsx("span",{className:"font-mono text-mono-xs uppercase tracking-widest",children:y==null?void 0:y.name}),u.jsx(It,{status:g.status})]}),u.jsx(Mn,{className:"p-md",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"font-display text-lg uppercase",children:((w=g.participant1)==null?void 0:w.username)||"TBD"}),u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion",children:"VS"}),u.jsx("span",{className:"font-display text-lg uppercase",children:((k=g.participant2)==null?void 0:k.username)||"TBD"})]}),u.jsxs("div",{className:"flex items-center gap-md",children:[g.scheduled_at&&u.jsx("span",{className:"font-mono text-mono-xs text-neutral-500 uppercase tracking-widest",children:m(g.scheduled_at)}),u.jsx(Cu,{size:16,className:"text-neutral-400 group-hover:text-brutal-vermillion transition-colors"})]})]})})]})},g.id)})})]}),u.jsxs("div",{className:"space-y-xl",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"font-display text-xl uppercase mb-md border-b-2 border-brutal-black pb-2 flex items-center gap-2",children:[u.jsx("span",{className:"text-brutal-vermillion",children:"[01]"})," Quick Actions"]}),u.jsxs("div",{className:"space-y-sm",children:[u.jsx(oe,{to:"/",className:"block",children:u.jsx(gt,{hoverable:!0,className:"group",children:u.jsxs(Mn,{className:"p-md flex items-center gap-md",children:[u.jsx(Nt,{size:18,className:"text-neutral-500 group-hover:text-brutal-vermillion transition-colors"}),u.jsx("span",{className:"font-mono text-mono-sm uppercase tracking-widest",children:"Find Tournaments"})]})})}),p&&u.jsx(oe,{to:"/create-tournament",className:"block",children:u.jsx(gt,{hoverable:!0,className:"group",children:u.jsxs(Mn,{className:"p-md flex items-center gap-md",children:[u.jsx(yf,{size:18,className:"text-neutral-500 group-hover:text-brutal-vermillion transition-colors"}),u.jsx("span",{className:"font-mono text-mono-sm uppercase tracking-widest",children:"Create Tournament"})]})})}),u.jsx(oe,{to:"/profile",className:"block",children:u.jsx(gt,{hoverable:!0,className:"group",children:u.jsxs(Mn,{className:"p-md flex items-center gap-md",children:[u.jsx(rw,{size:18,className:"text-neutral-500 group-hover:text-brutal-vermillion transition-colors"}),u.jsx("span",{className:"font-mono text-mono-sm uppercase tracking-widest",children:"View Profile"})]})})})]})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"font-display text-xl uppercase mb-md border-b-2 border-brutal-black pb-2 flex items-center gap-2",children:[u.jsx("span",{className:"text-brutal-vermillion",children:"[02]"})," My Tournaments"]}),a.joined.length===0&&a.created.length===0?u.jsx("p",{className:"font-mono text-mono-sm text-neutral-500",children:"No tournaments yet."}):u.jsx("div",{className:"space-y-sm",children:[...a.created,...a.joined].slice(0,5).map(g=>u.jsx(oe,{to:`/tournament/${g.id}`,children:u.jsx(gt,{hoverable:!0,className:"group",children:u.jsx(Mn,{className:"p-md",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-widest",children:g.game}),u.jsx("div",{className:"font-display text-lg uppercase truncate mt-1",children:g.name})]}),u.jsx(It,{status:g.status})]})})})},g.id))})]})]})]})]})})}const xw={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function Ou({isOpen:s,onClose:r,title:n,children:a,size:o="md"}){return I.useEffect(()=>{const c=d=>{d.key==="Escape"&&r()};return s&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[s,r]),s?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-brutal-black/80 transition-opacity duration-normal",onClick:r,style:{backgroundImage:`
            linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px)
          `,backgroundSize:"24px 24px"}}),u.jsxs("div",{className:`
          relative bg-brutal-white w-full ${xw[o]}
          max-h-[90vh] overflow-hidden flex flex-col
          border-3 border-brutal-black
          animate-in fade-in zoom-in-95 duration-normal
        `,style:{boxShadow:"8px 8px 0px 0px #D93025"},children:[u.jsx("div",{className:"absolute top-2 left-2 w-4 h-4 border-l-2 border-t-2 border-brutal-vermillion"}),u.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 border-r-2 border-t-2 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-2 left-2 w-4 h-4 border-l-2 border-b-2 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-2 right-2 w-4 h-4 border-r-2 border-b-2 border-brutal-vermillion"}),n&&u.jsxs("div",{className:"flex items-center justify-between px-lg py-md bg-brutal-black",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em]",children:"//"}),u.jsx("h2",{className:"font-display text-xl text-brutal-white uppercase tracking-wide",children:n})]}),u.jsx("button",{onClick:r,className:"p-2 text-neutral-400 hover:text-brutal-vermillion hover:bg-brutal-white/10 transition-colors border border-neutral-600 hover:border-brutal-vermillion","aria-label":"Close modal",children:u.jsx(Da,{size:16})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-lg",children:a})]})]}):null}function Oa({isOpen:s,onClose:r,onConfirm:n,title:a,message:o,confirmText:c="Confirm",cancelText:d="Cancel",variant:p="default"}){const m=()=>{n(),r()};return u.jsx(Ou,{isOpen:s,onClose:r,title:a,size:"sm",children:u.jsxs("div",{className:"space-y-lg",children:[u.jsx("p",{className:"font-mono text-sm text-neutral-600 leading-relaxed",children:o}),u.jsx("div",{className:"border-t-2 border-dashed border-neutral-200"}),u.jsxs("div",{className:"flex gap-md justify-end",children:[u.jsx("button",{onClick:r,className:`\r
              px-6 py-3 font-mono text-[11px] uppercase tracking-widest\r
              bg-brutal-white text-brutal-black border-3 border-brutal-black\r
              hover:bg-brutal-black hover:text-brutal-white\r
              transition-all duration-fast\r
              hover:translate-x-[2px] hover:translate-y-[2px]\r
            `,style:{boxShadow:"4px 4px 0px 0px #0A0A0A"},onMouseEnter:g=>{g.currentTarget.style.boxShadow="2px 2px 0px 0px #0A0A0A"},onMouseLeave:g=>{g.currentTarget.style.boxShadow="4px 4px 0px 0px #0A0A0A"},children:d}),u.jsx("button",{onClick:m,className:`
              px-6 py-3 font-mono text-[11px] uppercase tracking-widest
              border-3 border-brutal-black
              transition-all duration-fast
              hover:translate-x-[2px] hover:translate-y-[2px]
              ${p==="danger"?"bg-brutal-vermillion text-brutal-white":"bg-brutal-black text-brutal-white"}
            `,style:{boxShadow:p==="danger"?"4px 4px 0px 0px #0A0A0A":"4px 4px 0px 0px #D93025"},onMouseEnter:g=>{g.currentTarget.style.boxShadow=p==="danger"?"2px 2px 0px 0px #0A0A0A":"2px 2px 0px 0px #D93025"},onMouseLeave:g=>{g.currentTarget.style.boxShadow=p==="danger"?"4px 4px 0px 0px #0A0A0A":"4px 4px 0px 0px #D93025"},children:c})]})]})})}const Dn=[{key:"details",label:"Details"},{key:"format",label:"Format"},{key:"rules",label:"Rules"},{key:"schedule",label:"Schedule"},{key:"preview",label:"Preview"}],ww={name:"",game:"",description:"",format:"single-elimination",platform:"pc",region:"north-america",max_participants:16,prize_pool:"",rules:"",start_date:"",registration_deadline:""};function bw(){const s=$r(),{user:r}=Kt(),{createTournament:n}=dr(),[a,o]=I.useState("details"),[c,d]=I.useState(ww),[p,m]=I.useState(!1),[g,y]=I.useState({}),[w,k]=I.useState(!1),_=Dn.findIndex(W=>W.key===a),N=(W,G)=>{d($e=>({...$e,[W]:G})),g[W]&&y($e=>({...$e,[W]:void 0}))},x=()=>{const W={};return a==="details"&&(c.name.trim()||(W.name="Tournament name is required"),c.game||(W.game="Please select a game"),c.description.trim()||(W.description="Description is required")),a==="schedule"&&(c.start_date||(W.start_date="Start date is required"),c.registration_deadline||(W.registration_deadline="Registration deadline is required"),c.start_date&&c.registration_deadline&&new Date(c.registration_deadline)>=new Date(c.start_date)&&(W.registration_deadline="Registration must close before tournament starts")),y(W),Object.keys(W).length===0},S=()=>{if(!x())return;const W=_+1;W<Dn.length&&o(Dn[W].key)},L=()=>{const W=_-1;W>=0&&o(Dn[W].key)},$=async()=>{if(!(!r||w)){k(!0);try{const W=await n(c,r.id);s(`/tournament/${W.id}`)}catch(W){console.error("Failed to create tournament:",W),k(!1)}}},P=[{value:"",label:"Select a game"},...Jp.map(W=>({value:W,label:W}))],F=[{value:"single-elimination",label:"Single Elimination"},{value:"double-elimination",label:"Double Elimination"},{value:"round-robin",label:"Round Robin"}],Y=[{value:"pc",label:"PC"},{value:"playstation",label:"PlayStation"},{value:"xbox",label:"Xbox"},{value:"nintendo",label:"Nintendo"},{value:"mobile",label:"Mobile"},{value:"cross-platform",label:"Cross-Platform"}],re=[{value:"north-america",label:"North America"},{value:"europe",label:"Europe"},{value:"asia",label:"Asia"},{value:"oceania",label:"Oceania"},{value:"south-america",label:"South America"},{value:"global",label:"Global"}],ce=[8,16,32,64,128].map(W=>({value:String(W),label:`${W} Participants`}));return u.jsxs(er,{children:[u.jsxs("div",{className:"max-w-3xl mx-auto px-lg py-lg",children:[u.jsx(ei,{items:[{label:"Home",href:"/"},{label:"Dashboard",href:"/dashboard"},{label:"Create Tournament"}]}),u.jsx("h1",{className:"text-h2 uppercase mb-xl",children:"Create Tournament"}),u.jsx("div",{className:"flex items-center mb-2xl",children:Dn.map((W,G)=>u.jsxs("div",{className:"flex items-center flex-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`
                    w-8 h-8 flex items-center justify-center text-xs font-medium
                    ${G<_||G===_?"bg-primary-black text-primary-white":"bg-neutral-200 text-neutral-500"}
                  `,children:G<_?u.jsx(Bx,{size:16}):G+1}),u.jsx("span",{className:`
                    ml-2 text-xs uppercase tracking-wide hidden sm:block
                    ${G<=_?"text-primary-black":"text-neutral-400"}
                  `,children:W.label})]}),G<Dn.length-1&&u.jsx("div",{className:`
                    flex-1 h-px mx-4
                    ${G<_?"bg-primary-black":"bg-neutral-200"}
                  `})]},W.key))}),u.jsxs("div",{className:"mb-xl",children:[a==="details"&&u.jsxs("div",{className:"space-y-lg",children:[u.jsx(nt,{label:"Tournament Name",placeholder:"Enter tournament name",value:c.name,onChange:W=>N("name",W.target.value),error:g.name}),u.jsx(Ht,{label:"Game",options:P,value:c.game,onChange:W=>N("game",W.target.value),error:g.game}),u.jsx(Yn,{label:"Description",placeholder:"Describe your tournament...",rows:4,value:c.description,onChange:W=>N("description",W.target.value),error:g.description}),u.jsx(nt,{label:"Prize Pool (Optional)",placeholder:"e.g., $1,000",value:c.prize_pool||"",onChange:W=>N("prize_pool",W.target.value)})]}),a==="format"&&u.jsxs("div",{className:"space-y-lg",children:[u.jsx(Ht,{label:"Tournament Format",options:F,value:c.format,onChange:W=>N("format",W.target.value)}),u.jsx(Ht,{label:"Platform",options:Y,value:c.platform,onChange:W=>N("platform",W.target.value)}),u.jsx(Ht,{label:"Region",options:re,value:c.region,onChange:W=>N("region",W.target.value)}),u.jsx(Ht,{label:"Maximum Participants",options:ce,value:String(c.max_participants),onChange:W=>N("max_participants",Number(W.target.value))})]}),a==="rules"&&u.jsxs("div",{className:"space-y-lg",children:[u.jsx(Yn,{label:"Tournament Rules",placeholder:"Enter the rules and guidelines for your tournament...",rows:10,value:c.rules,onChange:W=>N("rules",W.target.value)}),u.jsx("p",{className:"text-xs text-neutral-500",children:"Be clear and specific about match formats, scoring, conduct expectations, and any restrictions."})]}),a==="schedule"&&u.jsxs("div",{className:"space-y-lg",children:[u.jsx(nt,{label:"Registration Deadline",type:"datetime-local",value:c.registration_deadline,onChange:W=>N("registration_deadline",W.target.value),error:g==null?void 0:g.registration_deadline}),u.jsx(nt,{label:"Tournament Start Date",type:"datetime-local",value:c.start_date,onChange:W=>N("start_date",W.target.value),error:g==null?void 0:g.start_date})]}),a==="preview"&&u.jsxs("div",{className:"border border-neutral-200 p-lg",children:[u.jsxs("div",{className:"flex items-start justify-between mb-lg",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:c.game}),u.jsx("h2",{className:"text-h3 uppercase mt-1",children:c.name||"Untitled Tournament"})]}),u.jsx(It,{status:"upcoming"})]}),u.jsx("p",{className:"text-sm text-neutral-600 mb-lg",children:c.description||"No description provided."}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md mb-lg",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-1",children:"Format"}),u.jsx("span",{className:"text-sm capitalize",children:c.format.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-1",children:"Platform"}),u.jsx("span",{className:"text-sm capitalize",children:c.platform.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-1",children:"Region"}),u.jsx("span",{className:"text-sm capitalize",children:c.region.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-1",children:"Max Players"}),u.jsx("span",{className:"text-sm",children:c.max_participants})]})]}),c.prize_pool&&u.jsxs("div",{className:"mb-lg",children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-1",children:"Prize Pool"}),u.jsx("span",{className:"text-lg font-medium",children:c.prize_pool})]}),c.rules&&u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block mb-2",children:"Rules"}),u.jsx("div",{className:"bg-neutral-100 p-md text-sm whitespace-pre-wrap",children:c.rules})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-lg border-t border-neutral-200",children:[u.jsxs(de,{variant:"secondary",onClick:L,disabled:_===0,children:[u.jsx(Fx,{size:16}),"Previous"]}),u.jsxs("div",{className:"flex gap-md",children:[a!=="preview"&&u.jsxs(de,{variant:"text",onClick:()=>m(!0),children:[u.jsx(Wp,{size:16}),"Preview"]}),a==="preview"?u.jsx(de,{onClick:$,disabled:w,children:w?"Publishing...":"Publish Tournament"}):u.jsxs(de,{onClick:S,children:["Next",u.jsx(Cu,{size:16})]})]})]})]}),u.jsx(Ou,{isOpen:p,onClose:()=>m(!1),title:"Tournament Preview",size:"lg",children:u.jsxs("div",{className:"space-y-md",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:c.game||"No game selected"}),u.jsx("h2",{className:"text-h3 uppercase mt-1",children:c.name||"Untitled Tournament"})]}),u.jsx("p",{className:"text-sm text-neutral-600",children:c.description||"No description provided."}),u.jsxs("div",{className:"grid grid-cols-2 gap-md text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500",children:"Format:"})," ",u.jsx("span",{className:"capitalize",children:c.format.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500",children:"Platform:"})," ",u.jsx("span",{className:"capitalize",children:c.platform.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500",children:"Region:"})," ",u.jsx("span",{className:"capitalize",children:c.region.replace("-"," ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500",children:"Max Players:"})," ",c.max_participants]})]})]})})]})}function jf(){const{id:s}=Rf(),{user:r,isAuthenticated:n}=Kt(),{joinTournament:a,leaveTournament:o,getCachedTournament:c,prefetchTournament:d}=dr(),[p,m]=I.useState("overview"),[g,y]=I.useState(!1),[w,k]=I.useState(!1),[_,N]=I.useState(""),[x,S]=I.useState(null),[L,$]=I.useState([]),[P,F]=I.useState(!1),[Y,re]=I.useState(!1);if(I.useEffect(()=>{(async()=>{if(!s)return;re(!0);const he=c(s);if(he&&he.tournament){S(he.tournament),$(he.participants),r&&he.participants&&F(he.participants.some(B=>B.user_id===r.id)),d(s).then(()=>{const B=c(s);B&&B.tournament&&(S(B.tournament),$(B.participants),r&&B.participants&&F(B.participants.some(ee=>ee.user_id===r.id)))});return}try{const[B,ee]=await Promise.all([Me.getTournament(s),Me.getParticipants(s)]);S(B),$(ee),r&&ee&&F(ee.some(H=>H.user_id===r.id))}catch(B){console.error("Failed to load tournament:",B)}})()},[s,r,c,d]),Y&&!x)return u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-3xl text-center",children:[u.jsx(Nt,{className:"w-16 h-16 mx-auto text-neutral-300 mb-md"}),u.jsx("h1",{className:"text-h2 uppercase mb-md",children:"Tournament Not Found"}),u.jsx("p",{className:"text-neutral-500 mb-lg",children:"The tournament you're looking for doesn't exist."}),u.jsx(oe,{to:"/",children:u.jsx(de,{children:"Browse Tournaments"})})]})});const ce=(r==null?void 0:r.id)===(x==null?void 0:x.organizer_id),W=n&&!P&&(x==null?void 0:x.status)==="upcoming",G=P&&(x==null?void 0:x.status)==="upcoming",$e=ce,at=ue=>new Date(ue).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Qe=ue=>ue.split("-").map(he=>he.charAt(0).toUpperCase()+he.slice(1)).join(" "),Ye=async()=>{if(!(!r||!x)){N("");try{const ue=await a(x.id,r.id);if(!ue.success)N(ue.error||"Failed to join tournament");else{F(!0);const he=await Me.getParticipants(x.id);$(he)}}catch{N("Failed to join tournament")}}},ot=async()=>{if(!(!r||!x)){N("");try{await o(x.id,r.id),F(!1);const ue=await Me.getParticipants(x.id);$(ue)}catch{N("Failed to leave tournament")}}},lt=[{key:"overview",label:"Overview"},{key:"bracket",label:"Bracket"},{key:"participants",label:"Participants"},{key:"rules",label:"Rules"}];return u.jsxs(er,{children:[u.jsxs("div",{className:"relative h-64 bg-primary-black overflow-hidden",children:[(()=>{const ue=(x==null?void 0:x.image)||(x==null?void 0:x.game)&&Gp(x.game);return ue?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:ue,alt:(x==null?void 0:x.name)||"Tournament",className:"absolute inset-0 w-full h-full object-cover opacity-40"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-black/20"})]}):null})(),u.jsx("div",{className:"relative max-w-container mx-auto px-lg h-full flex items-end pb-lg",children:u.jsxs("div",{className:"text-primary-white",children:[u.jsxs("div",{className:"flex items-center gap-md mb-2",children:[u.jsx("span",{className:"text-xs uppercase tracking-widest opacity-80",children:(x==null?void 0:x.game)||"Loading..."}),x&&u.jsx(It,{status:x.status})]}),u.jsx("h1",{className:"text-h1 uppercase",children:(x==null?void 0:x.name)||"Loading..."})]})})]}),u.jsxs("div",{className:"max-w-container mx-auto px-lg py-lg",children:[u.jsx(ei,{items:[{label:"Home",href:"/"},{label:"Tournaments",href:"/"},{label:(x==null?void 0:x.name)||"Loading..."}]}),_&&u.jsx("div",{className:"bg-semantic-error/10 border border-semantic-error/20 px-4 py-3 text-sm text-semantic-error mb-lg",children:_}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-lg mb-xl",children:[u.jsx("div",{className:"flex flex-wrap gap-lg text-sm",children:x?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[u.jsx(Xs,{size:16}),u.jsx("span",{children:at(x.start_date)})]}),u.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[u.jsx(qp,{size:16}),u.jsx("span",{children:Qe(x.region)})]}),u.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[u.jsx(Qn,{size:16}),u.jsxs("span",{children:[x.current_participants," / ",x.max_participants," Players"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[u.jsx(an,{size:16}),u.jsxs("span",{children:["Hosted by ",x.organizer_name]})]})]}):u.jsx("div",{className:"flex items-center gap-2 text-neutral-400",children:u.jsx("span",{children:"Loading tournament details..."})})}),u.jsx("div",{className:"flex gap-md",children:x&&u.jsxs(u.Fragment,{children:[W&&u.jsx(de,{onClick:()=>y(!0),children:"Join Tournament"}),G&&u.jsx(de,{variant:"secondary",onClick:()=>k(!0),children:"Leave Tournament"}),$e&&u.jsx(oe,{to:`/tournament/${x.id}/manage`,onMouseEnter:()=>d(x.id),children:u.jsxs(de,{variant:"secondary",children:[u.jsx(Pu,{size:16}),"Manage"]})}),!n&&x.status==="upcoming"&&u.jsx(oe,{to:"/login",state:{from:{pathname:`/tournament/${x.id}`}},children:u.jsx(de,{children:"Login to Join"})})]})})]}),u.jsx("div",{className:"border-b border-neutral-200 mb-lg",children:u.jsx("div",{className:"flex gap-lg",children:lt.map(ue=>u.jsxs("button",{onClick:()=>m(ue.key),className:`
                  py-md text-xs uppercase tracking-widest transition-colors relative
                  ${p===ue.key?"text-primary-black font-medium":"text-neutral-500 hover:text-primary-black"}
                `,children:[ue.label,p===ue.key&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-black"})]},ue.key))})}),u.jsx("div",{className:"min-h-[400px]",children:x?u.jsxs(u.Fragment,{children:[p==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-xl",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsx("h2",{className:"text-h3 uppercase mb-md",children:"About"}),u.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed mb-xl",children:x.description}),x.prize_pool&&u.jsx("div",{className:"bg-neutral-100 p-lg mb-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nt,{className:"w-8 h-8 text-accent-yellow"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide block",children:"Prize Pool"}),u.jsx("span",{className:"text-2xl font-light",children:x.prize_pool})]})]})})]}),u.jsxs("div",{className:"space-y-lg",children:[u.jsxs("div",{className:"border border-neutral-200 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Tournament Info"}),u.jsxs("div",{className:"space-y-md text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-500",children:"Format"}),u.jsx("span",{className:"capitalize",children:x.format.replace("-"," ")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-500",children:"Platform"}),u.jsx("span",{className:"capitalize",children:x.platform.replace("-"," ")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-500",children:"Status"}),u.jsx(It,{status:x.status})]})]})]}),u.jsxs("div",{className:"border border-neutral-200 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Important Dates"}),u.jsxs("div",{className:"space-y-md text-sm",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Wx,{size:16,className:"text-neutral-400 mt-0.5"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500 block",children:"Registration Closes"}),u.jsx("span",{children:at(x.registration_deadline)})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Xs,{size:16,className:"text-neutral-400 mt-0.5"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-neutral-500 block",children:"Tournament Starts"}),u.jsx("span",{children:at(x.start_date)})]})]})]})]})]})]}),p==="bracket"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Bracket"}),u.jsx(mw,{matches:[],format:x.format})]}),p==="participants"&&u.jsxs("div",{children:[u.jsxs("h2",{className:"text-h3 uppercase mb-lg",children:["Participants (",x.current_participants,")"]}),L.length===0?u.jsxs("div",{className:"bg-neutral-100 p-xl text-center",children:[u.jsx(Qn,{className:"w-12 h-12 mx-auto text-neutral-300 mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"No participants yet."})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md",children:L.map((ue,he)=>{var B,ee;return u.jsx("div",{className:"border border-neutral-200 p-md",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-full flex items-center justify-center overflow-hidden",children:(B=ue.profile)!=null&&B.avatar?u.jsx("img",{src:ue.profile.avatar,alt:"",className:"w-full h-full object-cover"}):u.jsx(an,{size:20,className:"text-neutral-400"})}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-xs text-neutral-500",children:["#",he+1]}),u.jsx("p",{className:"text-sm font-medium",children:((ee=ue.profile)==null?void 0:ee.username)||"Unknown"})]})]})},ue.user_id)})})]}),p==="rules"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Rules & Guidelines"}),x.rules?u.jsx("div",{className:"bg-neutral-100 p-lg",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-neutral-700 font-sans",children:x.rules})}):u.jsx("p",{className:"text-neutral-500",children:"No specific rules have been set for this tournament."})]})]}):u.jsx("div",{className:"text-center py-xl",children:u.jsx("p",{className:"text-neutral-500",children:"Loading tournament details..."})})})]}),x&&u.jsxs(u.Fragment,{children:[u.jsx(Oa,{isOpen:g,onClose:()=>y(!1),onConfirm:Ye,title:"Join Tournament",message:`Are you sure you want to join "${x.name}"? Make sure you're available on the tournament date.`,confirmText:"Join"}),u.jsx(Oa,{isOpen:w,onClose:()=>k(!1),onConfirm:ot,title:"Leave Tournament",message:`Are you sure you want to leave "${x.name}"? You can rejoin later if spots are available.`,confirmText:"Leave",variant:"danger"})]})]})}function du({children:s,className:r=""}){return u.jsx("div",{className:`overflow-x-auto ${r}`,children:u.jsx("table",{className:"w-full",children:s})})}function hu({children:s}){return u.jsx("thead",{className:"border-b border-neutral-200",children:s})}function fu({children:s}){return u.jsx("tbody",{children:s})}function Fn({children:s,className:r="",onClick:n}){return u.jsx("tr",{onClick:n,className:`
        border-b border-neutral-100 last:border-0
        ${n?"cursor-pointer hover:bg-neutral-100 transition-colors":""}
        ${r}
      `,children:s})}function jt({children:s,className:r=""}){return u.jsx("th",{className:`
        px-4 py-3 text-left text-[11px] font-medium uppercase tracking-wider text-neutral-500
        ${r}
      `,children:s})}function kt({children:s,className:r=""}){return u.jsx("td",{className:`px-4 py-4 text-sm text-primary-black ${r}`,children:s})}function kf(){const{user:s,updateProfile:r}=Kt(),{getUserTournaments:n}=dr(),[a,o]=I.useState("overview"),[c,d]=I.useState(!1),[p,m]=I.useState(!1),[g,y]=I.useState({username:(s==null?void 0:s.username)||"",bio:(s==null?void 0:s.bio)||""}),[w,k]=I.useState({created:[],joined:[]}),[_,N]=I.useState(!0);I.useEffect(()=>{(async()=>{if(s){N(!0);try{const F=await n(s.id);k(F)}catch(F){console.error("Failed to load tournaments:",F)}finally{N(!1)}}})()},[s,n]);const x=[...w.created,...w.joined],S=async()=>{m(!0);try{await r({username:g.username,bio:g.bio}),d(!1)}catch(P){console.error("Failed to save profile:",P)}finally{m(!1)}},L=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=[{key:"overview",label:"Overview"},{key:"tournaments",label:"Tournaments"},{key:"history",label:"Match History"},{key:"settings",label:"Settings"}];return s?u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-lg",children:[u.jsx(ei,{items:[{label:"Home",href:"/"},{label:"Profile"}]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-lg mb-xl",children:[u.jsx("div",{className:"w-24 h-24 bg-neutral-100 rounded-full overflow-hidden flex-shrink-0",children:s.avatar?u.jsx("img",{src:s.avatar,alt:s.username,className:"w-full h-full object-cover"}):u.jsx(an,{className:"w-full h-full p-6 text-neutral-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-h2 uppercase",children:s.username}),u.jsx("div",{className:"flex items-center gap-md mt-2",children:u.jsxs("span",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:["Member since ",L(s.created_at)]})})]}),!c&&a==="overview"&&u.jsxs(de,{variant:"secondary",size:"sm",onClick:()=>d(!0),children:[u.jsx(Xx,{size:14}),"Edit Profile"]})]}),s.bio&&!c&&u.jsx("p",{className:"mt-md text-sm text-neutral-600",children:s.bio})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md mb-xl",children:[u.jsxs(gt,{className:"p-md border border-neutral-200",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-neutral-500 mb-1",children:"Tournaments Joined"}),u.jsx("div",{className:"text-2xl font-light",children:s.tournaments_joined})]}),u.jsxs(gt,{className:"p-md border border-neutral-200",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-neutral-500 mb-1",children:"Tournaments Created"}),u.jsx("div",{className:"text-2xl font-light",children:s.tournaments_created})]}),u.jsxs(gt,{className:"p-md border border-neutral-200",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-neutral-500 mb-1",children:"Wins"}),u.jsx("div",{className:"text-2xl font-light text-semantic-success",children:s.wins})]}),u.jsxs(gt,{className:"p-md border border-neutral-200",children:[u.jsx("div",{className:"text-xs uppercase tracking-wide text-neutral-500 mb-1",children:"Win Rate"}),u.jsxs("div",{className:"text-2xl font-light",children:[s.wins+s.losses>0?Math.round(s.wins/(s.wins+s.losses)*100):0,"%"]})]})]}),u.jsx("div",{className:"border-b border-neutral-200 mb-lg",children:u.jsx("div",{className:"flex gap-lg",children:$.map(P=>u.jsxs("button",{onClick:()=>{o(P.key),d(!1)},className:`
                  py-md text-xs uppercase tracking-widest transition-colors relative
                  ${a===P.key?"text-primary-black font-medium":"text-neutral-500 hover:text-primary-black"}
                `,children:[P.label,a===P.key&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-black"})]},P.key))})}),u.jsxs("div",{className:"min-h-[400px]",children:[a==="overview"&&u.jsx("div",{children:c?u.jsxs("div",{className:"max-w-lg space-y-lg",children:[u.jsx(nt,{label:"Username",value:g.username,onChange:P=>y({...g,username:P.target.value})}),u.jsx(Yn,{label:"Bio",value:g.bio,onChange:P=>y({...g,bio:P.target.value}),rows:4,placeholder:"Tell us about yourself..."}),u.jsxs("div",{className:"flex gap-md",children:[u.jsxs(de,{onClick:S,disabled:p,children:[u.jsx(Hp,{size:16}),p?"Saving...":"Save Changes"]}),u.jsxs(de,{variant:"secondary",onClick:()=>d(!1),children:[u.jsx(Da,{size:16}),"Cancel"]})]})]}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Recent Activity"}),_?u.jsxs("div",{className:"text-center py-xl",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-neutral-300 border-t-primary-black rounded-full animate-spin mx-auto mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"Loading..."})]}):x.length===0?u.jsx(Hn,{icon:Nt,title:"No tournaments yet",description:"Join a tournament to start competing!",actionLabel:"Browse Tournaments",onAction:()=>window.location.href="/"}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-md",children:x.slice(0,4).map(P=>u.jsx(oe,{to:`/tournament/${P.id}`,children:u.jsx(gt,{className:"p-md border border-neutral-200 hover:border-neutral-400 transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:P.game}),u.jsx("h3",{className:"text-sm font-medium mt-1",children:P.name}),u.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:L(P.start_date)})]}),u.jsx(It,{status:P.status})]})})},P.id))})]})}),a==="tournaments"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"My Tournaments"}),_?u.jsxs("div",{className:"text-center py-xl",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-neutral-300 border-t-primary-black rounded-full animate-spin mx-auto mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[w.created.length>0&&u.jsxs("div",{className:"mb-xl",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Created"}),u.jsxs(du,{children:[u.jsx(hu,{children:u.jsxs(Fn,{children:[u.jsx(jt,{children:"Tournament"}),u.jsx(jt,{children:"Game"}),u.jsx(jt,{children:"Date"}),u.jsx(jt,{children:"Participants"}),u.jsx(jt,{children:"Status"})]})}),u.jsx(fu,{children:w.created.map(P=>u.jsxs(Fn,{onClick:()=>window.location.href=`/tournament/${P.id}`,children:[u.jsx(kt,{className:"font-medium",children:P.name}),u.jsx(kt,{children:P.game}),u.jsx(kt,{children:L(P.start_date)}),u.jsxs(kt,{children:[P.current_participants,"/",P.max_participants]}),u.jsx(kt,{children:u.jsx(It,{status:P.status})})]},P.id))})]})]}),w.joined.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Joined"}),u.jsxs(du,{children:[u.jsx(hu,{children:u.jsxs(Fn,{children:[u.jsx(jt,{children:"Tournament"}),u.jsx(jt,{children:"Game"}),u.jsx(jt,{children:"Date"}),u.jsx(jt,{children:"Status"})]})}),u.jsx(fu,{children:w.joined.map(P=>u.jsxs(Fn,{onClick:()=>window.location.href=`/tournament/${P.id}`,children:[u.jsx(kt,{className:"font-medium",children:P.name}),u.jsx(kt,{children:P.game}),u.jsx(kt,{children:L(P.start_date)}),u.jsx(kt,{children:u.jsx(It,{status:P.status})})]},P.id))})]})]}),w.created.length===0&&w.joined.length===0&&u.jsx(Hn,{icon:Nt,title:"No tournaments",description:"You haven't joined or created any tournaments yet.",actionLabel:"Browse Tournaments",onAction:()=>window.location.href="/"})]})]}),a==="history"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Match History"}),u.jsx(Hn,{icon:Xs,title:"No match history",description:"Your completed matches will appear here."})]}),a==="settings"&&u.jsxs("div",{className:"max-w-lg",children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Account Settings"}),u.jsxs("div",{className:"space-y-xl",children:[u.jsxs("div",{className:"border border-neutral-200 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Email Address"}),u.jsx("p",{className:"text-sm",children:s.email})]}),u.jsxs("div",{className:"border border-neutral-200 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-neutral-500 mb-md",children:"Change Password"}),u.jsx(de,{variant:"secondary",size:"sm",children:"Update Password"})]}),u.jsxs("div",{className:"border border-semantic-error/20 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-semantic-error mb-md",children:"Danger Zone"}),u.jsx("p",{className:"text-sm text-neutral-500 mb-md",children:"Once you delete your account, there is no going back."}),u.jsx(de,{variant:"secondary",size:"sm",className:"border-semantic-error text-semantic-error hover:bg-semantic-error hover:text-primary-white",children:"Delete Account"})]})]})]})]})]})}):u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-3xl text-center",children:[u.jsx(an,{className:"w-16 h-16 mx-auto text-neutral-300 mb-md"}),u.jsx("h1",{className:"text-h2 uppercase mb-md",children:"Please Log In"}),u.jsx("p",{className:"text-neutral-500 mb-lg",children:"You need to be logged in to view your profile."}),u.jsx(oe,{to:"/login",children:u.jsx(de,{children:"Log In"})})]})})}function _w(){const{id:s}=Rf(),r=$r(),{user:n}=Kt(),{updateTournament:a,deleteTournament:o,leaveTournament:c,updateMatchResult:d,getCachedTournament:p,prefetchTournament:m}=dr(),g=s?p(s):null,y=!!(g&&g.tournament),[w,k]=I.useState("participants"),[_,N]=I.useState(!1),[x,S]=I.useState(null),[L,$]=I.useState(null),[P,F]=I.useState({score1:0,score2:0,winnerId:""}),[Y,re]=I.useState(null),[ce,W]=I.useState(!y),[G,$e]=I.useState((g==null?void 0:g.tournament)||null),[at,Qe]=I.useState((g==null?void 0:g.participants)||[]);if(I.useEffect(()=>{(async()=>{if(s){if(G){m(s).then(()=>{const z=p(s);z&&z.tournament&&($e(z.tournament),Qe(z.participants))});return}W(!0);try{const[z,le]=await Promise.all([Me.getTournament(s),Me.getParticipants(s)]);$e(z),Qe(le)}catch(z){console.error("Failed to load tournament:",z)}finally{W(!1)}}})()},[s]),ce)return u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-3xl text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-neutral-300 border-t-primary-black rounded-full animate-spin mx-auto mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"Loading..."})]})});if(!G)return u.jsx(er,{children:u.jsxs("div",{className:"max-w-container mx-auto px-lg py-3xl text-center",children:[u.jsx(Nt,{className:"w-16 h-16 mx-auto text-neutral-300 mb-md"}),u.jsx("h1",{className:"text-h2 uppercase mb-md",children:"Tournament Not Found"}),u.jsx(oe,{to:"/",children:u.jsx(de,{children:"Back to Home"})})]})});if(!((n==null?void 0:n.id)===G.organizer_id))return r(`/tournament/${s}`),null;const lt=async A=>{try{await c(G.id,A),Qe(z=>z.filter(le=>le.user_id!==A))}catch(z){console.error("Failed to remove participant:",z)}S(null)},ue=async()=>{try{await o(G.id),r("/dashboard")}catch(A){console.error("Failed to delete tournament:",A)}},he=async()=>{if(L){try{await d(L,P.score1,P.score2,P.winnerId)}catch(A){console.error("Failed to update match:",A)}$(null),F({score1:0,score2:0,winnerId:""})}},B=async()=>{if(Y){try{await a(G.id,Y);const A=await Me.getTournament(G.id);A&&$e(A)}catch(A){console.error("Failed to save settings:",A)}re(null)}},ee=[{key:"participants",label:"Participants",icon:u.jsx(Qn,{size:16})},{key:"matches",label:"Matches",icon:u.jsx(Nt,{size:16})},{key:"settings",label:"Settings",icon:u.jsx(Pu,{size:16})}],H=[{value:"upcoming",label:"Upcoming"},{value:"live",label:"Live"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],T=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return u.jsxs(er,{children:[u.jsxs("div",{className:"max-w-container mx-auto px-lg py-lg",children:[u.jsx(ei,{items:[{label:"Home",href:"/"},{label:"Dashboard",href:"/dashboard"},{label:G.name,href:`/tournament/${G.id}`},{label:"Manage"}]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-xl",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-h2 uppercase",children:"Manage Tournament"}),u.jsxs("div",{className:"flex items-center gap-md mt-2",children:[u.jsx("span",{className:"text-neutral-500",children:G.name}),u.jsx(It,{status:G.status})]})]}),u.jsx("div",{className:"flex gap-md mt-md md:mt-0",children:u.jsx(oe,{to:`/tournament/${G.id}`,children:u.jsx(de,{variant:"secondary",children:"View Tournament"})})})]}),u.jsx("div",{className:"border-b border-neutral-200 mb-lg",children:u.jsx("div",{className:"flex gap-lg",children:ee.map(A=>u.jsxs("button",{onClick:()=>k(A.key),className:`
                  flex items-center gap-2 py-md text-xs uppercase tracking-widest transition-colors relative
                  ${w===A.key?"text-primary-black font-medium":"text-neutral-500 hover:text-primary-black"}
                `,children:[A.icon,A.label,w===A.key&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-black"})]},A.key))})}),u.jsxs("div",{className:"min-h-[400px]",children:[w==="participants"&&u.jsxs("div",{children:[u.jsx("div",{className:"flex items-center justify-between mb-lg",children:u.jsxs("h2",{className:"text-h3 uppercase",children:["Participants (",G.current_participants,"/",G.max_participants,")"]})}),at.length===0?u.jsxs(gt,{className:"p-xl text-center border border-neutral-200",children:[u.jsx(Qn,{className:"w-12 h-12 mx-auto text-neutral-300 mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"No participants yet."})]}):u.jsxs(du,{children:[u.jsx(hu,{children:u.jsxs(Fn,{children:[u.jsx(jt,{children:"#"}),u.jsx(jt,{children:"Player"}),u.jsx(jt,{children:"Joined"}),u.jsx(jt,{children:"Actions"})]})}),u.jsx(fu,{children:at.map((A,z)=>{var le,pe;return u.jsxs(Fn,{children:[u.jsx(kt,{children:z+1}),u.jsx(kt,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-neutral-100 rounded-full flex items-center justify-center overflow-hidden",children:(le=A.profile)!=null&&le.avatar?u.jsx("img",{src:A.profile.avatar,alt:"",className:"w-full h-full object-cover"}):u.jsx(an,{size:16,className:"text-neutral-400"})}),u.jsx("span",{children:((pe=A.profile)==null?void 0:pe.username)||"Unknown"})]})}),u.jsx(kt,{className:"text-neutral-500",children:T(A.joined_at)}),u.jsx(kt,{children:u.jsx(de,{variant:"text",size:"sm",onClick:()=>S(A.user_id),className:"text-semantic-error",children:"Remove"})})]},A.user_id)})})]})]}),w==="matches"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Match Results"}),u.jsxs(gt,{className:"p-xl text-center border border-neutral-200",children:[u.jsx(Nt,{className:"w-12 h-12 mx-auto text-neutral-300 mb-md"}),u.jsx("p",{className:"text-neutral-500",children:"Match generation coming soon."}),G.status==="upcoming"&&u.jsxs(de,{className:"mt-md",onClick:async()=>{await a(G.id,{status:"live"});const A=await Me.getTournament(G.id);A&&$e(A)},children:[u.jsx(Zx,{size:16}),"Start Tournament"]})]})]}),w==="settings"&&u.jsxs("div",{className:"max-w-2xl",children:[u.jsx("h2",{className:"text-h3 uppercase mb-lg",children:"Tournament Settings"}),u.jsxs("div",{className:"space-y-lg",children:[u.jsx(nt,{label:"Tournament Name",value:(Y==null?void 0:Y.name)??G.name,onChange:A=>re(z=>({name:A.target.value,description:(z==null?void 0:z.description)??G.description,rules:(z==null?void 0:z.rules)??G.rules,status:(z==null?void 0:z.status)??G.status}))}),u.jsx(Yn,{label:"Description",rows:4,value:(Y==null?void 0:Y.description)??G.description,onChange:A=>re(z=>({name:(z==null?void 0:z.name)??G.name,description:A.target.value,rules:(z==null?void 0:z.rules)??G.rules,status:(z==null?void 0:z.status)??G.status}))}),u.jsx(Yn,{label:"Rules",rows:6,value:(Y==null?void 0:Y.rules)??G.rules,onChange:A=>re(z=>({name:(z==null?void 0:z.name)??G.name,description:(z==null?void 0:z.description)??G.description,rules:A.target.value,status:(z==null?void 0:z.status)??G.status}))}),u.jsx(Ht,{label:"Status",options:H,value:(Y==null?void 0:Y.status)??G.status,onChange:A=>re(z=>({name:(z==null?void 0:z.name)??G.name,description:(z==null?void 0:z.description)??G.description,rules:(z==null?void 0:z.rules)??G.rules,status:A.target.value}))}),Y&&u.jsxs("div",{className:"flex gap-md",children:[u.jsxs(de,{onClick:B,children:[u.jsx(Hp,{size:16}),"Save Changes"]}),u.jsx(de,{variant:"secondary",onClick:()=>re(null),children:"Cancel"})]}),u.jsx("hr",{className:"border-neutral-200 my-xl"}),u.jsxs("div",{className:"border border-semantic-error/20 p-lg",children:[u.jsx("h3",{className:"text-xs uppercase tracking-widest text-semantic-error mb-md",children:"Danger Zone"}),u.jsx("p",{className:"text-sm text-neutral-500 mb-md",children:"Deleting a tournament is permanent and cannot be undone."}),u.jsxs(de,{variant:"secondary",onClick:()=>N(!0),className:"border-semantic-error text-semantic-error hover:bg-semantic-error hover:text-primary-white",children:[u.jsx(tw,{size:16}),"Delete Tournament"]})]})]})]})]})]}),u.jsx(Oa,{isOpen:!!x,onClose:()=>S(null),onConfirm:()=>x&&lt(x),title:"Remove Participant",message:"Are you sure you want to remove this participant from the tournament?",confirmText:"Remove",variant:"danger"}),u.jsx(Oa,{isOpen:_,onClose:()=>N(!1),onConfirm:ue,title:"Delete Tournament",message:`Are you sure you want to delete "${G.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),u.jsx(Ou,{isOpen:!!L,onClose:()=>$(null),title:"Update Match Result",size:"sm",children:u.jsxs("div",{className:"space-y-lg",children:[u.jsxs("div",{className:"flex items-center justify-between gap-md",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"label",children:"Player 1"}),u.jsx(nt,{type:"number",min:0,value:P.score1,onChange:A=>F(z=>({...z,score1:Number(A.target.value)}))})]}),u.jsx("span",{className:"text-neutral-400 mt-6",children:"vs"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"label",children:"Player 2"}),u.jsx(nt,{type:"number",min:0,value:P.score2,onChange:A=>F(z=>({...z,score2:Number(A.target.value)}))})]})]}),u.jsxs("div",{className:"flex gap-md justify-end",children:[u.jsx(de,{variant:"secondary",onClick:()=>$(null),children:"Cancel"}),u.jsxs(de,{onClick:he,disabled:!P.winnerId,children:[u.jsx(Vx,{size:16}),"Save Result"]})]})]})})]})}function jw(){var _,N;const s=$r(),r=on(),{login:n}=Kt(),[a,o]=I.useState(""),[c,d]=I.useState(""),[p,m]=I.useState(""),[g,y]=I.useState(!1),w=((N=(_=r.state)==null?void 0:_.from)==null?void 0:N.pathname)||"/dashboard",k=async x=>{x.preventDefault(),m(""),y(!0);const S=await n(a,c);y(!1),S.success?s(w,{replace:!0}):m(S.error||"Login failed")};return u.jsxs("div",{className:"min-h-screen flex",children:[u.jsxs("div",{className:"flex-1 flex items-center justify-center p-lg bg-brutal-cream relative",children:[u.jsx("div",{className:"absolute inset-0 opacity-50",style:{backgroundImage:`
              linear-gradient(to right, rgba(10, 10, 10, 0.03) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(10, 10, 10, 0.03) 1px, transparent 1px)
            `,backgroundSize:"24px 24px"}}),u.jsxs("div",{className:"w-full max-w-md relative z-10",children:[u.jsx("div",{className:"mb-xl",children:u.jsxs(oe,{to:"/",className:"flex items-center gap-3 mb-lg group",children:[u.jsx("div",{className:"w-12 h-12 bg-brutal-black border-3 border-brutal-black flex items-center justify-center group-hover:bg-brutal-vermillion transition-colors",children:u.jsx("span",{className:"font-display text-2xl text-brutal-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-display text-2xl text-brutal-black tracking-wider glitch-text",children:"ARENA"}),u.jsx("span",{className:"font-mono text-[9px] text-brutal-vermillion tracking-[0.3em] -mt-1",children:"TOURNAMENT"})]})]})}),u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black p-xl",style:{boxShadow:"8px 8px 0px 0px #0A0A0A"},children:[u.jsxs("div",{className:"mb-xl border-b-3 border-brutal-black pb-lg",children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] block mb-2",children:"// Authentication"}),u.jsx("h1",{className:"font-display text-4xl uppercase text-brutal-black",children:"Sign In"}),u.jsx("p",{className:"font-mono text-mono-sm text-neutral-500 mt-2",children:"Sign in to your account to continue"})]}),u.jsxs("form",{onSubmit:k,className:"space-y-lg",children:[p&&u.jsx("div",{className:"bg-brutal-vermillion/10 border-3 border-brutal-vermillion px-4 py-3",children:u.jsxs("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-wider",children:["! Error: ",p]})}),u.jsx(nt,{label:"Email",type:"email",placeholder:"your@email.com",value:a,onChange:x=>o(x.target.value),required:!0}),u.jsx(nt,{label:"Password",type:"password",placeholder:"",value:c,onChange:x=>d(x.target.value),required:!0}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[u.jsxs("div",{className:"w-5 h-5 border-2 border-brutal-black flex items-center justify-center bg-brutal-white group-hover:border-brutal-vermillion transition-colors",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer"}),u.jsx("span",{className:"hidden peer-checked:block text-brutal-vermillion font-bold",children:""})]}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-wider",children:"Remember me"})]}),u.jsx(oe,{to:"/forgot-password",className:"font-mono text-mono-xs text-neutral-500 hover:text-brutal-vermillion uppercase tracking-wider transition-colors",children:"Forgot password?"})]}),u.jsx(de,{type:"submit",className:"w-full",isLoading:g,size:"lg",children:"Sign In "})]}),u.jsxs("p",{className:"mt-lg text-center font-mono text-mono-sm text-neutral-500",children:["Don't have an account?"," ",u.jsx(oe,{to:"/register",className:"text-brutal-black font-bold hover:text-brutal-vermillion transition-colors",children:"Create one"})]})]}),u.jsxs("div",{className:"mt-lg bg-brutal-black text-brutal-white p-md border-3 border-brutal-black",style:{boxShadow:"4px 4px 0px 0px #D93025"},children:[u.jsx("p",{className:"font-mono text-mono-xs uppercase tracking-widest mb-2 text-brutal-vermillion",children:"[Demo Accounts]"}),u.jsx("p",{className:"font-mono text-mono-xs text-neutral-400",children:"Organizer: progamer@example.com"}),u.jsx("p",{className:"font-mono text-mono-xs text-neutral-400",children:"Player: nighthawk@example.com"}),u.jsx("p",{className:"font-mono text-mono-xs text-neutral-500 mt-2 italic",children:"(any password works)"})]})]})]}),u.jsxs("div",{className:"hidden lg:flex flex-1 bg-brutal-black relative overflow-hidden items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`
              linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
            `,backgroundSize:"48px 48px"}}),u.jsxs("div",{className:"relative z-10 text-center p-xl",children:[u.jsx("div",{className:"font-display text-[200px] text-brutal-white/5 leading-none select-none",children:">"}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("div",{className:"w-24 h-24 bg-brutal-vermillion border-4 border-brutal-white flex items-center justify-center mb-lg",children:u.jsx("span",{className:"font-display text-5xl text-brutal-white",children:"A"})}),u.jsx("h2",{className:"font-display text-4xl text-brutal-white uppercase mb-md tracking-wider",children:"Compete"}),u.jsx("p",{className:"font-mono text-sm text-brutal-vermillion tracking-widest uppercase",children:"Seize Victory"}),u.jsx("p",{className:"font-mono text-mono-xs text-neutral-500 mt-lg max-w-xs text-center leading-relaxed",children:"Join thousands of players competing in tournaments across all your favorite games."})]})]}),u.jsx("div",{className:"absolute top-8 left-8 w-16 h-16 border-l-4 border-t-4 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-8 right-8 w-16 h-16 border-r-4 border-b-4 border-brutal-vermillion"}),u.jsx("div",{className:"absolute top-1/2 left-8 transform -translate-y-1/2 -rotate-90",children:u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-[0.5em]",children:"Tournament Platform"})})]})]})}function kw(){const s=$r(),{register:r}=Kt(),[n,a]=I.useState(""),[o,c]=I.useState(""),[d,p]=I.useState(""),[m,g]=I.useState(""),[y,w]=I.useState(""),[k,_]=I.useState(!1),N=async x=>{if(x.preventDefault(),w(""),d!==m){w("Passwords do not match");return}if(d.length<6){w("Password must be at least 6 characters");return}_(!0);const S=await r(n,o,d);_(!1),S.success?s("/dashboard"):w(S.error||"Registration failed")};return u.jsxs("div",{className:"min-h-screen flex",children:[u.jsxs("div",{className:"hidden lg:flex flex-1 bg-brutal-black relative overflow-hidden items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`
              linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
            `,backgroundSize:"48px 48px"}}),u.jsxs("div",{className:"relative z-10 text-center p-xl",children:[u.jsx("div",{className:"font-display text-[200px] text-brutal-white/5 leading-none select-none",children:"+"}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("div",{className:"w-24 h-24 bg-brutal-vermillion border-4 border-brutal-white flex items-center justify-center mb-lg",children:u.jsx("span",{className:"font-display text-5xl text-brutal-white",children:"A"})}),u.jsx("h2",{className:"font-display text-4xl text-brutal-white uppercase mb-md tracking-wider",children:"Begin"}),u.jsx("p",{className:"font-mono text-sm text-brutal-vermillion tracking-widest uppercase",children:"New Challenge"}),u.jsx("p",{className:"font-mono text-mono-xs text-neutral-500 mt-lg max-w-xs text-center leading-relaxed",children:"Create your account and join the competitive gaming community today."})]})]}),u.jsx("div",{className:"absolute top-8 left-8 w-16 h-16 border-l-4 border-t-4 border-brutal-vermillion"}),u.jsx("div",{className:"absolute bottom-8 right-8 w-16 h-16 border-r-4 border-b-4 border-brutal-vermillion"}),u.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2 rotate-90",children:u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 uppercase tracking-[0.5em]",children:"New Player"})})]}),u.jsxs("div",{className:"flex-1 flex items-center justify-center p-lg bg-brutal-cream relative",children:[u.jsx("div",{className:"absolute inset-0 opacity-50",style:{backgroundImage:`
              linear-gradient(to right, rgba(10, 10, 10, 0.03) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(10, 10, 10, 0.03) 1px, transparent 1px)
            `,backgroundSize:"24px 24px"}}),u.jsxs("div",{className:"w-full max-w-md relative z-10",children:[u.jsx("div",{className:"mb-xl",children:u.jsxs(oe,{to:"/",className:"flex items-center gap-3 mb-lg group",children:[u.jsx("div",{className:"w-12 h-12 bg-brutal-black border-3 border-brutal-black flex items-center justify-center group-hover:bg-brutal-vermillion transition-colors",children:u.jsx("span",{className:"font-display text-2xl text-brutal-white",children:"A"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-display text-2xl text-brutal-black tracking-wider glitch-text",children:"ARENA"}),u.jsx("span",{className:"font-mono text-[9px] text-brutal-vermillion tracking-[0.3em] -mt-1",children:"TOURNAMENT"})]})]})}),u.jsxs("div",{className:"bg-brutal-white border-3 border-brutal-black p-xl",style:{boxShadow:"8px 8px 0px 0px #0A0A0A"},children:[u.jsxs("div",{className:"mb-xl border-b-3 border-brutal-black pb-lg",children:[u.jsx("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-[0.3em] block mb-2",children:"// New Account"}),u.jsx("h1",{className:"font-display text-4xl uppercase text-brutal-black",children:"Register"}),u.jsx("p",{className:"font-mono text-mono-sm text-neutral-500 mt-2",children:"Join the tournament platform"})]}),u.jsxs("form",{onSubmit:N,className:"space-y-md",children:[y&&u.jsx("div",{className:"bg-brutal-vermillion/10 border-3 border-brutal-vermillion px-4 py-3",children:u.jsxs("span",{className:"font-mono text-mono-xs text-brutal-vermillion uppercase tracking-wider",children:["! Error: ",y]})}),u.jsx(nt,{label:"Username",type:"text",placeholder:"Choose a username",value:n,onChange:x=>a(x.target.value),required:!0}),u.jsx(nt,{label:"Email",type:"email",placeholder:"your@email.com",value:o,onChange:x=>c(x.target.value),required:!0}),u.jsx(nt,{label:"Password",type:"password",placeholder:"",value:d,onChange:x=>p(x.target.value),required:!0}),u.jsx(nt,{label:"Confirm Password",type:"password",placeholder:"",value:m,onChange:x=>g(x.target.value),required:!0}),u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group pt-2",children:[u.jsxs("div",{className:"w-5 h-5 border-2 border-brutal-black flex items-center justify-center bg-brutal-white group-hover:border-brutal-vermillion transition-colors mt-0.5",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",required:!0}),u.jsx("span",{className:"hidden peer-checked:block text-brutal-vermillion font-bold",children:""})]}),u.jsx("span",{className:"font-mono text-mono-xs text-neutral-600 leading-relaxed",children:"I agree to the Terms of Service and Privacy Policy"})]}),u.jsx(de,{type:"submit",className:"w-full",isLoading:k,size:"lg",children:"Create Account "})]}),u.jsxs("p",{className:"mt-lg text-center font-mono text-mono-sm text-neutral-500",children:["Already have an account?"," ",u.jsx(oe,{to:"/login",className:"text-brutal-black font-bold hover:text-brutal-vermillion transition-colors",children:"Sign in"})]})]})]})]})]})}function Sw(){const[s,r]=I.useState(""),[n,a]=I.useState(!1),[o,c]=I.useState(!1),d=async p=>{p.preventDefault(),c(!0),await new Promise(m=>setTimeout(m,1e3)),c(!1),a(!0)};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-lg bg-neutral-100",children:u.jsxs("div",{className:"w-full max-w-md bg-primary-white p-xl",children:[u.jsxs("div",{className:"text-center mb-xl",children:[u.jsxs(oe,{to:"/",className:"inline-flex items-center gap-3 mb-lg",children:[u.jsx(Nt,{className:"w-8 h-8"}),u.jsx("span",{className:"text-2xl font-light tracking-[0.2em] uppercase",children:"Arena"})]}),n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-semantic-success/10 rounded-full flex items-center justify-center mx-auto mb-md",children:u.jsx(Qx,{className:"w-8 h-8 text-semantic-success"})}),u.jsx("h1",{className:"text-h3 uppercase mb-2",children:"Check Your Email"}),u.jsxs("p",{className:"text-neutral-500 text-sm",children:["We've sent a password reset link to ",u.jsx("strong",{children:s})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-h2 uppercase mb-2",children:"Reset Password"}),u.jsx("p",{className:"text-neutral-500 text-sm",children:"Enter your email and we'll send you a reset link"})]})]}),n?u.jsxs("div",{className:"space-y-lg",children:[u.jsx("p",{className:"text-sm text-neutral-500 text-center",children:"Didn't receive the email? Check your spam folder or try again."}),u.jsx(de,{variant:"secondary",className:"w-full",onClick:()=>a(!1),children:"Try Another Email"}),u.jsx(oe,{to:"/login",className:"block",children:u.jsxs(de,{variant:"text",className:"w-full",children:[u.jsx(gf,{size:16}),"Back to Login"]})})]}):u.jsxs("form",{onSubmit:d,className:"space-y-lg",children:[u.jsx(nt,{label:"Email",type:"email",placeholder:"Enter your email",value:s,onChange:p=>r(p.target.value),required:!0}),u.jsx(de,{type:"submit",className:"w-full",isLoading:o,children:"Send Reset Link"}),u.jsx(oe,{to:"/login",className:"block",children:u.jsxs(de,{variant:"text",className:"w-full",children:[u.jsx(gf,{size:16}),"Back to Login"]})})]})]})})}function Ew(){const{initialize:s}=Kt(),{fetchTournaments:r}=dr();return I.useEffect(()=>{s(),r()},[s,r]),u.jsxs(Gv,{children:[u.jsx(_t,{path:"/",element:u.jsx(_f,{})}),u.jsx(_t,{path:"/login",element:u.jsx(jw,{})}),u.jsx(_t,{path:"/register",element:u.jsx(kw,{})}),u.jsx(_t,{path:"/forgot-password",element:u.jsx(Sw,{})}),u.jsx(_t,{path:"/tournament/:id",element:u.jsx(jf,{})}),u.jsx(_t,{path:"/dashboard",element:u.jsx(Fs,{children:u.jsx(yw,{})})}),u.jsx(_t,{path:"/profile",element:u.jsx(Fs,{children:u.jsx(kf,{})})}),u.jsx(_t,{path:"/profile/settings",element:u.jsx(Fs,{children:u.jsx(kf,{})})}),u.jsx(_t,{path:"/create-tournament",element:u.jsx(Fs,{children:u.jsx(bw,{})})}),u.jsx(_t,{path:"/tournament/:id/manage",element:u.jsx(Fs,{children:u.jsx(_w,{})})}),u.jsx(_t,{path:"/tournament/:id/matches",element:u.jsx(jf,{})}),u.jsx(_t,{path:"*",element:u.jsx(_f,{})})]})}rv.createRoot(document.getElementById("root")).render(u.jsx(Bn.StrictMode,{children:u.jsx(r0,{children:u.jsx(Ew,{})})}));
